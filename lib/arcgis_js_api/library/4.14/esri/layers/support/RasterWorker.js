// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/support/PixelBlock":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/compilerUtils ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d,g,b){var m=g.getLogger("esri.layers.support.PixelBlock");return function(a){function f(b){b=a.call(this,b)||this;b.width=null;b.height=null;b.pixelType="f32";b.validPixelCount=
null;b.mask=null;b.maskIsAlpha=!1;b.pixels=null;b.statistics=null;return b}n(f,a);g=f;f.createEmptyBand=function(a,b){return new (g.getPixelArrayConstructor(a))(b)};f.getPixelArrayConstructor=function(a){var b;switch(a){case "u1":case "u2":case "u4":case "u8":b=Uint8Array;break;case "u16":b=Uint16Array;break;case "u32":b=Uint32Array;break;case "s8":b=Int8Array;break;case "s16":b=Int16Array;break;case "s32":b=Int32Array;break;case "u32":b=Uint32Array;break;case "f32":b=Float32Array;break;case "f64":b=
Float64Array;break;case "c64":case "c128":case "unknown":b=Float32Array;break;default:l.neverReached(a)}return b};f.prototype.castPixelType=function(a){if(!a)return"f32";a=a.toLowerCase();-1<["u1","u2","u4"].indexOf(a)?a="u8":-1==="unknown u8 s8 u16 s16 u32 s32 f32 f64".split(" ").indexOf(a)&&(a="f32");return a};f.prototype.getPlaneCount=function(){return this.pixels&&this.pixels.length};f.prototype.addData=function(a){if(!a.pixels||a.pixels.length!==this.width*this.height)throw new h("pixelblock:invalid-or-missing-pixels",
"add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]);this.statistics||(this.statistics=[]);this.pixels.push(a.pixels);this.statistics.push(a.statistics||{minValue:null,maxValue:null})};f.prototype.getAsRGBA=function(){var a=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case "s8":case "s16":case "u16":case "s32":case "u32":case "f32":case "f64":this._fillFromNon8Bit(a);break;default:this._fillFrom8Bit(a)}return new Uint8ClampedArray(a)};
f.prototype.getAsRGBAFloat=function(){var a=new Float32Array(this.width*this.height*4);this._fillFrom32Bit(a);return a};f.prototype.updateStatistics=function(){var a=this;this.statistics=this.pixels.map(function(b){return a._calculateBandStatistics(b,a.mask)});var b=this.mask,d=0;if(b)for(var f=0;f<b.length;f++)b[f]&&d++;else d=this.width*this.height;this.validPixelCount=d};f.prototype.clamp=function(a){if(a&&"f64"!==a&&"f32"!==a){var b;switch(a){case "u8":b=[0,255];break;case "u16":b=[0,65535];break;
case "u32":b=[0,4294967295];break;case "s8":b=[-128,127];break;case "s16":b=[-32768,32767];break;case "s32":b=[-2147483648,2147483647];break;default:b=[-3.4*1E39,3.4*1E39]}var d=b[0];b=b[1];for(var f=this.pixels,m=this.width*this.height,e=f.length,p,q,c,k=[],v=0;v<e;v++){c=g.createEmptyBand(a,m);p=f[v];for(var l=0;l<m;l++)q=p[l],c[l]=q>b?b:q<d?d:q;k.push(c)}this.pixels=k;this.pixelType=a}};f.prototype.clone=function(){var a=new g({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,
validPixelCount:this.validPixelCount});this.mask&&(a.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));var b,f=g.getPixelArrayConstructor(this.pixelType);if(this.pixels&&0<this.pixels.length){a.pixels=[];var m=this.pixels[0].slice;for(b=0;b<this.pixels.length;b++)a.pixels[b]=m?this.pixels[b].slice(0,this.pixels[b].length):new f(this.pixels[b])}if(this.statistics)for(a.statistics=[],b=0;b<this.statistics.length;b++)a.statistics[b]=d.clone(this.statistics[b]);return a};
f.prototype._fillFrom8Bit=function(a){var b=this.mask,d=this.maskIsAlpha,f=this.pixels;if(a&&f&&f.length){var g,e,p;g=e=p=f[0];3<=f.length?(e=f[1],p=f[2]):2===f.length&&(e=f[1]);a=new Uint32Array(a);f=this.width*this.height;if(g.length!==f)m.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");else if(b&&b.length===f)if(d)for(d=0;d<f;d++)b[d]&&(a[d]=b[d]<<24|p[d]<<16|e[d]<<8|g[d]);else for(d=0;d<f;d++)b[d]&&(a[d]=-16777216|p[d]<<16|e[d]<<8|g[d]);else for(d=0;d<f;d++)a[d]=-16777216|
p[d]<<16|e[d]<<8|g[d]}else m.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFromNon8Bit=function(a){var b=this.pixels,d=this.mask,f=this.statistics;if(a&&b&&b.length){var g=this.pixelType,e=1,p=0,e=1;f&&0<f.length?(p=f.map(function(a){return a.minValue}).reduce(function(a,b){return Math.min(a,b)}),e=f.map(function(a){return a.maxValue-a.minValue}).reduce(function(a,b){return Math.max(a,b)}),e=255/e):(e=255,"s8"===g?(p=-128,e=127):"u16"===g?e=65535:
"s16"===g?(p=-32768,e=32767):"u32"===g?e=4294967295:"s32"===g?(p=-2147483648,e=2147483647):"f32"===g?(p=-3.4*1E39,e=3.4*1E39):"f64"===g&&(p=-Number.MAX_VALUE,e=Number.MAX_VALUE),e=255/(e-p));a=new Uint32Array(a);var g=this.width*this.height,q,c,f=q=c=b[0];if(f.length!==g)return m.error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(2<=b.length)if(q=b[1],3<=b.length&&(c=b[2]),d&&d.length===g)for(b=0;b<g;b++)d[b]&&(a[b]=-16777216|(c[b]-p)*e<<16|(q[b]-p)*e<<8|(f[b]-p)*e);else for(b=
0;b<g;b++)a[b]=-16777216|(c[b]-p)*e<<16|(q[b]-p)*e<<8|(f[b]-p)*e;else if(d&&d.length===g)for(b=0;b<g;b++)q=(f[b]-p)*e,d[b]&&(a[b]=-16777216|q<<16|q<<8|q);else for(b=0;b<g;b++)q=(f[b]-p)*e,a[b]=-16777216|q<<16|q<<8|q}else m.error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")};f.prototype._fillFrom32Bit=function(a){var b=this.pixels,d=this.mask;if(!a||!b||!b.length)return m.error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");var f,g,e;
f=g=e=b[0];3<=b.length?(g=b[1],e=b[2]):2===b.length&&(g=b[1]);var p=this.width*this.height;if(f.length!==p)return m.error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");var q=0;if(d&&d.length===p)for(b=0;b<p;b++)a[q++]=f[b],a[q++]=g[b],a[q++]=e[b],a[q++]=d[b]&1;else for(b=0;b<p;b++)a[q++]=f[b],a[q++]=g[b],a[q++]=e[b],a[q++]=1};f.prototype._calculateBandStatistics=function(a,b){var d=Infinity,f=-Infinity,g=a.length,m,e=0;if(b)for(m=0;m<g;m++)b[m]&&(e=a[m],d=e<d?e:d,f=e>
f?e:f);else for(m=0;m<g;m++)e=a[m],d=e<d?e:d,f=e>f?e:f;return{minValue:d,maxValue:f}};var g;e([b.property({json:{write:!0}})],f.prototype,"width",void 0);e([b.property({json:{write:!0}})],f.prototype,"height",void 0);e([b.property({json:{write:!0}})],f.prototype,"pixelType",void 0);e([b.cast("pixelType")],f.prototype,"castPixelType",null);e([b.property({json:{write:!0}})],f.prototype,"validPixelCount",void 0);e([b.property({json:{write:!0}})],f.prototype,"mask",void 0);e([b.property({json:{write:!0}})],
f.prototype,"maskIsAlpha",void 0);e([b.property({json:{write:!0}})],f.prototype,"pixels",void 0);e([b.property({json:{write:!0}})],f.prototype,"statistics",void 0);return f=g=e([b.subclass("esri.layers.support.PixelBlock")],f)}(b.declared(k.JSONSupport))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,c,n,
e,l,h,k,d,g){function b(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var d=new this;d.read(a,b);return d}function m(a){return a&&"read"in a&&"write"in a&&"toJSON"in a}Object.defineProperty(c,"__esModule",{value:!0});c.JSONSupportMixin=function(a){a=function(a){function f(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];return a.apply(this,b)||this}n(f,a);f.prototype.read=function(a,b){d.default(this,a,b)};f.prototype.write=function(a,b){return g.default(this,
a||{},b)};f.prototype.toJSON=function(a){return this.write(null,a)};f.fromJSON=function(a,d){return b.call(this,a,d)};return f=e([k.subclass("esri.core.JSONSupport")],f)}(k.declared(a));a.prototype.toJSON.isDefaultToJSON=!0;return a};c.isJSONSupport=m;h.after(function(a){for(var d=a.prototype;;){if(m(d)){a.fromJSON=b.bind(a);break}d=Object.getPrototypeOf(d);if(!d)break}});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=e([k.subclass("esri.core.JSONSupport")],
b)}(k.declared(c.JSONSupportMixin(l)));c.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,c,n,e,l,h){function k(a,b,m){void 0===m&&(m=d);if(b&&"object"===typeof b){for(var f=l.getProperties(a),g=f.metadatas,p={},q=0,c=Object.getOwnPropertyNames(b);q<c.length;q++){var k=p,t=g,r=c[q],B=b,x=m,n=h.originSpecificReadPropertyDefinition(t[r],x);n&&(!n.read||!1!==n.read.enabled&&
!n.read.source)&&(k[r]=!0);for(var A=0,y=Object.getOwnPropertyNames(t);A<y.length;A++){var C=y[A],n=h.originSpecificReadPropertyDefinition(t[C],x),z;a:{z=r;var D=B;if(n&&n.read&&!1!==n.read.enabled&&n.read.source)if(n=n.read.source,"string"===typeof n){if(n===z||-1<n.indexOf(".")&&0===n.indexOf(z)&&e.exists(n,D)){z=!0;break a}}else for(var E=0;E<n.length;E++){var H=n[E];if(H===z||-1<H.indexOf(".")&&0===H.indexOf(z)&&e.exists(H,D)){z=!0;break a}}z=!1}z&&(k[C]=!0)}}f.setDefaultOrigin(m.origin);c=0;
for(k=Object.getOwnPropertyNames(p);c<k.length;c++)q=k[c],r=(t=h.originSpecificReadPropertyDefinition(g[q],m).read)&&t.source,B=void 0,B=r&&"string"===typeof r?e.valueOf(b,r):b[q],t&&t.reader&&(B=t.reader.call(a,B,b,m)),void 0!==B&&f.set(q,B);if(!m||!m.ignoreDefaults)for(b=0,g=Object.getOwnPropertyNames(g);b<g.length;b++)q=g[b],p[q]||(c=a,k=f,t=m,r=(r=h.originSpecificPropertyDefinition(k.metadatas[q],"any",t))&&r.default,void 0!==r&&(c="function"===typeof r?r.call(c,q,t):r,void 0!==c&&k.set(q,c)));
f.setDefaultOrigin("user")}}Object.defineProperty(c,"__esModule",{value:!0});var d={origin:"service"};c.read=k;c.readLoadable=function(a,b,m,f){void 0===f&&(f=d);b=n({},f,{messages:[]});m(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?f&&f.messages.push(b):a.loadWarnings.push(b)})};c.default=k})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,c,n,
e,l,h,k,d){function g(a,b,d,g,c,k){if(!g||!g.write)return!1;var f=a.get(d);if(!c&&g.write.overridePolicy){var p=g.write.overridePolicy.call(a,f,d,k);void 0!==p&&(c=p)}c||(c=g.write);if(!c||!1===c.enabled)return!1;if((null===f&&!c.allowNull||void 0===f)&&c.isRequired)return(b=new e("web-document-write:property-required","Missing value for required property '"+d+"' on '"+a.declaredClass+"'",{propertyName:d,target:a}),k)&&k.messages?k.messages.push(b):b&&!k&&m.error(b.name,b.message),!1;if(void 0===
f||null===f&&!c.allowNull)return!1;p=g.default;void 0===p?f=!1:"function"===typeof p?Array.isArray(f)?(a=p.call(a,d,k),f=n.equals(a,f)):f=!1:f=p===f;return f?!1:void 0!==g.default?!0:!c.ignoreOrigin&&k&&k.origin&&b.store.originOf(d)<h.nameToId(k.origin)?!1:!0}function b(a,b,m){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return k.merge(b,a.toJSON());var f=k.getProperties(a),e=f.metadatas,p;for(p in e){var c=d.originSpecificWritePropertyDefinition(e[p],m);if(g(a,f,p,c,
null,m)){var r=a.get(p),l={};c.write.writer.call(a,r,l,"string"===typeof c.write.target?c.write.target:p,m);c=l;0<Object.keys(c).length&&(b=k.merge(b,c),m&&m.writtenProperties&&m.writtenProperties.push({target:a,propName:p,oldOrigin:h.idToReadableName(f.store.originOf(p)),newOrigin:m.origin}))}}return b}Object.defineProperty(c,"__esModule",{value:!0});var m=l.getLogger("esri.core.accessorSupport.write");c.willPropertyWrite=function(a,b,m,e){var f=k.getProperties(a),p=d.originSpecificWritePropertyDefinition(f.metadatas[b],
e);return p?g(a,f,b,p,m,e):!1};c.write=b;c.default=b})},"esri/layers/support/rasterFormats/RasterCodec":function(){define("require exports ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../core/tsSupport/assignHelper ../../../core/Error ../PixelBlock ./ImageCanvasDecoder ./JpgPlus ./Lerc2Codec ./LercCodec ./Png ./Raw ./TiffDecoder".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){function q(a,b){if(!y)throw new h("rasterCoded:decode","lerc decoder is not supported on big endian platform");
var d=b.width,f=b.height,g=b.pixelType,e=A(g),p=e.pixelTypeCtor;b=null==b.noDataValue?e.noDataValue:b.noDataValue;for(var e=0,c,q=0,r,l=a.byteLength-10;q<l;){var v=m.decode(a,{inputOffset:q,encodedMaskData:c,returnMask:0===e?!0:!1,returnEncodedMask:0===e?!0:!1,returnFileInfo:!0,pixelType:p,noDataValue:b});if(d&&f&&(v.width!==d||v.height!==f))throw new h("rasterCoded:decode","lerc decoded result has width or height different from specified in options");q=v.fileInfo.eofOffset;0===e&&(c=v.encodedMaskData,
r=new k({width:v.width,height:v.height,pixels:[],pixelType:g,mask:v.maskData,statistics:[]}));e++;r.addData({pixels:v.pixelData,statistics:{minValue:v.minValue,maxValue:v.maxValue,noDataValue:v.noDataValue}});10<l-q&&(v=String.fromCharCode.apply(null,new Uint8Array(a,q,10)),q=-1<q+v.indexOf("CntZ")?v.indexOf("CntZ"):0)}return r}function w(a,d){if(!y)throw new h("rasterCoded:decode","lerc decoder is not supported on big endian platform");var f=0,m=0,g=0,e,p,c,q=a.byteLength-10,r=[],l=d.width;for(d=
d.height;m<q;){p=b.decode(a,{inputOffset:m,maskData:e,returnFileInfo:!0});if(l&&d&&(p.width!==l||p.height!==d))throw new h("rasterCoded:decode","lerc2 decoded result has width or height different from what's specified in options");m=p.fileInfo.eofOffset;0===f&&(g=p.fileInfo.numValidPixel,e=p.maskData,c=new k({width:p.width,height:p.height,pixels:[],pixelType:p.fileInfo.pixelType,mask:p.maskData,statistics:[]}));p.fileInfo.mask&&0<p.fileInfo.mask.numBytes&&r.push(p.maskData);f++;c.addData({pixels:p.pixelData,
statistics:{minValue:p.minValue,maxValue:p.maxValue}});10<q-m&&(p=String.fromCharCode.apply(null,new Uint8Array(a,m,10)),m+=-1<p.indexOf("Lerc")?p.indexOf("Lerc"):0)}m=f=a=0;if(1<r.length){m=c.width*c.height;e=new Uint8Array(m);e.set(r[0]);for(a=1;a<r.length;a++)for(g=r[a],f=0;f<m;f++)e[f]&=g[f];for(f=g=0;f<m;f++)g+=e[f];c.mask=e}c.validPixelCount=g;return c}function u(a){a=p.decode(a);a=new k({width:a.width,height:a.height,pixels:a.pixels,pixelType:a.pixelType.toLowerCase(),mask:a.mask,statistics:null});
a.updateStatistics();return a}function t(a){a=g.decode(a);a=new k({width:a.width,height:a.height,pixels:a.pixels,pixelType:"U8",mask:a.mask,statistics:null});a.updateStatistics();return a}function r(a,b){a=new Uint8Array(a);var d=new f(a);a=b.width;var m=b.height;b=a*m;for(var d=d.decode(),g=0,e=0,e=new Uint8Array(b),g=0;g<b;g++)e[g]=d[4*g+3];m=new k({width:a,height:m,pixels:[],pixelType:"U8",mask:e,statistics:[]});for(g=0;3>g;g++){a=new Uint8Array(b);for(e=0;e<b;e++)a[e]=d[4*e+g];m.addData({pixels:a})}m.updateStatistics();
return m}function B(a,b,f){return e(this,void 0,void 0,function(){var m,g,e,p;return n(this,function(c){switch(c.label){case 0:return m=new d,g=l({applyJpegMask:!1},b),[4,m.decode(a,g,f)];case 1:return e=c.sent(),p=new k(e),p.updateStatistics(),[2,p]}})})}function x(a){if(null==a)throw new h("rasterCodec:decode","parameter encodeddata is required.");a=new Uint8Array(a,0,10);var b="";255===a[0]&&216===a[1]?b="jpg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]?b="png":67===a[0]&&110===a[1]&&116===a[2]&&
90===a[3]&&73===a[4]&&109===a[5]&&97===a[6]&&103===a[7]&&101===a[8]&&32===a[9]?b="lerc":76===a[0]&&101===a[1]&&114===a[2]&&99===a[3]&&50===a[4]&&32===a[5]?b="lerc2":73===a[0]&&73===a[1]&&42===a[2]&&0===a[3]||77===a[0]&&77===a[1]&&0===a[2]&&42===a[3]?b="tiff":-1<String.fromCharCode.apply(null,a).toLowerCase().indexOf("error")&&(b="error");return b}function G(a){var b=null;switch(a){case "lerc":b=q;break;case "lerc2":b=w;break;case "jpg":b=t;break;case "png":b=r;break;case "bsq":case "bip":b=function(b,
d){var f=A(d.pixelType).pixelTypeCtor,m=v.decode;b=m(b,{width:d.width,height:d.height,pixelType:f,format:a});d=new k({width:d.width,height:d.height,pixels:b.pixels,pixelType:d.pixelType,mask:b.mask,statistics:null});d.updateStatistics();return d};break;case "tiff":b=u;break;case "error":b=function(){throw new h("rasterCodec:decode","input data contains error");};break;default:b=function(){throw new h("rasterCodec:decode","unsupported raster format");}}return b}function A(a){var b=null,d=null;switch(a?
a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":d=Math.pow(2,8)-1;b=Uint8Array;break;case "u16":d=d||Math.pow(2,16)-1;b=Uint16Array;break;case "u32":d=d||Math.pow(2,32)-1;b=Uint32Array;break;case "s8":d=d||0-Math.pow(2,7);b=Int8Array;break;case "s16":d=d||0-Math.pow(2,15);b=Int16Array;break;case "s32":d=d||0-Math.pow(2,31);b=Int32Array;break;default:b=Float32Array}return{pixelTypeCtor:b,noDataValue:d}}var y=function(){var a=new ArrayBuffer(4),b=new Uint8Array(a);(new Uint32Array(a))[0]=
1;return 1===b[0]}();return function(){function a(){}a.getFormat=function(a){a=x(a);"lerc2"===a?a="lerc":"error"===a&&(a="");return a};a.decode=function(a,b,d){return e(this,void 0,void 0,function(){var f,m,g;return n(this,function(e){switch(e.label){case 0:if(null==a)throw new h("rasterCodec:decode","missing encodeddata parameter.");if(null==b||null==b.width||null==b.height)throw new h("rasterCodec:decode","requires width and height in options parameter.");f=b.format&&b.format.toLowerCase();if("tiff"===
f&&b.customOptions)return e=p.decodeTileOrStrip(a,b.customOptions),e=new k({width:e.width,height:e.height,pixels:e.pixels,pixelType:e.pixelType.toLowerCase(),mask:e.mask,statistics:null}),e.updateStatistics(),[2,e];if(!f||"bsq"!==f&&"bip"!==f)f=x(a);return!b.useCanvas||"jpg"!==f&&"png"!==f?[3,2]:[4,B(a,b,d)];case 1:return g=e.sent(),[3,3];case 2:m=G(f);b.isPoint&&(b=l({},b),b.width++,b.height++);g=m(a,b);if(b.isPoint){var c=g,q=void 0;void 0===q&&(q=1);if(c){var r=c.pixels,v=c.width,w=c.mask;if(r&&
0!==r.length){var u=r.length,t=v-1,C=c.height-1,A=[],y,n,E,D,F,z,J=k.getPixelArrayConstructor(c.pixelType);if(0===q){for(q=0;q<u;q++){D=r[q];F=new J(t*C);for(y=0;y<C;y++)for(E=y*v,n=0;n<t;n++)F[y*t+n]=D[E+n];A.push(F)}if(w)for(z=new Uint8Array(t*C),y=0;y<C;y++)for(E=y*v,n=0;n<t;n++)z[y*t+n]=w[E+n]}else{for(q=0;q<u;q++){D=r[q];F=new J(t*C);for(y=0;y<C;y++)for(E=y*v,n=0;n<t;n++)F[y*t+n]=(D[E+n]+D[E+n+1]+D[E+v+n]+D[E+v+n+1])/4;A.push(F)}if(w)for(z=new Uint8Array(t*C),y=0;y<C;y++)for(E=y*v,n=0;n<t;n++)z[y*
t+n]=Math.min.apply(null,[w[E+n],w[E+n+1],w[E+v+n],w[E+v+n+1]])}c.width=t;c.height=C;c.mask=z;c.pixels=A}}}e.label=3;case 3:return[2,g]}})})};return a}()})},"esri/layers/support/rasterFormats/ImageCanvasDecoder":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../core/promiseUtils ./Zlib".split(" "),function(a,c,n,e,l,h){return function(){function a(a){a&&(this.canvas=a.canvas,this.ctx=a.ctx||a.canvas&&a.canvas.getContext("2d"))}a.getFormat=function(a){if(!a||
10>a.byteLength)return"";a=new Uint8Array(a,0,10);var d="";255===a[0]&&216===a[1]?d="jpeg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]&&(d="png");return d};a.prototype.decode=function(d,g,b){var m=this;if(!d||10>d.byteLength)throw new n("imagecanvasdecoder: decode","required a valid encoded data as input.");var f=a.getFormat(d);if(""===f)throw new n("imagecanvasdecoder: decode","encoded data format is not a supported format (jpeg or png).");var c=g.width,p=g.height,q=g.applyJpegMask;if(q&&(!c||!p))throw new n("imagecanvasdecoder: decode",
"image width and height are needed to apply jpeg mask directly to canvas");return e.create(function(k,v){var w=null;"jpeg"===f&&q&&(w=a.getMask(d,g));var r=new Blob([new Uint8Array(d)],{type:"image/"+f}),u=URL.createObjectURL(r),h=new Image,n;h.src=u;h.onload=function(){URL.revokeObjectURL(u);if(e.isAborted(b))v(l.createAbortError());else{c=h.width;p=h.height;if(m.canvas){if(m.canvas.width!==c||m.canvas.height!==p)m.canvas.width=c,m.canvas.height=p;m.ctx.clearRect(0,0,c,p)}else m.canvas=document.createElement("canvas"),
m.canvas.width=c,m.canvas.height=p,m.ctx=m.canvas.getContext("2d");m.ctx.drawImage(h,0,0);var a=m.ctx.getImageData(0,0,c,p);n=a.data;var d;if(g.renderOnCanvas){if(w)for(d=0;d<w.length;d++)n[4*d+3]=w[d]?255:0;m.ctx.putImageData(a,0,0);k(null)}else{var a=c*p,f=new Uint8Array(a),q=new Uint8Array(a),r=new Uint8Array(a);if(w)for(d=0;d<a;d++)f[d]=n[4*d],q[d]=n[4*d+1],r[d]=n[4*d+2];else for(w=new Uint8Array(a),d=0;d<a;d++)f[d]=n[4*d],q[d]=n[4*d+1],r[d]=n[4*d+2],w[d]=n[4*d+3];k({width:c,height:p,pixels:[f,
q,r],mask:w,pixelType:"u8"})}}};h.onerror=function(){URL.revokeObjectURL(u);v("cannot load image")}})};a.getMask=function(a,g){var b=null;try{var d=new Uint8Array(a);a=0;var f=d.length-2;for(a=Math.ceil(d.length/2);a<f&&(255!==d[a]||217!==d[a+1]);a++);a+=2;if(a<d.length-1)for(var e=(new h(d.subarray(a))).getBytes(),b=new Uint8Array(g.width*g.height),d=g=0;d<e.length;d++)for(f=7;0<=f;f--)b[g++]=e[d]>>f&1}catch(p){}return b};return a}()})},"esri/layers/support/rasterFormats/Zlib":function(){define([],
function(){var a=function(){function a(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}a.prototype={ensureBuffer:function(a){var e=this.buffer,c=e?e.byteLength:0;if(a<c)return e;for(var h=512;h<a;)h<<=1;a=new Uint8Array(h);for(h=0;h<c;++h)a[h]=e[h];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var e=this.pos;if(a){this.ensureBuffer(e+a);for(a=e+a;!this.eof&&
this.bufferLength<a;)this.readBlock();var c=this.bufferLength;a>c&&(a=c)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}this.pos=a;return this.buffer.subarray(e,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,
e,c){for(var l=a+e;this.bufferLength<=l&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,e,c)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}};return a}();return function(){function c(a){throw Error(a);}function n(d){var b=0,m=d[b++],f=d[b++];-1!=m&&-1!=f||c("Invalid header in flate stream");8!=(m&15)&&c("Unknown compression method in flate stream");0!=((m<<8)+f)%31&&c("Bad FCHECK in flate stream");f&32&&c("FDICT bit set in flate stream");this.bytes=d;this.bytesPos=
b;this.codeBuf=this.codeSize=0;a.call(this)}if(!self||!self.Uint32Array)return null;var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),h=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,
724993,727041,794625,798721,868353,876545]),k=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,
590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,
590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,
590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,
590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,
590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,
590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,
590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],d=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];n.prototype=Object.create(a.prototype);n.prototype.getBits=function(a){for(var b=this.codeSize,d=this.codeBuf,f=this.bytes,g=this.bytesPos,
e;b<a;)"undefined"==typeof(e=f[g++])&&c("Bad encoding in flate stream"),d|=e<<b,b+=8;this.codeBuf=d>>a;this.codeSize=b-=a;this.bytesPos=g;return d&(1<<a)-1};n.prototype.getCode=function(a){var b=a[0],d=a[1];a=this.codeSize;for(var f=this.codeBuf,g=this.bytes,e=this.bytesPos;a<d;){var q;"undefined"==typeof(q=g[e++])&&c("Bad encoding in flate stream");f|=q<<a;a+=8}d=b[f&(1<<d)-1];b=d>>16;d&=65535;(0==a||a<b||0==b)&&c("Bad encoding in flate stream");this.codeBuf=f>>b;this.codeSize=a-b;this.bytesPos=
e;return d};n.prototype.generateHuffmanTable=function(a){for(var b=a.length,d=0,f=0;f<b;++f)a[f]>d&&(d=a[f]);for(var g=1<<d,e=new Uint32Array(g),c=1,k=0,l=2;c<=d;++c,k<<=1,l<<=1)for(var h=0;h<b;++h)if(a[h]==c){for(var r=0,B=k,f=0;f<c;++f)r=r<<1|B&1,B>>=1;for(f=r;f<g;f+=l)e[f]=c<<16|h;++k}return[e,d]};n.prototype.readBlock=function(){function a(a,b,d,f,m){for(a=a.getBits(d)+f;0<a--;)b[w++]=m}var b=this.getBits(3);b&1&&(this.eof=!0);b>>=1;if(0==b){var m=this.bytes,f=this.bytesPos,v;"undefined"==typeof(v=
m[f++])&&c("Bad block header in flate stream");var p=v;"undefined"==typeof(v=m[f++])&&c("Bad block header in flate stream");p|=v<<8;"undefined"==typeof(v=m[f++])&&c("Bad block header in flate stream");b=v;"undefined"==typeof(v=m[f++])&&c("Bad block header in flate stream");(b|v<<8)!=(~p&65535)&&c("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;v=this.bufferLength;b=this.ensureBuffer(v+p);this.bufferLength=p=v+p;for(var q=v;q<p;++q){if("undefined"==typeof(v=m[f++])){this.eof=
!0;break}b[q]=v}this.bytesPos=f}else{if(1==b)f=k,v=d;else if(2==b){b=this.getBits(5)+257;v=this.getBits(5)+1;for(var m=this.getBits(4)+4,f=Array(e.length),w=0;w<m;)f[e[w++]]=this.getBits(3);f=this.generateHuffmanTable(f);w=m=0;v=b+v;for(p=Array(v);w<v;)q=this.getCode(f),16==q?a(this,p,2,3,m):17==q?a(this,p,3,3,m=0):18==q?a(this,p,7,11,m=0):p[w++]=m=q;f=this.generateHuffmanTable(p.slice(0,b));v=this.generateHuffmanTable(p.slice(b,v))}else c("Unknown block type in flate stream");p=(b=this.buffer)?b.length:
0;for(q=this.bufferLength;;){var u=this.getCode(f);if(256>u)q+1>=p&&(b=this.ensureBuffer(q+1),p=b.length),b[q++]=u;else{if(256==u){this.bufferLength=q;break}var u=u-257,u=l[u],t=u>>16;0<t&&(t=this.getBits(t));m=(u&65535)+t;u=this.getCode(v);u=h[u];t=u>>16;0<t&&(t=this.getBits(t));u=(u&65535)+t;q+m>=p&&(b=this.ensureBuffer(q+m),p=b.length);for(t=0;t<m;++t,++q)b[q]=b[q-u]}}}};return n}()})},"esri/layers/support/rasterFormats/JpgPlus":function(){define(["require","exports","./Jpg","./Zlib"],function(a,
c,n,e){return function(){function a(){}a.decode=function(a){var c=new Uint8Array(a),d=new n;d.parse(c);a=d.width;var g=d.height,b=d.numComponents,m=d.eof,d=d.getData(a,g,!0),f,l=a*g,p=0,q=0,w=0;if(m<c.length-1)for(c=(new e(c.subarray(m))).getBytes(),f=new Uint8Array(l),p=m=0;p<c.length;p++)for(w=7;0<=w;w--)f[m++]=c[p]>>w&1;c=null;if(1===b)c=[d,d,d];else{c=[];for(p=0;3>p;p++)b=new Uint8Array(l),c.push(b);for(q=w=0;q<l;q++)for(p=0;3>p;p++)c[p][q]=d[w++]}return{width:a,height:g,pixels:c,mask:f}};return a}()})},
"esri/layers/support/rasterFormats/Jpg":function(){define([],function(){var a=function(){function a(a){this.message="JPEG error: "+a}a.prototype=Error();a.prototype.name="JpegError";return a.constructor=a}();return function(){function c(){this.decodeTransform=null;this.colorTransform=-1}function n(a,g){for(var b=0,d=[],f,e,p=16;0<p&&!a[p-1];)p--;d.push({children:[],index:0});var c=d[0],k;for(f=0;f<p;f++){for(e=0;e<a[f];e++){c=d.pop();for(c.children[c.index]=g[b];0<c.index;)c=d.pop();c.index++;for(d.push(c);d.length<=
f;)d.push(k={children:[],index:0}),c.children[c.index]=k.children,c=k;b++}f+1<p&&(d.push(k={children:[],index:0}),c.children[c.index]=k.children,c=k)}return d[0].children}function e(d,g,b,m,f,e,p,c,l){function q(){if(0<H)return H--,E>>H&1;E=d[g++];if(255===E){var b=d[g++];if(b)throw new a("unexpected marker "+(E<<8|b).toString(16));}H=7;return E>>>7}function v(b){for(;;){b=b[q()];if("number"===typeof b)return b;if("object"!==typeof b)throw new a("invalid huffman sequence");}}function r(a){for(var b=
0;0<a;)b=b<<1|q(),a--;return b}function w(a){if(1===a)return 1===q()?1:-1;var b=r(a);return b>=1<<a-1?b:b+(-1<<a)+1}function x(a,b){var d=v(a.huffmanTableDC),d=0===d?0:w(d);a.blockData[b]=a.pred+=d;for(d=1;64>d;){var f=v(a.huffmanTableAC),g=f&15,f=f>>4;if(0===g){if(15>f)break;d+=16}else d+=f,a.blockData[b+k[d]]=w(g),d++}}function n(a,b){var d=v(a.huffmanTableDC),d=0===d?0:w(d)<<l;a.blockData[b]=a.pred+=d}function A(a,b){a.blockData[b]|=q()<<l}function y(a,b){if(0<F)F--;else for(var d=e;d<=p;){var f=
v(a.huffmanTableAC),g=f&15,f=f>>4;if(0===g){if(15>f){F=r(f)+(1<<f)-1;break}d+=16}else d+=f,a.blockData[b+k[d]]=w(g)*(1<<l),d++}}function C(b,d){for(var f=e,g=0,m;f<=p;){m=k[f];switch(J){case 0:g=v(b.huffmanTableAC);m=g&15;g>>=4;if(0===m)15>g?(F=r(g)+(1<<g),J=4):(g=16,J=1);else{if(1!==m)throw new a("invalid ACn encoding");L=w(m);J=g?2:3}continue;case 1:case 2:b.blockData[d+m]?b.blockData[d+m]+=q()<<l:(g--,0===g&&(J=2===J?3:0));break;case 3:b.blockData[d+m]?b.blockData[d+m]+=q()<<l:(b.blockData[d+m]=
L<<l,J=0);break;case 4:b.blockData[d+m]&&(b.blockData[d+m]+=q()<<l)}f++}4===J&&(F--,0===F&&(J=0))}var z=b.mcusPerLine,D=g,E=0,H=0,F=0,J=0,L,M=m.length,I,K,N,O,V;c=b.progressive?0===e?0===c?n:A:0===c?y:C:x;var R=0;b=1===M?m[0].blocksPerLine*m[0].blocksPerColumn:z*b.mcusPerColumn;for(var X,S;R<b;){var Q=f?Math.min(b-R,f):b;for(K=0;K<M;K++)m[K].pred=0;F=0;if(1===M)for(I=m[0],V=0;V<Q;V++)c(I,64*((I.blocksPerLine+1)*(R/I.blocksPerLine|0)+R%I.blocksPerLine)),R++;else for(V=0;V<Q;V++){for(K=0;K<M;K++)for(I=
m[K],X=I.h,S=I.v,N=0;N<S;N++)for(O=0;O<X;O++)c(I,64*((I.blocksPerLine+1)*((R/z|0)*I.v+N)+(R%z*I.h+O)));R++}H=0;(I=h(d,g))&&I.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+I.invalid),g=I.offset);I=I&&I.marker;if(!I||65280>=I)throw new a("marker was not found");if(65488<=I&&65495>=I)g+=2;else break}(I=h(d,g))&&I.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+I.invalid),g=I.offset);return g-D}function l(d,g){d=g.blocksPerLine;for(var b=g.blocksPerColumn,
m=new Int16Array(64),f=0;f<b;f++)for(var e=0;e<d;e++){var p=64*((g.blocksPerLine+1)*f+e),c=m,k=g.quantizationTable,l=g.blockData,h=void 0,r=void 0,B=void 0,x=void 0,n=void 0,A=void 0,y=void 0,C=void 0,z=void 0,D=C=void 0,E=y=r=A=void 0,H=void 0,z=void 0;if(!k)throw new a("missing required Quantization Table.");for(var F=0;64>F;F+=8)z=l[p+F],C=l[p+F+1],D=l[p+F+2],A=l[p+F+3],r=l[p+F+4],y=l[p+F+5],E=l[p+F+6],H=l[p+F+7],z*=k[F],0===(C|D|A|r|y|E|H)?(z=5793*z+512>>10,c[F]=z,c[F+1]=z,c[F+2]=z,c[F+3]=z,c[F+
4]=z,c[F+5]=z,c[F+6]=z,c[F+7]=z):(C*=k[F+1],D*=k[F+2],A*=k[F+3],r*=k[F+4],y*=k[F+5],E*=k[F+6],H*=k[F+7],h=5793*z+128>>8,r=5793*r+128>>8,B=D,x=E,n=2896*(C-H)+128>>8,C=2896*(C+H)+128>>8,A<<=4,y<<=4,h=h+r+1>>1,r=h-r,z=3784*B+1567*x+128>>8,B=1567*B-3784*x+128>>8,x=z,n=n+y+1>>1,y=n-y,C=C+A+1>>1,A=C-A,h=h+x+1>>1,x=h-x,r=r+B+1>>1,B=r-B,z=2276*n+3406*C+2048>>12,n=3406*n-2276*C+2048>>12,C=z,z=799*A+4017*y+2048>>12,A=4017*A-799*y+2048>>12,y=z,c[F]=h+C,c[F+7]=h-C,c[F+1]=r+y,c[F+6]=r-y,c[F+2]=B+A,c[F+5]=B-A,
c[F+3]=x+n,c[F+4]=x-n);for(k=0;8>k;++k)z=c[k],C=c[k+8],D=c[k+16],A=c[k+24],r=c[k+32],y=c[k+40],E=c[k+48],H=c[k+56],0===(C|D|A|r|y|E|H)?(z=5793*z+8192>>14,z=-2040>z?0:2024<=z?255:z+2056>>4,l[p+k]=z,l[p+k+8]=z,l[p+k+16]=z,l[p+k+24]=z,l[p+k+32]=z,l[p+k+40]=z,l[p+k+48]=z,l[p+k+56]=z):(h=5793*z+2048>>12,r=5793*r+2048>>12,B=D,x=E,n=2896*(C-H)+2048>>12,C=2896*(C+H)+2048>>12,h=(h+r+1>>1)+4112,r=h-r,z=3784*B+1567*x+2048>>12,B=1567*B-3784*x+2048>>12,x=z,n=n+y+1>>1,y=n-y,C=C+A+1>>1,A=C-A,h=h+x+1>>1,x=h-x,r=
r+B+1>>1,B=r-B,z=2276*n+3406*C+2048>>12,n=3406*n-2276*C+2048>>12,C=z,z=799*A+4017*y+2048>>12,A=4017*A-799*y+2048>>12,y=z,z=h+C,H=h-C,C=r+y,E=r-y,D=B+A,y=B-A,A=x+n,r=x-n,z=16>z?0:4080<=z?255:z>>4,C=16>C?0:4080<=C?255:C>>4,D=16>D?0:4080<=D?255:D>>4,A=16>A?0:4080<=A?255:A>>4,r=16>r?0:4080<=r?255:r>>4,y=16>y?0:4080<=y?255:y>>4,E=16>E?0:4080<=E?255:E>>4,H=16>H?0:4080<=H?255:H>>4,l[p+k]=z,l[p+k+8]=C,l[p+k+16]=D,l[p+k+24]=A,l[p+k+32]=r,l[p+k+40]=y,l[p+k+48]=E,l[p+k+56]=H)}return g.blockData}function h(a,
g,b){var d=a.length-1;b=b<g?b:g;if(g>=d)return null;var f=a[g]<<8|a[g+1];if(65472<=f&&65534>=f)return{invalid:null,marker:f,offset:g};for(g=a[b]<<8|a[b+1];!(65472<=g&&65534>=g);){if(++b>=d)return null;g=a[b]<<8|a[b+1]}return{invalid:f.toString(16),marker:g,offset:b}}if(!self||!self.Uint8ClampedArray)return null;var k=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,
54,47,55,62,63]);c.prototype={parse:function(d){function g(){var a=d[f]<<8|d[f+1];f+=2;return a}function b(){var a=g(),a=f+a-2,b=h(d,a,f);b&&b.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+b.invalid),a=b.offset);a=d.subarray(f,a);f+=a.length;return a}function m(a){for(var b=Math.ceil(a.samplesPerLine/8/a.maxH),d=Math.ceil(a.scanLines/8/a.maxV),f=0;f<a.components.length;f++){D=a.components[f];var g=Math.ceil(Math.ceil(a.samplesPerLine/8)*D.h/a.maxH),m=Math.ceil(Math.ceil(a.scanLines/
8)*D.v/a.maxV);D.blockData=new Int16Array(64*d*D.v*(b*D.h+1));D.blocksPerLine=g;D.blocksPerColumn=m}a.mcusPerLine=b;a.mcusPerColumn=d}var f=0,c=null,p=null,q,w,u=[],t=[],r=[],B=g();if(65496!==B)throw new a("SOI not found");for(B=g();65497!==B;){var x,G;switch(B){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:x=b();65504===B&&74===x[0]&&70===x[1]&&73===x[2]&&70===
x[3]&&0===x[4]&&(c={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])});65518===B&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&(p={version:x[5]<<8|x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var B=g()+f-2,A;f<B;){var y=d[f++],C=new Uint16Array(64);if(0===y>>4)for(x=0;64>x;x++)A=k[x],C[A]=d[f++];else if(1===y>>4)for(x=
0;64>x;x++)A=k[x],C[A]=g();else throw new a("DQT - invalid table spec");u[y&15]=C}break;case 65472:case 65473:case 65474:if(q)throw new a("Only single frame JPEGs supported");g();q={};q.extended=65473===B;q.progressive=65474===B;q.precision=d[f++];q.scanLines=g();q.samplesPerLine=g();q.components=[];q.componentIds={};x=d[f++];for(B=C=y=0;B<x;B++){A=d[f];G=d[f+1]>>4;var z=d[f+1]&15;y<G&&(y=G);C<z&&(C=z);G=q.components.push({h:G,v:z,quantizationId:d[f+2],quantizationTable:null});q.componentIds[A]=G-
1;f+=3}q.maxH=y;q.maxV=C;m(q);break;case 65476:A=g();for(B=2;B<A;){y=d[f++];C=new Uint8Array(16);for(x=G=0;16>x;x++,f++)G+=C[x]=d[f];z=new Uint8Array(G);for(x=0;x<G;x++,f++)z[x]=d[f];B+=17+G;(0===y>>4?r:t)[y&15]=n(C,z)}break;case 65501:g();w=g();break;case 65498:g();A=d[f++];x=[];for(var D,B=0;B<A;B++)y=q.componentIds[d[f++]],D=q.components[y],y=d[f++],D.huffmanTableDC=r[y>>4],D.huffmanTableAC=t[y&15],x.push(D);B=d[f++];A=d[f++];y=d[f++];B=e(d,f,q,x,w,B,A,y>>4,y&15);f+=B;break;case 65535:255!==d[f]&&
f--;break;default:if(255===d[f-3]&&192<=d[f-2]&&254>=d[f-2])f-=3;else throw new a("unknown marker "+B.toString(16));}B=g()}this.width=q.samplesPerLine;this.height=q.scanLines;this.jfif=c;this.eof=f;this.adobe=p;this.components=[];for(B=0;B<q.components.length;B++){D=q.components[B];if(c=u[D.quantizationId])D.quantizationTable=c;this.components.push({output:l(q,D),scaleX:D.h/q.maxH,scaleY:D.v/q.maxV,blocksPerLine:D.blocksPerLine,blocksPerColumn:D.blocksPerColumn})}this.numComponents=this.components.length},
_getLinearizedBlockData:function(a,g){var b=this.width/a,d=this.height/g,f,e,p,c,k,l,h=0,r,B=this.components.length,x=a*g*B,n=new Uint8ClampedArray(x),A=new Uint32Array(a);for(l=0;l<B;l++){f=this.components[l];e=f.scaleX*b;p=f.scaleY*d;h=l;r=f.output;c=f.blocksPerLine+1<<3;for(k=0;k<a;k++)f=0|k*e,A[k]=(f&4294967288)<<3|f&7;for(e=0;e<g;e++)for(f=0|e*p,f=c*(f&4294967288)|(f&7)<<3,k=0;k<a;k++)n[h]=r[f+A[k]],h+=B}if(g=this.decodeTransform)for(l=0;l<x;)for(a=f=0;f<B;f++,l++,a+=2)n[l]=(n[l]*g[a]>>8)+g[a+
1];return n},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0===this.colorTransform?!1:!0:1===this.colorTransform?!0:!1},_convertYccToRgb:function(a){for(var d,b,m,f=0,e=a.length;f<e;f+=3)d=a[f],b=a[f+1],m=a[f+2],a[f]=d-179.456+1.402*m,a[f+1]=d+135.459-.344*b-.714*m,a[f+2]=d-226.816+1.772*b;return a},_convertYcckToRgb:function(a){for(var d,b,m,f,e=0,p=0,c=a.length;p<c;p+=4)d=a[p],b=a[p+1],m=a[p+2],f=a[p+3],a[e++]=-122.67195406894+b*(-6.60635669420364E-5*
b+4.37130475926232E-4*m-5.4080610064599E-5*d+4.8449797120281E-4*f-.154362151871126)+m*(-9.57964378445773E-4*m+8.17076911346625E-4*d-.00477271405408747*f+1.53380253221734)+d*(9.61250184130688E-4*d-.00266257332283933*f+.48357088451265)+f*(-3.36197177618394E-4*f+.484791561490776),a[e++]=107.268039397724+b*(2.19927104525741E-5*b-6.40992018297945E-4*m+6.59397001245577E-4*d+4.26105652938837E-4*f-.176491792462875)+m*(-7.78269941513683E-4*m+.00130872261408275*d+7.70482631801132E-4*f-.151051492775562)+d*(.00126935368114843*
d-.00265090189010898*f+.25802910206845)+f*(-3.18913117588328E-4*f-.213742400323665),a[e++]=-20.810012546947+b*(-5.70115196973677E-4*b-2.63409051004589E-5*m+.0020741088115012*d-.00288260236853442*f+.814272968359295)+m*(-1.53496057440975E-5*m-1.32689043961446E-4*d+5.60833691242812E-4*f-.195152027534049)+d*(.00174418132927582*d-.00255243321439347*f+.116935020465145)+f*(-3.43531996510555E-4*f+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var d,b,m,f=0,e=a.length;f<e;f+=4)d=a[f],b=a[f+
1],m=a[f+2],a[f]=434.456-d-1.402*m,a[f+1]=119.541-d+.344*b+.714*m,a[f+2]=481.816-d-1.772*b;return a},_convertCmykToRgb:function(a){for(var d,b,m,f,e=0,p=1/255,c=0,k=a.length;c<k;c+=4)d=a[c]*p,b=a[c+1]*p,m=a[c+2]*p,f=a[c+3]*p,a[e++]=255+d*(-4.387332384609988*d+54.48615194189176*b+18.82290502165302*m+212.25662451639585*f-285.2331026137004)+b*(1.7149763477362134*b-5.6096736904047315*m-17.873870861415444*f-5.497006427196366)+m*(-2.5217340131683033*m-21.248923337353073*f+17.5119270841813)-f*(21.86122147463605*
f+189.48180835922747),a[e++]=255+d*(8.841041422036149*d+60.118027045597366*b+6.871425592049007*m+31.159100130055922*f-79.2970844816548)+b*(-15.310361306967817*b+17.575251261109482*m+131.35250912493976*f-190.9453302588951)+m*(4.444339102852739*m+9.8632861493405*f-24.86741582555878)-f*(20.737325471181034*f+187.80453709719578),a[e++]=255+d*(.8842522430003296*d+8.078677503112928*b+30.89978309703729*m-.23883238689178934*f-14.183576799673286)+b*(10.49593273432072*b+63.02378494754052*m+50.606957656360734*
f-112.23884253719248)+m*(.03296041114873217*m+115.60384449646641*f-193.58209356861505)-f*(22.33816807309886*f+180.12613974708367);return a},getData:function(d,e,b){if(4<this.numComponents)throw new a("Unsupported color mode");d=this._getLinearizedBlockData(d,e);if(1===this.numComponents&&b){b=d.length;e=new Uint8ClampedArray(3*b);for(var m=0,f=0;f<b;f++){var g=d[f];e[m++]=g;e[m++]=g;e[m++]=g}return e}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(d);if(4===
this.numComponents){if(this._isColorConversionNeeded())return b?this._convertYcckToRgb(d):this._convertYcckToCmyk(d);if(b)return this._convertCmykToRgb(d)}return d}};return c}()})},"esri/layers/support/rasterFormats/Lerc2Codec":function(){define([],function(){var a={unstuff:function(a,c,h,k,d,g,b,m){var f=(1<<h)-1,e=0,p,q=0,l,u;a[a.length-1]<<=8*(4*a.length-Math.ceil(h*k/8));if(d)for(p=0;p<k;p++)0===q&&(u=a[e++],q=32),q>=h?(l=u>>>q-h&f,q-=h):(q=h-q,l=(u&f)<<q&f,u=a[e++],q=32-q,l+=u>>>q),c[p]=d[l];
else for(d=Math.ceil((m-g)/b),p=0;p<k;p++)0===q&&(u=a[e++],q=32),q>=h?(l=u>>>q-h&f,q-=h):(q=h-q,l=(u&f)<<q&f,u=a[e++],q=32-q,l+=u>>>q),c[p]=l<d?g+l*b:m},unstuffLUT:function(a,c,h,k,d,g){var b=(1<<c)-1,m=0,f=0,e=0,p=e=0,q,l=[];a[a.length-1]<<=8*(4*a.length-Math.ceil(c*h/8));for(var u=Math.ceil((g-k)/d),f=0;f<h;f++)0===e&&(q=a[m++],e=32),e>=c?(p=q>>>e-c&b,e-=c):(e=c-e,p=(q&b)<<e&b,q=a[m++],e=32-e,p+=q>>>e),l[f]=p<u?k+p*d:g;l.unshift(k);return l},unstuff2:function(a,c,h,k,d,g,b,m){var f=(1<<h)-1,e=0,
p,q=0,l=0,u,t,r;if(d)for(p=0;p<k;p++)0===q&&(t=a[e++],q=32,l=0),q>=h?(u=t>>>l&f,q-=h,l+=h):(r=h-q,u=t>>>l&f,t=a[e++],q=32-r,u|=(t&(1<<r)-1)<<h-r,l=r),c[p]=d[u];else for(d=Math.ceil((m-g)/b),p=0;p<k;p++)0===q&&(t=a[e++],q=32,l=0),q>=h?(u=t>>>l&f,q-=h,l+=h):(r=h-q,u=t>>>l&f,t=a[e++],q=32-r,u|=(t&(1<<r)-1)<<h-r,l=r),c[p]=u<d?g+u*b:m;return c},unstuffLUT2:function(a,c,h,k,d,g){for(var b=(1<<c)-1,m=0,f=0,e=0,p=0,q=0,l=0,u,t=[],r=Math.ceil((g-k)/d),f=0;f<h;f++)0===p&&(u=a[m++],p=32,l=0),p>=c?(q=u>>>l&b,
p-=c,l+=c):(e=c-p,q=u>>>l&b,u=a[m++],p=32-e,q|=(u&(1<<e)-1)<<c-e,l=e),t[f]=q<r?k+q*d:g;t.unshift(k);return t},originalUnstuff:function(a,c,h,k){var d=(1<<h)-1,e=0,b,m=0,f,l;a[a.length-1]<<=8*(4*a.length-Math.ceil(h*k/8));for(b=0;b<k;b++)0===m&&(l=a[e++],m=32),m>=h?(f=l>>>m-h&d,m-=h):(m=h-m,f=(l&d)<<m&d,l=a[e++],m=32-m,f+=l>>>m),c[b]=f;return c},originalUnstuff2:function(a,c,h,k){var d=(1<<h)-1,e=0,b,m=0,f=0,l,p,q;for(b=0;b<k;b++)0===m&&(p=a[e++],m=32,f=0),m>=h?(l=p>>>f&d,m-=h,f+=h):(q=h-m,l=p>>>f&
d,p=a[e++],m=32-q,l|=(p&(1<<q)-1)<<h-q,f=q),c[b]=l;return c}},c={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(a){for(var e=65535,c=65535,k=a.length,d=Math.floor(k/2),g=0;d;){var b=359<=d?359:d,d=d-b;do e+=a[g++]<<8,c+=e+=a[g++];while(--b);e=(e&65535)+(e>>>16);c=(c&65535)+(c>>>16)}k&1&&(c+=e+=a[g]<<8);return((c&65535)+(c>>>16)<<16|(e&65535)+(e>>>16))>>>0},readHeaderInfo:function(a,c){var e=c.ptr,k=new Uint8Array(a,e,6),d={};d.fileIdentifierString=String.fromCharCode.apply(null,k);if(0!==
d.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+d.fileIdentifierString;var e=e+6,k=new DataView(a,e,8),g=k.getInt32(0,!0);d.fileVersion=g;e+=4;3<=g&&(d.checksum=k.getUint32(4,!0),e+=4);k=new DataView(a,e,12);d.height=k.getUint32(0,!0);d.width=k.getUint32(4,!0);e+=8;4<=g?(d.numDims=k.getUint32(8,!0),e+=4):d.numDims=1;k=new DataView(a,e,40);d.numValidPixel=k.getUint32(0,!0);d.microBlockSize=k.getInt32(4,!0);d.blobSize=k.getInt32(8,!0);d.imageType=
k.getInt32(12,!0);d.maxZError=k.getFloat64(16,!0);d.zMin=k.getFloat64(24,!0);d.zMax=k.getFloat64(32,!0);e+=40;c.headerInfo=d;c.ptr=e;if(3<=g&&(a=this.computeChecksumFletcher32(new Uint8Array(a,e-(4<=g?52:48),d.blobSize-14)),a!==d.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(a,c){var e=c.headerInfo,k=this.getDataTypeArray(e.imageType),d=e.numDims*this.getDataTypeSize(e.imageType),g=this.readSubArray(a,c.ptr,k,d);a=this.readSubArray(a,c.ptr+d,k,d);c.ptr+=2*d;d=!0;for(c=0;c<
e.numDims;c++)if(g[c]!==a[c]){d=!1;break}e.minValues=g;e.maxValues=a;return d},readSubArray:function(a,c,h,k){if(h===Uint8Array)a=new Uint8Array(a,c,k);else{var d=new ArrayBuffer(k);(new Uint8Array(d)).set(new Uint8Array(a,c,k));a=new h(d)}return a},readMask:function(a,c){var e=c.ptr,k=c.headerInfo,d=k.width*k.height,g=k.numValidPixel,b=new DataView(a,e,4),k={};k.numBytes=b.getUint32(0,!0);e+=4;if((0===g||d===g)&&0!==k.numBytes)throw"invalid mask";if(0===g)g=new Uint8Array(Math.ceil(d/8)),k.bitset=
g,b=new Uint8Array(d),c.pixels.resultMask=b,e+=k.numBytes;else if(0<k.numBytes){g=new Uint8Array(Math.ceil(d/8));b=new DataView(a,e,k.numBytes);a=b.getInt16(0,!0);var m=2,f=0,l=0;do{if(0<a)for(;a--;)g[f++]=b.getUint8(m++);else for(l=b.getUint8(m++),a=-a;a--;)g[f++]=l;a=b.getInt16(m,!0);m+=2}while(m<k.numBytes);if(-32768!==a||f<g.length)throw"Unexpected end of mask RLE encoding";b=new Uint8Array(d);for(m=m=a=0;m<d;m++)m&7?(a=g[m>>3],a<<=m&7):a=g[m>>3],a&128&&(b[m]=1);c.pixels.resultMask=b;k.bitset=
g;e+=k.numBytes}c.ptr=e;c.mask=k;return!0},readDataOneSweep:function(a,l,h){var e=l.ptr,d=l.headerInfo,g=d.numDims,b=d.width*d.height,d=d.numValidPixel*c.getDataTypeSize(d.imageType)*g,m=l.pixels.resultMask;if(h===Uint8Array)a=new Uint8Array(a,e,d);else{var f=new ArrayBuffer(d);(new Uint8Array(f)).set(new Uint8Array(a,e,d));a=new h(f)}if(a.length===b*g)l.pixels.resultPixels=a;else{l.pixels.resultPixels=new h(b*g);var v=f=h=0,p=0;if(1<g)for(v=0;v<g;v++)for(p=v*b,f=0;f<b;f++)m[f]&&(l.pixels.resultPixels[p+
f]=a[h++]);else for(f=0;f<b;f++)m[f]&&(l.pixels.resultPixels[f]=a[h++])}l.ptr=e+d;return!0},readHuffmanTree:function(a,l){var e=this.HUFFMAN_LUT_BITS_MAX,k=new DataView(a,l.ptr,16);l.ptr+=16;if(2>k.getInt32(0,!0))throw"unsupported Huffman version";var d=k.getInt32(4,!0),g=k.getInt32(8,!0),k=k.getInt32(12,!0);if(g>=k)return!1;var b=new Uint32Array(k-g);c.decodeBits(a,l,b);var m=[],f,v,p;for(f=g;f<k;f++)v=f-(f<d?0:d),m[v]={first:b[f-g],second:null};f=a.byteLength-l.ptr;b=new ArrayBuffer(4*Math.ceil(f/
4));(new Uint8Array(b)).set(new Uint8Array(a,l.ptr,f));a=new Uint32Array(b);l=0;var q,b=0;q=a[0];for(f=g;f<k;f++)v=f-(f<d?0:d),p=m[v].first,0<p&&(m[v].second=q<<l>>>32-p,32-l>=p?(l+=p,32===l&&(l=0,b++,q=a[b])):(l+=p-32,b++,q=a[b],m[v].second|=q>>>32-l));var w=q=0,u=new n;for(f=0;f<m.length;f++)void 0!==m[f]&&(q=Math.max(q,m[f].first));var w=q>=e?e:q,e=[],t,r;for(f=g;f<k;f++)if(v=f-(f<d?0:d),p=m[v].first,0<p)if(g=[p,v],p<=w)for(v=m[v].second<<w-p,t=1<<w-p,p=0;p<t;p++)e[v|p]=g;else for(v=m[v].second,
t=u,--p;0<=p;p--)(r=v>>>p&1)?(t.right||(t.right=new n),t=t.right):(t.left||(t.left=new n),t=t.left),0!==p||t.val||(t.val=g[1]);return{decodeLut:e,numBitsLUTQick:w,numBitsLUT:q,tree:u,stuffedData:a,srcPtr:b,bitPos:l}},readHuffman:function(a,c,h){var e=c.headerInfo,d=e.numDims,g=c.headerInfo.height,b=c.headerInfo.width,m=b*g,f=this.readHuffmanTree(a,c);a=f.decodeLut;var l=f.tree,p=f.stuffedData,q=f.srcPtr,w=f.bitPos,u=f.numBitsLUTQick,f=f.numBitsLUT,t=0===c.headerInfo.imageType?128:0,r,B,x=c.pixels.resultMask,
n,A,y,C,z,D,E=0;0<w&&(q++,w=0);var H=p[q],F=1===c.encodeMode,J=new h(m*d),L=J,M;for(M=0;M<e.numDims;M++){1<d&&(L=new h(J.buffer,m*M,m),E=0);if(c.headerInfo.numValidPixel===b*g)for(y=z=0;y<g;y++)for(C=0;C<b;C++,z++){B=0;r=n=H<<w>>>32-u;32-w<u&&(r=n|=p[q+1]>>>64-w-u);if(a[r])B=a[r][1],w+=a[r][0];else for(r=n=H<<w>>>32-f,32-w<f&&(r=n|=p[q+1]>>>64-w-f),r=l,D=0;D<f;D++)if(r=(A=n>>>f-D-1&1)?r.right:r.left,!r.left&&!r.right){B=r.val;w=w+D+1;break}32<=w&&(w-=32,q++,H=p[q]);B-=t;F?(B=0<C?B+E:0<y?B+L[z-b]:
B+E,B&=255,E=L[z]=B):L[z]=B}else for(y=z=0;y<g;y++)for(C=0;C<b;C++,z++)if(x[z]){B=0;r=n=H<<w>>>32-u;32-w<u&&(r=n|=p[q+1]>>>64-w-u);if(a[r])B=a[r][1],w+=a[r][0];else for(r=n=H<<w>>>32-f,32-w<f&&(r=n|=p[q+1]>>>64-w-f),r=l,D=0;D<f;D++)if(r=(A=n>>>f-D-1&1)?r.right:r.left,!r.left&&!r.right){B=r.val;w=w+D+1;break}32<=w&&(w-=32,q++,H=p[q]);B-=t;F?(B=0<C&&x[z-1]?B+E:0<y&&x[z-b]?B+L[z-b]:B+E,B&=255,E=L[z]=B):L[z]=B}c.ptr=c.ptr+4*(q+1)+(0<w?4:0)}c.pixels.resultPixels=J},decodeBits:function(e,c,h,k,d){var g=
c.headerInfo,b=g.fileVersion,m=0,f=new DataView(e,c.ptr,5<=e.byteLength-c.ptr?5:e.byteLength-c.ptr),l=f.getUint8(0);m++;var p=l>>6,q=0===p?4:3-p,w=0<(l&32)?!0:!1,p=l&31,l=0;if(1===q)l=f.getUint8(m),m++;else if(2===q)l=f.getUint16(m,!0),m+=2;else if(4===q)l=f.getUint32(m,!0),m+=4;else throw"Invalid valid pixel count type";var q=2*g.maxZError,u,t;d=1<g.numDims?g.maxValues[d]:g.zMax;if(w){c.counter.lut++;w=f.getUint8(m);m++;g=Math.ceil((w-1)*p/8);u=Math.ceil(g/4);u=new ArrayBuffer(4*u);t=new Uint8Array(u);
c.ptr+=m;t.set(new Uint8Array(e,c.ptr,g));m=new Uint32Array(u);c.ptr+=g;for(f=0;w-1>>>f;)f++;g=Math.ceil(l*f/8);u=Math.ceil(g/4);u=new ArrayBuffer(4*u);t=new Uint8Array(u);t.set(new Uint8Array(e,c.ptr,g));e=new Uint32Array(u);c.ptr+=g;c=3<=b?a.unstuffLUT2(m,p,w-1,k,q,d):a.unstuffLUT(m,p,w-1,k,q,d);3<=b?a.unstuff2(e,h,f,l,c):a.unstuff(e,h,f,l,c)}else c.counter.bitstuffer++,f=p,c.ptr+=m,0<f&&(g=Math.ceil(l*f/8),u=Math.ceil(g/4),u=new ArrayBuffer(4*u),t=new Uint8Array(u),t.set(new Uint8Array(e,c.ptr,
g)),e=new Uint32Array(u),c.ptr+=g,3<=b?null==k?a.originalUnstuff2(e,h,f,l):a.unstuff2(e,h,f,l,!1,k,q,d):null==k?a.originalUnstuff(e,h,f,l):a.unstuff(e,h,f,l,!1,k,q,d))},readTiles:function(a,l,h){var e=l.headerInfo,d=e.width,g=e.height,b=e.microBlockSize,m=e.imageType,f=c.getDataTypeSize(m),v=Math.ceil(d/b),p=Math.ceil(g/b);l.pixels.numBlocksY=p;l.pixels.numBlocksX=v;for(var q=l.pixels.ptr=0,w=0,u=0,t=0,r=0,B=0,x=0,n=0,A=0,y=0,C=0,z=0,D=0,x=D=x=0,E,H=new h(b*b),F=g%b||b,J=d%b||b,L=e.numDims,M,I=l.pixels.resultMask,
K=l.pixels.resultPixels,N=5<=e.fileVersion?14:15,O=e.zMax,u=0;u<p;u++)for(r=u!==p-1?b:F,t=0;t<v;t++)for(B=t!==v-1?b:J,C=u*d*b+t*b,z=d-B,M=0;M<L;M++){1<L?(D=K,C=u*d*b+t*b,K=new h(l.pixels.resultPixels.buffer,d*g*M*f,d*g),O=e.maxValues[M]):D=null;x=a.byteLength-l.ptr;q=new DataView(a,l.ptr,Math.min(10,x));w={};x=0;n=q.getUint8(0);x++;E=5<=e.fileVersion?n&4:0;A=n>>6&255;y=n>>2&N;if(y!==(t*b>>3&N))throw"integrity issue";if(E&&0===M)throw"integrity issue";n&=3;if(3<n)throw l.ptr+=x,"Invalid block encoding ("+
n+")";if(2===n){if(E)if(I)for(q=0;q<r;q++)for(w=0;w<B;w++)I[C]&&(K[C]=D[C]),C++;else for(q=0;q<r;q++)for(w=0;w<B;w++)K[C]=D[C],C++;l.counter.constant++;l.ptr+=x}else if(0===n){if(E)throw"integrity issue";l.counter.uncompressed++;l.ptr+=x;D=r*B*f;x=a.byteLength-l.ptr;D=D<x?D:x;x=new ArrayBuffer(0===D%f?D:D+f-D%f);E=new Uint8Array(x);E.set(new Uint8Array(a,l.ptr,D));x=new h(x);D=0;if(I)for(q=0;q<r;q++){for(w=0;w<B;w++)I[C]&&(K[C]=x[D++]),C++;C+=z}else for(q=0;q<r;q++){for(w=0;w<B;w++)K[C++]=x[D++];
C+=z}l.ptr+=D*f}else if(A=c.getDataTypeUsed(E&&6>m?4:m,A),y=c.getOnePixel(w,x,A,q),x+=c.getDataTypeSize(A),3===n)if(l.ptr+=x,l.counter.constantoffset++,I)for(q=0;q<r;q++){for(w=0;w<B;w++)I[C]&&(K[C]=E?Math.min(O,D[C]+y):y),C++;C+=z}else for(q=0;q<r;q++){for(w=0;w<B;w++)K[C]=E?Math.min(O,D[C]+y):y,C++;C+=z}else if(l.ptr+=x,c.decodeBits(a,l,H,y,M),x=0,E)if(I)for(q=0;q<r;q++){for(w=0;w<B;w++)I[C]&&(K[C]=H[x++]+D[C]),C++;C+=z}else for(q=0;q<r;q++){for(w=0;w<B;w++)K[C]=H[x++]+D[C],C++;C+=z}else if(I)for(q=
0;q<r;q++){for(w=0;w<B;w++)I[C]&&(K[C]=H[x++]),C++;C+=z}else for(q=0;q<r;q++){for(w=0;w<B;w++)K[C++]=H[x++];C+=z}}},formatFileInfo:function(a){return{fileIdentifierString:a.headerInfo.fileIdentifierString,fileVersion:a.headerInfo.fileVersion,imageType:a.headerInfo.imageType,height:a.headerInfo.height,width:a.headerInfo.width,numValidPixel:a.headerInfo.numValidPixel,microBlockSize:a.headerInfo.microBlockSize,blobSize:a.headerInfo.blobSize,maxZError:a.headerInfo.maxZError,pixelType:c.getPixelType(a.headerInfo.imageType),
eofOffset:a.eofOffset,mask:a.mask?{numBytes:a.mask.numBytes}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,maxValue:a.headerInfo.zMax,minValue:a.headerInfo.zMin,noDataValue:a.noDataValue}}},constructConstantSurface:function(a){var e=a.headerInfo.zMax,c=a.headerInfo.numDims,k=a.headerInfo.height*a.headerInfo.width,d=0,g=0,b=0,m=a.pixels.resultMask,f=a.pixels.resultPixels;if(m)if(1<c)for(d=0;d<c;d++)for(b=d*k,e=a.headerInfo.maxValues[d],g=0;g<k;g++)m[g]&&(f[b+g]=e);else for(g=
0;g<k;g++)m[g]&&(f[g]=e);else if(1<c)for(d=0;d<c;d++)for(b=d*k,e=a.headerInfo.maxValues[d],g=0;g<k;g++)f[b+g]=e;else for(g=0;g<k;g++)f[g]=e},getDataTypeArray:function(a){switch(a){case 0:a=Int8Array;break;case 1:a=Uint8Array;break;case 2:a=Int16Array;break;case 3:a=Uint16Array;break;case 4:a=Int32Array;break;case 5:a=Uint32Array;break;case 6:a=Float32Array;break;case 7:a=Float64Array;break;default:a=Float32Array}return a},getPixelType:function(a){switch(a){case 0:a="S8";break;case 1:a="U8";break;
case 2:a="S16";break;case 3:a="U16";break;case 4:a="S32";break;case 5:a="U32";break;case 6:a="F32";break;case 7:a="F64";break;default:a="F32"}return a},isValidPixelValue:function(a,c){if(null==c)return!1;switch(a){case 0:a=-128<=c&&127>=c;break;case 1:a=0<=c&&255>=c;break;case 2:a=-32768<=c&&32767>=c;break;case 3:a=0<=c&&65536>=c;break;case 4:a=-2147483648<=c&&2147483647>=c;break;case 5:a=0<=c&&4294967296>=c;break;case 6:a=-3.4027999387901484E38<=c&&3.4027999387901484E38>=c;break;case 7:a=4.9E-324<=
c&&1.7976931348623157E308>=c;break;default:a=!1}return a},getDataTypeSize:function(a){var c=0;switch(a){case 0:case 1:c=1;break;case 2:case 3:c=2;break;case 4:case 5:case 6:c=4;break;case 7:c=8;break;default:c=a}return c},getDataTypeUsed:function(a,c){var e=a;switch(a){case 2:case 4:e=a-c;break;case 3:case 5:e=a-2*c;break;case 6:e=0===c?a:1===c?2:1;break;case 7:e=0===c?a:a-2*c+1;break;default:e=a}return e},getOnePixel:function(a,c,h,k){a=0;switch(h){case 0:a=k.getInt8(c);break;case 1:a=k.getUint8(c);
break;case 2:a=k.getInt16(c,!0);break;case 3:a=k.getUint16(c,!0);break;case 4:a=k.getInt32(c,!0);break;case 5:a=k.getUInt32(c,!0);break;case 6:a=k.getFloat32(c,!0);break;case 7:a=k.getFloat64(c,!0);break;default:throw"the decoder does not understand this pixel type";}return a}},n=function(a,c,h){this.val=a;this.left=c;this.right=h};return{decode:function(a,l){l=l||{};var e=l.noDataValue,k=0,d={};d.ptr=l.inputOffset||0;d.pixels={};if(c.readHeaderInfo(a,d)){var k=d.headerInfo,g=k.fileVersion,b=c.getDataTypeArray(k.imageType);
if(5<g)throw"unsupported lerc version 2."+g;c.readMask(a,d);k.numValidPixel===k.width*k.height||d.pixels.resultMask||(d.pixels.resultMask=l.maskData);var m=k.width*k.height;d.pixels.resultPixels=new b(m*k.numDims);d.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};if(0!==k.numValidPixel)if(k.zMax===k.zMin)c.constructConstantSurface(d);else if(4<=g&&c.checkMinMaxRanges(a,d))c.constructConstantSurface(d);else{var f=new DataView(a,d.ptr,2),v=f.getUint8(0);d.ptr++;if(v)c.readDataOneSweep(a,
d,b);else if(1<g&&1>=k.imageType&&1E-5>Math.abs(k.maxZError-.5)){f=f.getUint8(1);d.ptr++;d.encodeMode=f;if(2<f||4>g&&1<f)throw"Invalid Huffman flag "+f;f?c.readHuffman(a,d,b):c.readTiles(a,d,b)}else c.readTiles(a,d,b)}d.eofOffset=d.ptr;l.inputOffset?(a=d.headerInfo.blobSize+l.inputOffset-d.ptr,1<=Math.abs(a)&&(d.eofOffset=l.inputOffset+d.headerInfo.blobSize)):(a=d.headerInfo.blobSize-d.ptr,1<=Math.abs(a)&&(d.eofOffset=d.headerInfo.blobSize));a={width:k.width,height:k.height,pixelData:d.pixels.resultPixels,
minValue:k.zMin,maxValue:k.zMax,validPixelCount:k.numValidPixel,dimCount:k.numDims,dimStats:{minValues:k.minValues,maxValues:k.maxValues},maskData:d.pixels.resultMask};if(d.pixels.resultMask&&c.isValidPixelValue(k.imageType,e)){g=d.pixels.resultMask;for(k=0;k<m;k++)g[k]||(a.pixelData[k]=e);a.noDataValue=e}d.noDataValue=e;l.returnFileInfo&&(a.fileInfo=c.formatFileInfo(d));return a}},getBandCount:function(a){for(var e=0,h=0,k={ptr:0,pixels:{}};h<a.byteLength-58;)c.readHeaderInfo(a,k),h+=k.headerInfo.blobSize,
e++,k.ptr=h;return e}}})},"esri/layers/support/rasterFormats/LercCodec":function(){define(["../../../core/mathUtils"],function(a){var c={};c.defaultNoDataValue=a.clampFloat32(-Infinity);c.decode=function(e,l){var h;l=l||{};var k=l.inputOffset||0,d=l.encodedMaskData||null===l.encodedMaskData,g={},b=new Uint8Array(e,k,10);g.fileIdentifierString=String.fromCharCode.apply(null,b);if("CntZImage"!=g.fileIdentifierString.trim())throw"Unexpected file identifier string: "+g.fileIdentifierString;k+=10;b=new DataView(e,
k,24);g.fileVersion=b.getInt32(0,!0);g.imageType=b.getInt32(4,!0);g.height=b.getUint32(8,!0);g.width=b.getUint32(12,!0);g.maxZError=b.getFloat64(16,!0);k+=24;if(!d)if(b=new DataView(e,k,16),g.mask={},g.mask.numBlocksY=b.getUint32(0,!0),g.mask.numBlocksX=b.getUint32(4,!0),g.mask.numBytes=b.getUint32(8,!0),g.mask.maxValue=b.getFloat32(12,!0),k+=16,0<g.mask.numBytes){var d=new Uint8Array(Math.ceil(g.width*g.height/8)),b=new DataView(e,k,g.mask.numBytes),m=b.getInt16(0,!0),f=2,v=0;do{if(0<m)for(;m--;)d[v++]=
b.getUint8(f++);else for(var p=b.getUint8(f++),m=-m;m--;)d[v++]=p;m=b.getInt16(f,!0);f+=2}while(f<g.mask.numBytes);if(-32768!==m||v<d.length)throw"Unexpected end of mask RLE encoding";g.mask.bitset=d;k+=g.mask.numBytes}else 0===(g.mask.numBytes|g.mask.numBlocksY|g.mask.maxValue)&&(d=new Uint8Array(Math.ceil(g.width*g.height/8)),g.mask.bitset=d);b=new DataView(e,k,16);g.pixels={};g.pixels.numBlocksY=b.getUint32(0,!0);g.pixels.numBlocksX=b.getUint32(4,!0);g.pixels.numBytes=b.getUint32(8,!0);g.pixels.maxValue=
b.getFloat32(12,!0);k+=16;d=g.pixels.numBlocksX;b=g.pixels.numBlocksY;d+=0<g.width%d?1:0;m=b+(0<g.height%b?1:0);g.pixels.blocks=Array(d*m);f=1E9;for(p=v=0;p<m;p++)for(var q=0;q<d;q++){var w=0,b=new DataView(e,k,Math.min(10,e.byteLength-k)),u={};g.pixels.blocks[v++]=u;var t=b.getUint8(0);w++;u.encoding=t&63;if(3<u.encoding)throw"Invalid block encoding ("+u.encoding+")";if(2===u.encoding)k++,f=Math.min(f,0);else{if(0!==t&&2!==t){t>>=6;u.offsetType=t;if(2===t)u.offset=b.getInt8(1),w++;else if(1===t)u.offset=
b.getInt16(1,!0),w+=2;else if(0===t)u.offset=b.getFloat32(1,!0),w+=4;else throw"Invalid block offset type";f=Math.min(u.offset,f);if(1===u.encoding)if(t=b.getUint8(w),w++,u.bitsPerPixel=t&63,t>>=6,u.numValidPixelsType=t,2===t)u.numValidPixels=b.getUint8(w),w++;else if(1===t)u.numValidPixels=b.getUint16(w,!0),w+=2;else if(0===t)u.numValidPixels=b.getUint32(w,!0),w+=4;else throw"Invalid valid pixel count type";}k+=w;if(3!=u.encoding)if(0===u.encoding){b=(g.pixels.numBytes-1)/4;if(b!==Math.floor(b))throw"uncompressed block has invalid length";
w=new ArrayBuffer(4*b);t=new Uint8Array(w);t.set(new Uint8Array(e,k,4*b));w=new Float32Array(w);for(t=0;t<w.length;t++)f=Math.min(f,w[t]);u.rawData=w;k+=4*b}else 1===u.encoding&&(b=Math.ceil(u.numValidPixels*u.bitsPerPixel/8),w=new ArrayBuffer(4*Math.ceil(b/4)),t=new Uint8Array(w),t.set(new Uint8Array(e,k,b)),u.stuffedData=new Uint32Array(w),k+=b)}}g.pixels.minValue=f;g.eofOffset=k;e=null!=l.noDataValue?a.clampFloat32(l.noDataValue):c.defaultNoDataValue;var d=l.encodedMaskData,u=l.returnMask,b=0,
m=g.pixels.numBlocksX,f=g.pixels.numBlocksY,v=Math.floor(g.width/m),p=Math.floor(g.height/f),q=2*g.maxZError,d=d||(g.mask?g.mask.bitset:null),r,k=new (l.pixelType||Float32Array)(g.width*g.height);u&&d&&(r=new Uint8Array(g.width*g.height));for(var u=new Float32Array(v*p),B,x,w=0;w<=f;w++)if(t=w!==f?p:g.height%f,0!==t)for(var G=0;G<=m;G++){var A=G!==m?v:g.width%m;if(0!==A){var y=w*g.width*p+G*v,C=g.width-A,z=g.pixels.blocks[b],D,E;if(2>z.encoding){if(0===z.encoding)D=z.rawData;else{D=z.stuffedData;
E=z.bitsPerPixel;B=z.numValidPixels;x=z.offset;var H=q,F=u,J=g.pixels.maxValue,L=(1<<E)-1,M=0,I=void 0,K=0,N=void 0,O=void 0,V=Math.ceil((J-x)/H);D[D.length-1]<<=8*(4*D.length-Math.ceil(E*B/8));for(I=0;I<B;I++)0===K&&(O=D[M++],K=32),K>=E?(N=O>>>K-E&L,K-=E):(K=E-K,N=(O&L)<<K&L,O=D[M++],K=32-K,N+=O>>>K),F[I]=N<V?x+N*H:J;D=u}E=0}else h=2===z.encoding?0:z.offset;var R;if(d)for(x=0;x<t;x++){y&7&&(R=d[y>>3],R<<=y&7);for(B=0;B<A;B++)y&7||(R=d[y>>3]),R&128?(r&&(r[y]=1),k[y++]=2>z.encoding?D[E++]:h):(r&&(r[y]=
0),k[y++]=e),R<<=1;y+=C}else if(2>z.encoding)for(x=0;x<t;x++){for(B=0;B<A;B++)k[y++]=D[E++];y+=C}else for(x=0;x<t;x++)if(k.fill)k.fill(h,y,y+A),y+=A+C;else{for(B=0;B<A;B++)k[y++]=h;y+=C}if(1===z.encoding&&E!==z.numValidPixels)throw"Block and Mask do not match";b++}}h=r;r={width:g.width,height:g.height,pixelData:k,minValue:g.pixels.minValue,maxValue:g.pixels.maxValue,noDataValue:e};h&&(r.maskData=h);l.returnEncodedMask&&g.mask&&(r.encodedMaskData=g.mask.bitset?g.mask.bitset:null);if(l.returnFileInfo&&
(r.fileInfo=n(g),l.computeUsedBitDepths)){l=r.fileInfo;h=g.pixels.numBlocksX*g.pixels.numBlocksY;R={};for(D=0;D<h;D++)E=g.pixels.blocks[D],0===E.encoding?R.float32=!0:1===E.encoding?R[E.bitsPerPixel]=!0:R[0]=!0;g=Object.keys(R);l.bitDepths=g}return r};var n=function(a){return{fileIdentifierString:a.fileIdentifierString,fileVersion:a.fileVersion,imageType:a.imageType,height:a.height,width:a.width,maxZError:a.maxZError,eofOffset:a.eofOffset,mask:a.mask?{numBlocksX:a.mask.numBlocksX,numBlocksY:a.mask.numBlocksY,
numBytes:a.mask.numBytes,maxValue:a.mask.maxValue}:null,pixels:{numBlocksX:a.pixels.numBlocksX,numBlocksY:a.pixels.numBlocksY,numBytes:a.pixels.numBytes,maxValue:a.pixels.maxValue,minValue:a.pixels.minValue,noDataValue:this.noDataValue}}};return c})},"esri/layers/support/rasterFormats/Png":function(){define(["./Zlib"],function(a){return function(c){function n(a){var d,g,b,m;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(b=null;;){d=
this.readUInt32();m=a=void 0;m=[];for(a=0;4>a;++a)m.push(String.fromCharCode(this.data[this.pos++]));a=m.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};
break;case "PLTE":this.palette=this.read(d);break;case "fcTL":b&&this.animation.frames.push(b);this.pos+=4;b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();d=this.readUInt16()||100;b.delay=1E3*a/d;b.disposeOp=this.data[this.pos++];b.blendOp=this.data[this.pos++];b.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,d-=4);a=(null!=b?b.data:void 0)||this.imgData;for(m=0;0<=d?m<d:m>d;0<=d?++m:--m)a.push(this.data[this.pos++]);
break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read(d);d=255-this.transparency.indexed.length;if(0<d)for(a=0;0<=d?a<d:a>d;0<=d?++a:--a)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case "tEXt":m=this.read(d);d=m.indexOf(0);a=String.fromCharCode.apply(String,m.slice(0,d));this.text[a]=String.fromCharCode.apply(String,m.slice(d+1));break;case "IEND":b&&
this.animation.frames.push(b);a:{switch(this.colorType){case 0:case 3:case 4:b=1;break a;case 2:case 6:b=3;break a}b=void 0}this.colors=b;this.hasAlphaChannel=4===(g=this.colorType)||6===g;g=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*g;a:{switch(this.colors){case 1:g="DeviceGray";break a;case 3:g="DeviceRGB";break a}g=void 0}this.colorSpace=g;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=d}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");
}}var e,l,h;n.load=function(a,d,g){var b;"function"===typeof d&&(g=d);b=new XMLHttpRequest;b.open("GET",a,!0);b.responseType="arraybuffer";b.onload=function(){var a;a=new Uint8Array(b.response||b.mozResponseArrayBuffer);a=new n(a);"function"===typeof(null!=d?d.getContext:void 0)&&a.render(d);return"function"===typeof g?g(a):void 0};return b.send(null)};n.prototype.read=function(a){var d,g;g=[];for(d=0;0<=a?d<a:d>a;0<=a?++d:--d)g.push(this.data[this.pos++]);return g};n.prototype.readUInt32=function(){var a,
d,g,b;a=this.data[this.pos++]<<24;d=this.data[this.pos++]<<16;g=this.data[this.pos++]<<8;b=this.data[this.pos++];return a|d|g|b};n.prototype.readUInt16=function(){var a,d;a=this.data[this.pos++]<<8;d=this.data[this.pos++];return a|d};n.prototype.decodePixels=function(c){var d,g,b,m,f,e,p,q,k,l,h,r,B,x,n;null==c&&(c=this.imgData);if(0===c.length)return new Uint8Array(0);c=new a(c);c=c.getBytes();q=this.pixelBitlength/8;r=q*this.width;k=new Uint8Array(r*this.height);e=c.length;for(g=l=h=0;l<e;){switch(c[l++]){case 0:for(m=
d=0;d<r;m=d+=1)k[g++]=c[l++];break;case 1:for(m=B=0;B<r;m=B+=1)d=c[l++],f=m<q?0:k[g-q],k[g++]=(d+f)%256;break;case 2:for(m=f=0;f<r;m=f+=1)d=c[l++],b=(m-m%q)/q,B=h&&k[(h-1)*r+b*q+m%q],k[g++]=(B+d)%256;break;case 3:for(m=n=0;n<r;m=n+=1)d=c[l++],b=(m-m%q)/q,f=m<q?0:k[g-q],B=h&&k[(h-1)*r+b*q+m%q],k[g++]=(d+Math.floor((f+B)/2))%256;break;case 4:for(m=n=0;n<r;m=n+=1)d=c[l++],b=(m-m%q)/q,f=m<q?0:k[g-q],0===h?B=x=0:(B=k[(h-1)*r+b*q+m%q],x=b&&k[(h-1)*r+(b-1)*q+m%q]),p=f+B-x,m=Math.abs(p-f),b=Math.abs(p-B),
p=Math.abs(p-x),f=m<=b&&m<=p?f:b<=p?B:x,k[g++]=(d+f)%256;break;default:throw Error("Invalid filter algorithm: "+c[l-1]);}h++}return k};n.prototype.decodePalette=function(){var a,d,g,b,m,f,c,e,q;g=this.palette;f=this.transparency.indexed||[];m=new Uint8Array((f.length||0)+g.length);d=c=a=b=0;for(e=g.length;c<e;d=c+=3)m[b++]=g[d],m[b++]=g[d+1],m[b++]=g[d+2],m[b++]=null!=(q=f[a++])?q:255;return m};n.prototype.copyToImageData=function(a,d){var g,b,m,f,c,e,q;b=this.colors;q=null;g=this.hasAlphaChannel;
this.palette.length&&(q=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),b=4,g=!0);a=a.data||a;e=a.length;f=q||d;m=c=0;if(1===b)for(;m<e;)b=q?4*d[m/4]:c,c=f[b++],a[m++]=c,a[m++]=c,a[m++]=c,a[m++]=g?f[b++]:this.transparency.grayscale&&this.transparency.grayscale===c?0:255,c=b;else for(;m<e;)b=q?4*d[m/4]:c,a[m++]=f[b++],a[m++]=f[b++],a[m++]=f[b++],a[m++]=g?f[b++]:this.transparency.rgb&&this.transparency.rgb[1]===f[b-3]&&this.transparency.rgb[3]===f[b-2]&&this.transparency.rgb[5]===
f[b-1]?0:255,c=b};n.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};h=(l=c.document&&c.document.createElement("canvas"))&&l.getContext("2d");e=function(a){h.width=a.width;h.height=a.height;h.clearRect(0,0,a.width,a.height);h.putImageData(a,0,0);a=new Image;a.src=l.toDataURL();return a};n.prototype.decodeFrames=function(a){var d,c,b,m,f,k,p;if(this.animation){k=this.animation.frames;p=[];d=m=0;for(f=k.length;m<f;d=++m)d=
k[d],c=a.createImageData(d.width,d.height),b=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(c,b),d.imageData=c,p.push(d.image=e(c));return p}};n.prototype.renderFrame=function(a,d){var c,b;b=this.animation.frames;c=b[d];b=b[d-1];0===d&&a.clearRect(0,0,this.width,this.height);1===(null!=b?b.disposeOp:void 0)?a.clearRect(b.xOffset,b.yOffset,b.width,b.height):2===(null!=b?b.disposeOp:void 0)&&a.putImageData(b.imageData,b.xOffset,b.yOffset);0===c.blendOp&&a.clearRect(c.xOffset,c.yOffset,
c.width,c.height);return a.drawImage(c.image,c.xOffset,c.yOffset)};n.prototype.animate=function(a){var d,c,b,m,f,e,p=this;c=0;e=this.animation;m=e.numFrames;b=e.frames;f=e.numPlays;return(d=function(){var g,e;g=c++%m;e=b[g];p.renderFrame(a,g);if(1<m&&c/m<f)return p.animation._timeout=setTimeout(d,e.delay)})()};n.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)};n.prototype.render=function(a){var d;a._png&&a._png.stopAnimation();a._png=this;a.width=
this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);d=a.createImageData(this.width,this.height);this.copyToImageData(d,this.decodePixels());return a.putImageData(d,0,0)};return n}(this)})},"esri/layers/support/rasterFormats/Raw":function(){define(["require","exports"],function(a,c){var n=function(a){var c=1;switch(a){case Uint8Array:case Int8Array:c=1;break;case Uint16Array:case Int16Array:c=2;break;case Uint32Array:case Int32Array:case Float32Array:c=
4;break;case Float64Array:c=8}return c};return function(){function a(){}a.decode=function(a,c){var e=c.pixelType,d=[],g=c.width*c.height,b=Math.floor(a.byteLength/(c.width*c.height*n(c.pixelType))),m=c.bandIds,f=c.format;c=m&&m.length||Math.floor(a.byteLength/(c.width*c.height*n(c.pixelType)));var l=a.byteLength-a.byteLength%(g*n(e)),p=new e(a,0,g*b),q,w,u,h;if("bip"===f)for(f=0;f<c;f++){u=new e(g);h=m?m[f]:f;for(q=0;q<g;q++)u[q]=p[q*b+h];d.push(u)}else if("bsq"===f)for(f=0;f<c;f++)h=m?m[f]:f,d.push(p.subarray(h*
g,(h+1)*g));if(l<a.byteLength-1)if(a=a.slice(l),8*a.byteLength<g)w=null;else{a=new Uint8Array(a,0,Math.ceil(g/8));e=new Uint8Array(g);for(w=c=w=m=b=0;w<a.length-1;w++)for(m=a[w],c=7;0<=c;c--)e[b++]=m>>c&1;for(c=7;b<g-1;)m=a[a.length-1],e[b++]=m>>c&1,c--;w=e}return{pixels:d,mask:w}};return a}()})},"esri/layers/support/rasterFormats/TiffDecoder":function(){define("require exports ../../../core/tsSupport/assignHelper ../rasterDatasets/byteStreamUtils ./Jpg ./TiffTags ./Zlib".split(" "),function(a,c,
n,e,l,h,k){function d(a,b){var d="unknown";3===a?d="f32":1===a?1===b?d="u1":2===b?d="u2":4===b?d="u4":8>=b?d="u8":16>=b?d="u16":32>=b&&(d="u32"):2===a&&(8>=b?d="s8":16>=b?d="s16":32>=b&&(d="s32"));return d}function g(a){var b=null;switch(a?a.toLowerCase():"f32"){case "u1":case "u2":case "u4":case "u8":b=Uint8Array;break;case "u16":b=Uint16Array;break;case "u32":b=Uint32Array;break;case "s8":b=Int8Array;break;case "s16":b=Int16Array;break;case "s32":b=Int32Array;break;default:b=Float32Array}return b}
function b(a,b){return{x:b[0]*a.x+b[1]*a.y+b[2],y:b[3]*a.x+b[4]*a.y+b[5]}}function m(a,b){return(a=a.get(b))&&a.values}function f(a,b){return(a=a.get(b))&&a.values[0]}function v(a,b,d,f,c,m){void 0===f&&(f=0);void 0===c&&(c=h.TIFF_TAGS);void 0===m&&(m=4);var g=(new DataView(a,d,2)).getUint16(0,b),e=4+2*m,q=2+g*e;if(d+q>a.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:q};var r=d+q+4<=a.byteLength?(new DataView(a,d+q,4)).getUint32(0,b):null;d+=2;for(var k=new Map,l,u,v,w,t,B,
x=0;x<g;x++){l=new DataView(a,d+e*x,e);u=l.getUint16(0,b);w=l.getUint16(2,b);v=h.getTagName(u,c);if(2===m)t=l.getUint16(4,b),B=l.getUint16(6,b);else if(4===m)t=l.getUint32(4,b),B=l.getUint32(8,b);else if(8===m)if(B=t=0,b)for(var n=0;8>n;n++)t+=l.getUint8(4+n)*Math.pow(2,8*n),B+=l.getUint8(12+n)*Math.pow(2,8*n);else for(n=0;8>n;n++)t+=l.getUint8(4+n)*Math.pow(2,8*(7-n)),B+=l.getUint8(12+n)*Math.pow(2,8*(7-n));l={id:u,type:w,valueCount:t,valueOffset:B,values:null};p(a,b,l,f);k.set(v,l)}return{success:!0,
ifd:k,nextIFD:r,requiredBufferSize:q}}function p(a,b,d,f,c){void 0===f&&(f=0);if(d.values)return!0;var m=d.type,g=d.valueCount,e=d.valueOffset,p=[],q=r[m],k=8*q,l=g*q,u=g*r[m]*8;if(32<u&&l>(c?a.byteLength:a?a.byteLength-e+f:0))return d.offlineOffsetSize=[e,l],d.values=null,!1;if(32>=u)if(b||(e>>>=32-u),1===g)p=[e];else for(a=0;a<g;a++)p.push(e<<k*a>>>32-k);else for(e-=f,c&&(e=0),k=e;k<e+l;k+=q){switch(m){case 1:g=(new DataView(a,k,1)).getUint8(0);break;case 2:g=(new DataView(a,k,1)).getUint8(0);break;
case 3:g=(new DataView(a,k,2)).getUint16(0,b);break;case 4:g=(new DataView(a,k,4)).getUint32(0,b);break;case 5:g=(new DataView(a,k,4)).getUint32(0,b)/(new DataView(a,k+4,4)).getUint32(0,b);break;case 6:g=(new DataView(a,k,1)).getInt8(0);break;case 7:g=(new DataView(a,k,1)).getUint8(0);break;case 8:g=(new DataView(a,k,2)).getInt16(0,b);break;case 9:g=(new DataView(a,k,4)).getInt32(0,b);break;case 10:g=(new DataView(a,k,4)).getInt32(0,b)/(new DataView(a,k+4,4)).getInt32(0,b);break;case 11:g=(new DataView(a,
k,4)).getFloat32(0,b);break;case 12:g=(new DataView(a,k,8)).getFloat64(0,b);break;default:g=null}p.push(g)}if(2===m){m="";e=p;p=[];for(a=0;a<e.length;a++)0===e[a]&&""!==m?(p.push(m),m=""):m+=String.fromCharCode(e[a]);""===m&&0!==p.length||p.push(m)}d.values=p;return!0}function q(a){var c=a[0],g=f(c,"TILEWIDTH"),e=f(c,"TILELENGTH"),p=f(c,"IMAGEWIDTH"),q=f(c,"IMAGELENGTH"),r=f(c,"BITSPERSAMPLE"),k=f(c,"SAMPLESPERPIXEL"),l=f(c,"SAMPLEFORMAT")||1,u=d(l,r),v=m(c,"PLANARCONFIGURATION")?2===m(c,"PLANARCONFIGURATION")[0]:
!1,w=m(c,"GDAL_NODATA"),h;null!=w&&("string"===typeof w[0]?(h=w.map(function(a){return parseFloat(a)}),h.some(function(a){return isNaN(a)})&&(h=null)):"number"===typeof w[0]&&(h=w));var t=f(c,"COMPRESSION")||1;switch(t){case 1:w="NONE";break;case 2:case 3:case 4:case 32771:w="CCITT";break;case 5:w="LZW";break;case 6:case 7:w="JPEG";break;case 32773:w="PACKBITS";break;case 8:case 32946:w="DEFLATE";break;case 34712:w="JPEG2000";break;default:w=String(t)}var B=!0,x="";1!==t&&6!==t&&8!==t&&32946!==t&&
(B=!1,x+="unsupported tag compression "+t);3<l&&(B=!1,x+="unsupported tag sampleFormat "+l);0!==r%8&&(B=!1,x+="unsupported tag bitsPerSample "+r);var r=f(c,"GEOASCIIPARAMS"),n;r&&(n=(n=r.split("|").filter(function(a){return-1<a.indexOf("ESRI PE String \x3d ")})[0])?n.replace("ESRI PE String \x3d ",""):"",n=0===n.indexOf("PROJCS")||0===n.indexOf("GEOGCS")?{wkid:null,wkt:n}:null);var r=m(c,"GEOTIEPOINTS"),l=m(c,"GEOPIXELSCALE"),t=m(c,"GEOTRANSMATRIX"),A=c.has("GEOKEYDIRECTORY")?c.get("GEOKEYDIRECTORY").data:
null,c=!1;if(A){var c=2===f(A,"GTRasterTypeGeoKey"),S=f(A,"GTModelTypeGeoKey");2===S?(A=f(A,"GeographicTypeGeoKey"),1024<A&&32766>A&&(n={wkid:A})):1===S&&(A=f(A,"ProjectedCSTypeGeoKey"),1024<A&&32766>A&&(n={wkid:A}))}var Q,W;l&&r&&6<=r.length?(Q=[l[0],0,r[3]-r[0]*l[0],0,-Math.abs(l[1]),r[4]-r[1]*l[1]],c&&(Q[2]-=.5*Q[0]+.5*Q[1],Q[5]-=.5*Q[3]+.5*Q[4])):t&&16===t.length&&(Q=[t[0],t[1],t[3],t[4],t[5],t[7]]);if(Q){W=[{x:0,y:q},{x:0,y:0},{x:p,y:q},{x:p,y:0}];c=void 0;l=r=Number.POSITIVE_INFINITY;A=t=Number.NEGATIVE_INFINITY;
for(S=0;S<W.length;S++)c=b(W[S],Q),r=c.x>r?r:c.x,t=c.x<t?t:c.x,l=c.y>l?l:c.y,A=c.y<A?A:c.y;W={xmin:r,xmax:t,ymin:l,ymax:A,spatialReference:n}}Q=a.filter(function(a){return 1===f(a,"NEWSUBFILETYPE")});var P,T,Y,Z;0<Q.length&&(P=Math.round(Math.log(p/f(Q[0],"IMAGEWIDTH"))/Math.LN2),T=Math.round(Math.log(p/f(Q[Q.length-1],"IMAGEWIDTH"))/Math.LN2),Y=f(Q[Q.length-1],"TILEWIDTH"),Z=f(Q[Q.length-1],"TILEHEIGHT"));Y=0<T?Y||g:null;Z=0<T?Z||e:null;var aa;g&&(aa=[{maxCol:Math.ceil(p/g)-1,maxRow:Math.ceil(q/
e)-1,minRow:0,minCol:0}],Q.forEach(function(a){aa.push({maxCol:Math.ceil(f(a,"IMAGEWIDTH")/f(a,"TILEWIDTH"))-1,maxRow:Math.ceil(f(a,"IMAGELENGTH")/f(a,"TILELENGTH"))-1,minRow:0,minCol:0})}));a=f(a[0],"GDAL_METADATA");a=G(a);return{width:p,height:q,tileWidth:g,tileHeight:e,planes:k,isBSQ:v,pixelType:u,compression:w,noData:h,isSupported:B,message:x,extent:W,firstPyramidLevel:P,maximumPyramidLevel:T,pyramidBlockWidth:Y,pyramidBlockHeight:Z,tileBoundary:aa,metadata:a}}function w(a){var b=new DataView(a,
0,8),d=b.getUint16(0,!1),f=null;if(18761===d)f=!0;else if(19789===d)f=!1;else throw"unexpected endianess byte";if(42!==b.getUint16(2,f))throw"unexpected tiff identifier";d=b.getUint32(4,f);b=[];do if(d=u(a,f,d),d.success)b.push(d.ifd),d=d.nextIFD;else break;while(0<d);a=q(b);return n({},a,{littleEndian:f,ifds:b})}function u(a,b,d,f,c,m){void 0===f&&(f=0);void 0===c&&(c=h.TIFF_TAGS);void 0===m&&(m=4);d=v(a,b,d,f,c,m);var g,p=d.ifd;p&&(h.ifdTags.forEach(function(d,c){p.has(c)&&(g=p.get(c),g.data=v(a,
b,g.valueOffset-f,f,d).ifd)}),p.has("GEOKEYDIRECTORY")&&(g=p.get("GEOKEYDIRECTORY"),(c=g.values)&&4<c.length&&(c=c[0]+"."+c[1]+"."+c[2],g.data=v(a,b,g.valueOffset+6-f,f,h.GEO_KEYS,2).ifd,g.data&&g.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[c]}))),p.has("XMP")&&(g=p.get("XMP"),c=g.values,"number"===typeof c[0]&&7===g.type&&(g.values=[e.bytesToUTF8(new Uint8Array(c))])));return d}Object.defineProperty(c,"__esModule",{value:!0});var t=function(){var a=new ArrayBuffer(4),
b=new Uint8Array(a);(new Uint32Array(a))[0]=1;return 1===b[0]}(),r=[0,1,1,2,4,8,1,1,2,4,8,4,8],B=function(a,b,c,m,e){b=t===b;var p=f(c,"BITSPERSAMPLE"),q=f(c,"SAMPLEFORMAT")||1,p=d(q,p),q=f(c,"COMPRESSION")[0]||1;c=g(p);var r,u;1===q?(r=a.slice(m,m+e),u=new Uint8Array(r)):8===q||32946===q?(u=new Uint8Array(a,m,e),u=new k(u),a=u.getBytes(),r=new ArrayBuffer(a.length),u=new Uint8Array(r),u.set(a)):6===q&&(u=new Uint8Array(a,m,e),r=new l,r.parse(u),a=r.getData(r.width,r.height,!0),r=new ArrayBuffer(a.length),
u=new Uint8Array(r),u.set(a));if("u8"!==p&&"s8"!==p&&!b)switch(r=new ArrayBuffer(u.length),b=new Uint8Array(r),p){case "u16":case "s16":for(p=0;p<u.length;p+=2)b[p]=u[p+1],b[p+1]=u[p];break;case "u32":case "s32":case "f32":for(p=0;p<u.length;p+=4)b[p]=u[p+3],b[p+1]=u[p+2],b[p+2]=u[p+1],b[p+3]=u[p]}return new c(r)},x=function(a,b,d){if(!(a&&0<a.length&&b&&d))return null;for(var f,c,m,g=a[0].length,e=a.length,p=new Uint8Array(g),q=0;q<e;q++)if(f=a[q],c=b[q],m=d[q],0===q)for(var r=0;r<g;r++)p[r]=f[r]<
c||f[r]>m?0:1;else for(r=0;r<g;r++)p[r]&&(p[r]=f[r]<c||f[r]>m?0:1);return p},G=function(a){if(!a)return null;var b=a.match(/<Item(.*?)Item>/gi);if(!b||0===b.length)return null;a=new Map;for(var d,f,c,m,g=0;g<b.length;g++)d=b[g],f=d.slice(6,d.indexOf("\x3e")),c=d.indexOf("sample\x3d"),-1<c&&(m=d.slice(c+8,d.indexOf('"',c+8))),c=d.indexOf("name\x3d"),-1<c&&(f=d.slice(c+6,d.indexOf('"',c+6))),f&&(d=d.slice(d.indexOf("\x3e")+1,d.indexOf("\x3c/Item\x3e")).trim(),null!=m?a.has(f)?a.get(f)[m]=d:a.set(f,
[d]):a.set(f,d)),m=null;b=a.get("STATISTICS_MINIMUM");f=a.get("STATISTICS_MAXIMUM");d=a.get("STATISTICS_MEAN");c=a.get("STATISTICS_STDDEV");m=null;if(b&&f)for(m=[],g=0;g<b.length;g++)m.push({min:parseFloat(b[g]),max:parseFloat(f[g]),avg:d&&parseFloat(d[g]),stddev:c&&parseFloat(c[g])});f=a.get("BandName");d=a.get("WavelengthMin");c=a.get("WavelengthMax");b=null;if(f)for(b=[],g=0;g<f.length;g++)b.push({BandName:f[g],WavelengthMin:d&&parseFloat(d[g]),WavelengthMax:c&&parseFloat(c[g])});g=a.get("DataType");
return{statistics:m,bandProperties:b,dataType:g,rawMetadata:a}};c.parseFieldValues=p;c.getImageInfo=q;c.parseHeader=w;c.parseSignature=function(a){var b=new DataView(a,0,8),d=b.getUint16(0,!1);a=null;if(18761===d)a=!0;else if(19789===d)a=!1;else throw"unexpected endianess byte";if(42!==b.getUint16(2,a))throw"unexpected tiff identifier";b=b.getUint32(4,a);return{littleEndian:a,firstIFD:b}};c.parseIFD=u;c.decodeTileOrStrip=function(a,b){var d=b.headerInfo,c=b.ifd,m=B(a,d.littleEndian,c,b.offset||0,
b.size||a.byteLength);a=d.pixelType;for(var e=d.isBSQ,p=d.planes,r=g(a),q=m.length/p,k,l=[],u=0;u<p;u++){k=new r(q);if(e)k=m.slice(q*u,q*(u+1));else for(var v=0;v<q;v++)k[v]=m[v*p+u];l.push(k)}var m=f(c,"TILEWIDTH"),c=f(c,"TILELENGTH"),e=d.noData?d.noData[0]:null,d=(p=d.metadata?d.metadata.statistics:null)?p.map(function(a){return a.min}):null,p=p?p.map(function(a){return a.max}):null,w;if(null!=e)if(w=new Uint8Array(q),1E24<Math.abs(e))for(b=0;b<q;b++)w[b]=1E-6>Math.abs((l[0][b]-e)/e)?0:1;else for(b=
0;b<q;b++)w[b]=l[0][b]===e?0:1;else d&&p&&b.applyMinMaxConstraint&&(w=x(l,d,p));return{pixelType:a,width:m,height:c,pixels:l,mask:w,noDataValue:e}};c.decode=function(a,b){b=b||w(a);var d=b.ifds,f=b.noData;if(0===d.length)throw"no valid image file directory";d=d[0];f=f?f[0]:null;if(b.tileWidth){var c=m(d,"TILEOFFSETS");if(void 0===c)d=null;else{for(var e=m(d,"TILEBYTECOUNTS"),p=b.tileWidth,q=b.tileHeight,r=b.width,u=b.height,v=b.pixelType,h=b.isBSQ,x=b.planes,n=r*u,A=m(d,"BITSPERSAMPLE")[0],G=g(v),
y=[],X=0;X<x;X++)y.push(new G(n));var S,Q,W,P,T,Y,Z,aa,n=Math.ceil(r/p);if(0===A%8)for(A=0;A<c.length;A++)for(S=Math.floor(A/n)*q,P=A%n*p,X=S*r+P,G=B(a,b.littleEndian,d,c[A],e[A]),Y=0,T=X,P=Math.min(p,r-P),Z=Math.min(q,u-S),S=0;S<x;S++)if(aa=y[S],h)for(Q=0;Q<Z;Q++)for(T=X+Q*r,Y=p*q*S+Q*p,W=0;W<P;W++,T++,Y++)aa[T]=G[Y];else for(Q=0;Q<Z;Q++)for(T=X+Q*r,Y=Q*p*x+S,W=0;W<P;W++,T++,Y+=x)aa[T]=G[Y];d={width:r,height:u,pixelType:v,pixels:y}}}else if(q=b,y=t===q.littleEndian,n=m(d,"STRIPOFFSETS"),void 0===
n)d=null;else{b=q.width;c=q.height;e=q.pixelType;q=q.planes;r=b*c;A=m(d,"BITSPERSAMPLE")[0];u=g(e);v=new u(r*q);G=m(d,"STRIPBYTECOUNTS");X=m(d,"ROWSPERSTRIP")[0];T=m(d,"COMPRESSION")?m(d,"COMPRESSION")[0]:1;P=X;if(0===A%8)for(d=0;d<n.length;d++){Y=d*X*b*q;P=(d+1)*X>c?c-d*X:X;if("u8"===e||"s8"===e||y)8===T||32946===T?(h=new Uint8Array(a,n[d],G[d]),h=new k(h),S=h.getBytes(),x=new ArrayBuffer(S.length),h=new Uint8Array(x),h.set(S),h.length!==P*b*q*A/8&&console.log("strip byte counts is different than expected")):
6===T?(h=new Uint8Array(a,n[d],G[d]),x=new l,x.parse(h),P=x.getData(x.width,x.height,!0),x=new ArrayBuffer(P.length),h=new Uint8Array(x),h.set(P)):1===T&&(G[d]!==P*b*q*A/8&&console.log("strip byte counts is different than expected"),x=a.slice(n[d],n[d]+G[d]));else switch(6===T||8===T||32946===T?(h=new Uint8Array(a,n[d],G[d]),h=new k(h),h=h.getBytes(),x=new ArrayBuffer(h.length),p=new Uint8Array(x),h.length!==P*b*q*A/8&&console.log("strip byte counts is different than expected")):1===T&&(G[d]!==P*
b*q*A/8&&console.log("strip byte counts is different than expected"),x=new ArrayBuffer(G[d]),h=new Uint8Array(a,n[d],G[d]),p=new Uint8Array(x)),e){case "u16":case "s16":for(P=0;P<h.length;P+=2)p[P]=h[P+1],p[P+1]=h[P];break;case "u32":case "s32":case "f32":for(P=0;P<h.length;P+=4)p[P]=h[P+3],p[P+1]=h[P+2],p[P+2]=h[P+1],p[P+3]=h[P]}P=new u(x);v.set(P,Y)}h=[];if(1===q)h.push(v);else for(d=0;d<q;d++){p=new u(r);for(a=0;a<r;a++)p[a]=v[a*q+d];h.push(p)}d={width:b,height:c,pixelType:e,pixels:h}}if(null!==
f){d.mask=new Uint8Array(d.width*d.height);if(1E24<Math.abs(f))for(a=0;a<d.width*d.height;a++)d.mask[a]=1E-6>Math.abs((d.pixels[0][a]-f)/f)?0:1;else for(a=0;a<d.width*d.height;a++)d.mask[a]=d.pixels[0][a]===f?0:1;d.noDataValue=f}return d}})},"esri/layers/support/rasterDatasets/byteStreamUtils":function(){define(["require","exports"],function(a,c){Object.defineProperty(c,"__esModule",{value:!0});c.bytesToUTF8=function(a,c){for(var e=0,h="",k=0,d=0,g=a.length;e<g;)if(d=a[e++],k=d>>4,8>k?k=1:15===k?
(k=4,d=(d&7)<<18|(a[e++]&63)<<12|(a[e++]&63)<<6|a[e++]&63):14===k?(k=3,d=(d&15)<<12|(a[e++]&63)<<6|a[e++]&63):(k=2,d=(d&31)<<6|a[e++]&63),0!==d||c)h+=String.fromCharCode(d);return h}})},"esri/layers/support/rasterFormats/TiffTags":function(){define(["require","exports"],function(a,c){var n=function(){var a=[];a[254]="NEWSUBFILETYPE";a[255]="SUBFILETYPE";a[256]="IMAGEWIDTH";a[257]="IMAGELENGTH";a[258]="BITSPERSAMPLE";a[259]="COMPRESSION";a[262]="PHOTOMETRICINTERPRETATION";a[263]="THRESHHOLDING";a[264]=
"CELLWIDTH";a[265]="CELLLENGTH";a[266]="FILLORDER";a[269]="DOCUMENTNAME";a[270]="IMAGEDESCRIPTION";a[271]="MAKE";a[272]="MODEL";a[273]="STRIPOFFSETS";a[274]="ORIENTATION";a[277]="SAMPLESPERPIXEL";a[278]="ROWSPERSTRIP";a[279]="STRIPBYTECOUNTS";a[280]="MINSAMPLEVALUE";a[281]="MAXSAMPLEVALUE";a[282]="XRESOLUTION";a[283]="YRESOLUTION";a[284]="PLANARCONFIGURATION";a[285]="PAGENAME";a[286]="XPOSITION";a[287]="YPOSITION";a[288]="FREEOFFSETS";a[289]="FREEBYTECOUNTS";a[290]="GRAYRESPONSEUNIT";a[291]="GRAYRESPONSECURVE";
a[292]="T4OPTIONS";a[293]="T6OPTIONS";a[296]="RESOLUTIONUNIT";a[297]="PAGENUMBER";a[300]="COLORRESPONSEUNIT";a[301]="TRANSFERFUNCTION";a[305]="SOFTWARE";a[306]="DATETIME";a[315]="ARTIST";a[316]="HOSTCOMPUTER";a[317]="PREDICTOR";a[318]="WHITEPOINT";a[319]="PRIMARYCHROMATICITIES";a[320]="COLORMAP";a[321]="HALFTONEHINTS";a[322]="TILEWIDTH";a[323]="TILELENGTH";a[324]="TILEOFFSETS";a[325]="TILEBYTECOUNTS";a[326]="BADFAXLINES";a[327]="CLEANFAXDATA";a[328]="CONSECUTIVEBADFAXLINES";a[330]="SUBIFD";a[332]=
"INKSET";a[333]="INKNAMES";a[334]="NUMBEROFINKS";a[336]="DOTRANGE";a[337]="TARGETPRINTER";a[338]="EXTRASAMPLES";a[339]="SAMPLEFORMAT";a[340]="SMINSAMPLEVALUE";a[341]="SMAXSAMPLEVALUE";a[342]="TRANSFERRANGE";a[347]="JPEGTABLES";a[512]="JPEGPROC";a[513]="JPEGIFOFFSET";a[514]="JPEGIFBYTECOUNT";a[515]="JPEGRESTARTINTERVAL";a[517]="JPEGLOSSLESSPREDICTORS";a[518]="JPEGPOINTTRANSFORM";a[519]="JPEGQTABLES";a[520]="JPEGDCTABLES";a[521]="JPEGACTABLES";a[529]="YCBCRCOEFFICIENTS";a[530]="YCBCRSUBSAMPLING";a[531]=
"YCBCRPOSITIONING";a[532]="REFERENCEBLACKWHITE";a[700]="XMP";a[33550]="GEOPIXELSCALE";a[33922]="GEOTIEPOINTS";a[33432]="COPYRIGHT";a[42112]="GDAL_METADATA";a[42113]="GDAL_NODATA";a[50844]="RPCCOEFFICIENT";a[34264]="GEOTRANSMATRIX";a[34735]="GEOKEYDIRECTORY";a[34736]="GEODOUBLEPARAMS";a[34737]="GEOASCIIPARAMS";a[34665]="EXIFIFD";a[34853]="GPSIFD";a[40965]="INTEROPERABILITYIFD";return a}();a=function(){var a=[].concat(n);a[36864]="ExifVersion";a[40960]="FlashpixVersion";a[40961]="ColorSpace";a[42240]=
"Gamma";a[37121]="ComponentsConfiguration";a[37122]="CompressedBitsPerPixel";a[40962]="PixelXDimension";a[40963]="PixelYDimension";a[37500]="MakerNote";a[37510]="UserComment";a[40964]="RelatedSoundFile";a[36867]="DateTimeOriginal";a[36868]="DateTimeDigitized";a[36880]="OffsetTime";a[36881]="OffsetTimeOriginal";a[36882]="OffsetTimeDigitized";a[37520]="SubSecTime";a[37521]="SubSecTimeOriginal";a[37522]="SubSecTimeDigitized";a[37888]="Temperature";a[37889]="Humidity";a[37890]="Pressure";a[37891]="WaterDepth";
a[37892]="Acceleration";a[37893]="CameraElevationAngle";a[42016]="ImageUniqueID";a[42032]="CameraOwnerName";a[42033]="BodySerialNumber";a[42034]="LensSpecification";a[42035]="LensMake";a[42036]="LensModel";a[42037]="LensSerialNumber";a[33434]="ExposureTime";a[33437]="FNumber";a[34850]="ExposureProgram";a[34852]="SpectralSensitivity";a[34855]="PhotographicSensitivity";a[34856]="OECF";a[34864]="SensitivityType";a[34865]="StandardOutputSensitivity";a[34866]="RecommendedExposureIndex";a[34867]="ISOSpeed";
a[34868]="ISOSpeedLatitudeyyy";a[34869]="ISOSpeedLatitudezzz";a[37377]="ShutterSpeedValue";a[37378]="ApertureValue";a[37379]="BrightnessValue";a[37380]="ExposureBiasValue";a[37381]="MaxApertureValue";a[37382]="SubjectDistance";a[37383]="MeteringMode";a[37384]="LightSource";a[37385]="Flash";a[37386]="FocalLength";a[37396]="SubjectArea";a[41483]="FlashEnergy";a[41484]="SpatialFrequencyResponse";a[41486]="FocalPlaneXResolution";a[41487]="FocalPlaneYResolution";a[41488]="FocalPlaneResolutionUnit";a[41492]=
"SubjectLocation";a[41493]="ExposureIndex";a[41495]="SensingMethod";a[41728]="FileSource";a[41729]="SceneType";a[41730]="CFAPattern";a[41985]="CustomRendered";a[41986]="ExposureMode";a[41987]="WhiteBalance";a[41988]="DigitalZoomRatio";a[41989]="FocalLengthIn35mmFilm";a[41990]="SceneCaptureType";a[41991]="GainControl";a[41992]="Contrast";a[41993]="Saturation";a[41994]="Sharpness";a[41995]="DeviceSettingDescription";a[41996]="SubjectDistanceRange";return a}();c=function(){var a=[];a[1024]="GTModelTypeGeoKey";
a[1025]="GTRasterTypeGeoKey";a[1026]="GTCitationGeoKey";a[2048]="GeographicTypeGeoKey";a[2049]="GeogCitationGeoKey";a[2050]="GeogGeodeticDatumGeoKey";a[2051]="GeogPrimeMeridianGeoKey";a[2052]="GeogLinearUnitsGeoKey";a[2053]="GeogLinearUnitSizeGeoKey";a[2054]="GeogAngularUnitsGeoKey";a[2055]="GeogAngularUnitSizeGeoKey";a[2056]="GeogEllipsoidGeoKey";a[2057]="GeogSemiMajorAxisGeoKey";a[2058]="GeogSemiMinorAxisGeoKey";a[2059]="GeogInvFlatteningGeoKey";a[2061]="GeogPrimeMeridianLongGeoKey";a[2060]="GeogAzimuthUnitsGeoKey";
a[3072]="ProjectedCSTypeGeoKey";a[3073]="PCSCitationGeoKey";a[3074]="ProjectionGeoKey";a[3075]="ProjCoordTransGeoKey";a[3076]="ProjLinearUnitsGeoKey";a[3077]="ProjLinearUnitSizeGeoKey";a[3078]="ProjStdParallel1GeoKey";a[3079]="ProjStdParallel2GeoKey";a[3080]="ProjNatOriginLongGeoKey";a[3081]="ProjNatOriginLatGeoKey";a[3082]="ProjFalseEastingGeoKey";a[3083]="ProjFalseNorthingGeoKey";a[3084]="ProjFalseOriginLongGeoKey";a[3085]="ProjFalseOriginLatGeoKey";a[3086]="ProjFalseOriginEastingGeoKey";a[3087]=
"ProjFalseOriginNorthingGeoKey";a[3088]="ProjCenterLongGeoKey";a[3090]="ProjCenterEastingGeoKey";a[3091]="ProjCenterNorthingGeoKey";a[3092]="ProjScaleAtNatOriginGeoKey";a[3093]="ProjScaleAtCenterGeoKey";a[3094]="ProjAzimuthAngleGeoKey";a[3095]="ProjStraightVertPoleLongGeoKey";a[4096]="VerticalCSTypeGeoKey";a[4097]="VerticalCitationGeoKey";a[4098]="VerticalDatumGeoKey";a[4099]="VerticalUnitsGeoKey";return a}();var e=new Map;e.set("EXIFIFD",a);e.set("GPSIFD","GPSVersionID GPSLatitudeRef GPSLatitude GPSLongitudeRef GPSLongitude GPSAltitudeRef GPSAltitude GPSTimeStamp GPSSatellites GPSStatus GPSMeasureMode GPSDOP GPSSpeedRef GPSSpeed GPSTrackRef GPSTrack GPSImgDirectionRef GPSImgDirection GPSMapDatum GPSDestLatitudeRef GPSDestLatitude GPSDestLongitudeRef GPSDestLongitude GPSDestBearingRef GPSDestBearing GPSDestDistanceRef GPSDestDistance GPSProcessingMethod GPSAreaInformation GPSDateStamp GPSDifferential GPSHPositioningError".split(" "));
return{TIFF_TAGS:n,ifdTags:e,GEO_KEYS:c,getTagName:function(a,c){c=(c||n)[a];void 0===c&&(c="unknown"+String(a));return c}}})},"esri/layers/support/rasterFunctions/pixelUtils":function(){define(["require","exports","../PixelBlock"],function(a,c,n){function e(a,c){a=Math.min(Math.max(a,-100),100);c=Math.min(Math.max(c,-100),100);var b,d,f=new Uint8Array(256);for(b=0;256>b;b++)0<a&&100>a?d=(200*b-25500+510*c)/(2*(100-a))+128:0>=a&&-100<a?d=(200*b-25500+510*c)*(100+a)/2E4+128:100===a?(d=200*b-25500+
256*(100-a)+510*c,d=0<d?255:0):-100===a&&(d=128),f[b]=255<d?255:0>d?0:d;return f}function l(a,c,b,m,f,e,p,q){return{xmin:f<=b*a?0:f<b*a+a?f-b*a:a,ymin:e<=m*c?0:e<m*c+c?e-m*c:c,xmax:f+p<=b*a?0:f+p<b*a+a?f+p-b*a:a,ymax:e+q<=m*c?0:e+q<m*c+c?e+q-m*c:c}}function h(a,c,b,m){var d=a.filter(function(a){return k(a)})[0];if(null==d)return null;var g=m?m.width:c.width;m=m?m.height:c.height;var e=d.width,q=d.height,w=c.width/e;c=c.height/q;var u=b?b.x:0;b=b?b.y:0;var h=d.pixelType,r=n.getPixelArrayConstructor(h),
B=d.pixels.length,d=[],x,G,A,y,C,z,D,E,H,F;for(C=0;C<B;C++){G=new r(g*m);for(z=0;z<c;z++)for(D=0;D<w;D++)if(A=a[z*w+D])for(x=A.pixels[C],F=l(e,q,D,z,u,b,g,m),E=F.ymin;E<F.ymax;E++)for(A=(z*q+E-b)*g+(D*e-u),y=E*e,H=F.xmin;H<F.xmax;H++)G[A+H]=x[y+H];d.push(G)}var J;if(a.some(function(a){return null==a||a.mask&&0<a.mask.length}))for(J=new Uint8Array(g*m),z=0;z<c;z++)for(D=0;D<w;D++)if(r=(A=a[z*w+D])?A.mask:null,F=l(e,q,D,z,u,b,g,m),r)for(E=F.ymin;E<F.ymax;E++)for(A=(z*q+E-b)*g+(D*e-u),y=E*e,H=F.xmin;H<
F.xmax;H++)J[A+H]=r[y+H];else if(A)for(E=F.ymin;E<F.ymax;E++)for(A=(z*q+E-b)*g+(D*e-u),y=E*e,H=F.xmin;H<F.xmax;H++)J[A+H]=1;else for(E=F.ymin;E<F.ymax;E++)for(A=(z*q+E-b)*g+(D*e-u),y=E*e,H=F.xmin;H<F.xmax;H++)J[A+H]=0;a=new n({width:g,height:m,pixels:d,pixelType:h,mask:J});a.updateStatistics();return a}Object.defineProperty(c,"__esModule",{value:!0});var k=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length};c.extractBands=function(a,c){if(!c||!k(a))return a;
var b=a.pixels.length;return c&&c.some(function(a){return a>=b})||1===b&&1===c.length&&0===c[0]||b===c.length&&!c.some(function(a,b){return a!==b})?a:new n({pixelType:a.pixelType,width:a.width,height:a.height,mask:a.mask,validPixelCount:a.validPixelCount,maskIsAlpha:a.maskIsAlpha,pixels:c.map(function(b){return a.pixels[b]}),statistics:a.statistics&&c.map(function(b){return a.statistics[b]})})};c.createColormapLUT=function(a){if(a){var d=a.colormap;if(d&&0!==d.length){var d=d.sort(function(a,b){return a[0]-
b[0]}),b=0;0>d[0][0]&&(b=d[0][0]);var c=Math.max(256,d[d.length-1][0]-b+1),f=new Uint8Array(4*c),e=[],p=0,q=0,k=5===d[0].length;if(65536<c)return d.forEach(function(a){e[a[0]-b]=k?a.slice(1):a.slice(1).concat([255])}),{indexed2DColormap:e,offset:b,alphaSpecified:k};if(a.fillUnspecified)for(a=d[q],p=a[0]-b;p<c;p++)f[4*p]=a[1],f[4*p+1]=a[2],f[4*p+2]=a[3],f[4*p+3]=k?a[4]:255,p===a[0]-b&&(a=q===d.length-1?a:d[++q]);else for(p=0;p<d.length;p++)a=d[p],q=4*(a[0]-b),f[q]=a[1],f[q+1]=a[2],f[q+2]=a[3],f[q+
3]=k?a[4]:255;return{indexedColormap:f,offset:b,alphaSpecified:k}}}};c.colorize=function(a,c){if(!k(a)||!c&&(c.indexedColormap||c.indexed2DColormap))return a;var b=a.clone(),d=b.pixels,f=b.mask,g=b.width*b.height;if(1!==d.length)return a;var e=c.indexedColormap;a=c.indexed2DColormap;var q=c.offset;c=c.alphaSpecified;var h=e.length-1,u=0,d=d[0],t=new Uint8Array(d.length),r=new Uint8Array(d.length),l=new Uint8Array(d.length),x=0;if(e)if(f)for(u=0;u<g;u++)f[u]&&(x=4*(d[u]-q),x<q||x>h?f[u]=0:(t[u]=e[x],
r[u]=e[x+1],l[u]=e[x+2],f[u]=e[x+3]));else{f=new Uint8Array(g);for(u=0;u<g;u++)x=4*(d[u]-q),x<q||x>h?f[u]=0:(t[u]=e[x],r[u]=e[x+1],l[u]=e[x+2],f[u]=e[x+3]);b.mask=f}else if(f)for(u=0;u<g;u++)f[u]&&(e=a[d[u]],t[u]=e[0],r[u]=e[1],l[u]=e[2],f[u]=e[3]);else{f=new Uint8Array(g);for(u=0;u<g;u++)e=a[d[u]],t[u]=e[0],r[u]=e[1],l[u]=e[2],f[u]=e[3];b.mask=f}b.pixels=[t,r,l];b.statistics=null;b.pixelType="u8";b.maskIsAlpha=c;return b};c.estimateStatisticsHistograms=function(a){if(!k(a))return null;var d=a.pixels,
b=a.mask,c=a.pixelType,f=a.statistics;a=a.width*a.height;var e=d.length,p,q,h,u,t,r=[],l=[],x,n,A;for(u=0;u<e;u++){x=new Uint32Array(256);A=d[u];if("u8"===c)if(p=-.5,q=255.5,b)for(t=0;t<a;t++)b[t]&&x[A[t]]++;else for(t=0;t<a;t++)x[A[t]]++;else{p=f[u].minValue;q=f[u].maxValue;h=(q-p)/256;n=new Uint32Array(257);if(b)for(t=0;t<a;t++)b[t]&&n[Math.floor((A[t]-p)/h)]++;else for(t=0;t<a;t++)n[Math.floor((A[t]-p)/h)]++;for(t=0;255>t;t++)x[t]=n[t];x[255]=n[255]+n[256]}r.push({min:p,max:q,size:256,counts:x});
for(t=A=n=h=0;256>t;t++)h+=x[t],n+=t*x[t];n/=h;for(t=0;256>t;t++)A+=x[t]*Math.pow(t-n,2);x=Math.sqrt(A/(h-1));h=(q-p)/256;t=(n+.5)*h+p;x*=h;l.push({min:p,max:q,avg:t,stddev:x})}return{statistics:l,histograms:r}};c.createStretchLUT=function(a){var d=a.minCutOff,b=a.maxCutOff,c=a.gamma,f=a.pixelType,k=a.outMin||0,p=a.outMax||255;if(-1===["u8","u16","s8","s16"].indexOf(f))return null;var q=d.length,h,u=0;"s8"===f?u=-127:"s16"===f&&(u=-32767);var t=256;-1<["u16","s16"].indexOf(f)&&(t=65536);for(var r=
[],l=p-k,f=0;f<q;f++)r[f]=b[f]-d[f];h=c&&c.length>=q;var x=[];if(h)for(f=0;f<q;f++)x[f]=1<c[f]?2<c[f]?6.5+Math.pow(c[f]-2,2.5):6.5+100*Math.pow(2-c[f],4):1;var n,A=[],y,C,z;if(h)for(f=0;f<q;f++){z=[];for(h=0;h<t;h++)y=h+u,n=(y-d[f])/r[f],C=1,1<c[f]&&(C-=Math.pow(1/l,n*x[f])),z[h]=y<b[f]&&y>d[f]?Math.floor(C*l*Math.pow(n,1/c[f]))+k:y>=b[f]?p:k;A[f]=z}else for(f=0;f<q;f++){z=[];for(h=0;h<t;h++)y=h+u,z[h]=y<=d[f]?k:y>=b[f]?p:Math.floor((y-d[f])/r[f]*l)+k;A[f]=z}if(null!=a.contrastOffset)for(a=e(a.contrastOffset,
a.brightnessOffset),f=0;f<q;f++)for(z=A[f],h=0;h<t;h++)z[h]=a[z[h]];return{lut:A,offset:u}};c.createContrastBrightnessLUT=e;c.stretch=function(a,c){if(!k(a))return null;a=a.clone();var b=a.pixels,d=a.mask,f=c.minCutOff,e=c.maxCutOff,g=c.gamma,q=c.outMin||0;c=c.outMax||255;var h=a.width*a.height,u=b.length,t,r,l,x,n,A=c-q,y=[];for(t=0;t<u;t++)y[t]=e[t]-f[t];r=g&&g.length>=u;var C=[];if(r)for(t=0;t<u;t++)C[t]=1<g[t]?2<g[t]?6.5+Math.pow(g[t]-2,2.5):6.5+100*Math.pow(2-g[t],4):1;if(r)if(null!=d)for(r=
0;r<h;r++){if(d[r])for(t=0;t<u;t++)l=b[t][r],n=(l-f[t])/y[t],x=1,1<g[t]&&(x-=Math.pow(1/A,n*C[t])),b[t][r]=l<e[t]&&l>f[t]?Math.floor(x*A*Math.pow(n,1/g[t]))+q:l>=e[t]?c:q}else for(r=0;r<h;r++)for(t=0;t<u;t++)l=b[t][r],n=(l-f[t])/y[t],x=1,1<g[t]&&(x-=Math.pow(1/A,n*C[t])),b[t][r]=l<e[t]&&l>f[t]?Math.floor(x*A*Math.pow(n,1/g[t]))+q:l>=e[t]?c:q;else if(null!=d)for(r=0;r<h;r++){if(d[r])for(t=0;t<u;t++)l=b[t][r],b[t][r]=l<e[t]&&l>f[t]?Math.floor((l-f[t])/y[t]*A)+q:l>=e[t]?c:q}else for(r=0;r<h;r++)for(t=
0;t<u;t++)l=b[t][r],b[t][r]=l<e[t]&&l>f[t]?Math.floor((l-f[t])/y[t]*A)+q:l>=e[t]?c:q;a.pixelType="u8";a.updateStatistics();return a};c.lookupPixels=function(a,c){if(!k(a))return null;var b=a.pixels,d=a.mask,f=a.width*a.height,e=b.length,g=c.lut;c=c.offset;var q,h;g&&1===g[0].length&&(g=b.map(function(){return g}));var u=[],t,r,l;if(c)if(null==d)for(q=0;q<e;q++){t=b[q];r=g[q];l=new Uint8Array(f);for(h=0;h<f;h++)l[h]=r[t[h]-c];u.push(l)}else for(q=0;q<e;q++){t=b[q];r=g[q];l=new Uint8Array(f);for(h=
0;h<f;h++)d[h]&&(l[h]=r[t[h]-c]);u.push(l)}else if(null==d)for(q=0;q<e;q++){t=b[q];r=g[q];l=new Uint8Array(f);for(h=0;h<f;h++)l[h]=r[t[h]];u.push(l)}else for(q=0;q<e;q++){t=b[q];r=g[q];l=new Uint8Array(f);for(h=0;h<f;h++)d[h]&&(l[h]=r[t[h]]);u.push(l)}a=new n({width:a.width,height:a.height,pixels:u,mask:d,pixelType:"u8"});a.updateStatistics();return a};c.remapColor=function(a,c){if(!k(a))return null;a=a.clone();var b=a.width*a.height,d=c.length,f=Math.floor(d/2),e=c[Math.floor(f)],g=a.pixels[0],q,
h,u,t,r,l,x=!1,n=new Uint8Array(b),A=new Uint8Array(b),y=new Uint8Array(b),C=a.mask,z=4===c[0].mappedColor.length;C||(C=new Uint8Array(b),C.fill(z?255:1),a.mask=C);for(r=0;r<b;r++)if(C[r]){q=g[r];x=!1;l=f;h=e;u=0;for(t=d-1;1<t-u;){if(q===h.value){x=!0;break}q>h.value?u=l:t=l;l=Math.floor((u+t)/2);h=c[Math.floor(l)]}x||(q===c[u].value?(h=c[u],x=!0):q===c[t].value?(h=c[t],x=!0):q<c[u].value?(x=!1,h=null):q>c[u].value&&(q<c[t].value?(h=c[u],x=!0):t===d-1?(x=!1,h=null):(h=c[t],x=!0)));x?(n[r]=h.mappedColor[0],
A[r]=h.mappedColor[1],y[r]=h.mappedColor[2],C[r]=h.mappedColor[3]):n[r]=A[r]=y[r]=C[r]=0}a.pixels=[n,A,y];a.mask=C;a.pixelType="u8";a.maskIsAlpha=z;return a};c.getClipBounds=l;c.mosaicPixelData=function(a,c){if(!a||0===a.length)return null;var b=a.filter(function(a){return a.pixelBlock})[0];if(!b)return null;var d=(b.extent.xmax-b.extent.xmin)/b.pixelBlock.width,f=(b.extent.ymax-b.extent.ymin)/b.pixelBlock.height,e=.01*Math.min(d,f),g=a.sort(function(a,b){return Math.abs(a.extent.ymax-b.extent.ymax)>
e?b.extent.ymax-a.extent.ymax:Math.abs(a.extent.xmin-b.extent.xmin)>e?a.extent.xmin-b.extent.xmin:0}),q=Math.min.apply(null,g.map(function(a){return a.extent.xmin})),k=Math.min.apply(null,g.map(function(a){return a.extent.ymin})),u=Math.max.apply(null,g.map(function(a){return a.extent.xmax})),t=Math.max.apply(null,g.map(function(a){return a.extent.ymax}));a={x:Math.round((c.xmin-q)/d),y:Math.round((t-c.ymax)/f)};q={width:Math.round((u-q)/d),height:Math.round((t-k)/f)};d={width:Math.round((c.xmax-
c.xmin)/d),height:Math.round((c.ymax-c.ymin)/f)};if(Math.round(q.width/b.pixelBlock.width)*Math.round(q.height/b.pixelBlock.height)!==g.length||0>a.x||0>a.y||q.width<d.width||q.height<d.height)return null;b=g.map(function(a){return a.pixelBlock});b=h(b,q,a,d);return{extent:c,pixelBlock:b}};c.mosaic=h;c.setValidBoundary=function(a,c,b){if(!k(a))return null;var d=a.width,f=a.height,e=c.x;c=c.y;var g=b.width+e;b=b.height+c;if(0>e||0>c||g>d||b>f||0===e&&0===c&&g===d&&b===f)return a;a.mask||(a.mask=new Uint8Array(d*
f));for(var q=a.mask,h=0;h<f;h++)for(var u=h*d,t=0;t<d;t++)q[u+t]=h<c||h>=b||t<e||t>=g?0:1;a.updateStatistics();return a};c.clip=function(a,c,b){if(!k(a))return null;var d=c.x,f=c.y,e=c.x+b.width;c=c.x+b.height;if(c===a.height&&e===a.width)return a;for(var g=a.pixels,q=a.mask,h=a.width,u=h*a.height,t=g.length,r=[],l=0;l<t;l++){for(var x=g[l],G=n.createEmptyBand(a.pixelType,u),A=0,y=f;y<=c;y++)for(var C=y*h,z=d;z<=e;z++)G[A++]=x[C+z];r.push(G)}var D;if(q)for(D=new Uint8Array(b.width*b.height),A=0,
y=f;y<=c;y++)for(C=y*h,z=d;z<=e;z++)D[A++]=q[C+z];a=new n({width:b.width,height:b.height,pixels:r,mask:D});a.updateStatistics();return a};c.approximateTransform=function(a,c,b,e){if(!k(a))return null;var d=a.pixels,m=a.mask,g=a.pixelType,q=a.width,h=a.height;a=n.getPixelArrayConstructor(g);var u=d.length,l=c.width,r=c.height;c=e.cols;e=e.rows;for(var B=Math.ceil(l/c),x=Math.ceil(r/e),G,A,y,C,z,D,E,H=new Uint16Array(l*r),F=new Uint16Array(l*r),J=0,L,M,I=0;I<x;I++)for(var K=0;K<B;K++){G=12*(I*B+K);
A=b[G];y=b[G+1];C=b[G+2];z=b[G+3];D=b[G+4];E=b[G+5];for(var N=0;N<e;N++){J=(I*e+N)*l+K*c;M=(N+.5)/e;for(var O=0;O<N;O++)L=(O+.5)/c,H[J+O]=Math.round((A*L+y*M+C)*q-.5),F[J+O]=Math.round((z*L+D*M+E)*h-.5)}G+=6;A=b[G];y=b[G+1];C=b[G+2];z=b[G+3];D=b[G+4];E=b[G+5];for(N=0;N<e;N++)for(J=(I*e+N)*l+K*c,M=(N+.5)/e,O=N;O<c;O++)L=(O+.5)/c,H[J+O]=Math.round((A*L+y*M+C)*q-.5),F[J+O]=Math.round((z*L+D*M+E)*h-.5)}b=function(a,b){for(var d=0;d<r;d++){G=d*l;for(var c=0;c<l;c++)a[G]=b[H[G]+F[G]*q],G++}};h=[];for(e=
0;e<u;e++)c=new a(l*r),b(c,d[e]),h.push(c);d=new n({width:l,height:r,pixelType:g,pixels:h});m&&(d.mask=new Uint8Array(l*r),b(d.mask,m));d.updateStatistics();return d}})},"esri/renderers/support/RasterSymbolizer":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../rasterRenderers ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../layers/support/RasterInfo ../../layers/support/rasterFunctions/pixelUtils ../support/colorRampUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){var q=b.getLogger("esri.renderers.support.RasterSymbolizer");return function(a){function b(b){return a.call(this,b)||this}e(b,a);b.prototype.readRenderer=function(a,b,c){return d.read(a,c)};b.prototype.bind=function(){this.lookup={};if(!this.renderer)return!1;var a;switch(this.renderer.type){case "unique-value":a=this._updateUVRenderer(this.renderer);break;case "raster-colormap":a=this._updateColormapRenderer(this.renderer);break;case "raster-stretch":a=this._updateStretchRenderer(this.renderer);
break;case "class-breaks":a=this._updateClassBreaksRenderer(this.renderer)}return a};b.prototype.symbolize=function(a){if(!(a&&a.pixels&&0<a.pixels.length&&0!==a.validPixelCount))return a;try{3<a.pixels.length&&(a=v.extractBands(a,[0,1,2]));var b=void 0;switch(this.renderer.type){case "unique-value":case "raster-colormap":b=this._symbolize_colormap(a);break;case "class-breaks":b=this._symbolize_classBreaks(a);break;case "raster-stretch":b=this._symbolize_stretch(a)}return b}catch(B){return q.error("symbolize",
B.message),a}};b.prototype.generateWebGLParameters=function(a,b){void 0===b&&(b=!1);if(b)return{bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,type:"stretch"};if(-1<["unique-value","raster-colormap","class-breaks"].indexOf(this.renderer.type))return b=this.lookup.lut,{colormap:b.indexedColormap,colormapOffset:b.colormapOffset,type:"lut"};var d=this.renderer;b=d.gamma;
var c=d.useGamma,f=this.getStretchCutoff(d,a),d=f.minCutOff,e=f.maxCutOff,m=f.outMin,f=f.outMax;a&&a.pixels&&2===a.pixels.length&&(a=a.clone(),a.statistics=[a.statistics[0]],a.pixels=[a.pixels[0]]);a=Math.min(3,a&&a.getPlaneCount()||this.rasterInfo.bandCount);var g=new Float32Array(a),p;for(p=0;p<a;p++)g[p]=(f-m)/(e[p]-d[p])/255;var q=new Float32Array(a);if(c)for(p=0;p<a;p++)q[p]=1<b[p]?2<b[p]?6.5+Math.pow(b[p]-2,2.5):6.5+100*Math.pow(2-b[p],4):1;return{bandCount:a,outMin:m/255,outMax:f/255,minCutOff:d,
maxCutOff:e,factor:g,useGamma:c,gamma:c?b:[1,1,1],gammaCorrection:c?q:[1,1,1],colormap:null,colormapOffset:null,type:"stretch"}};b.prototype._isLUTChanged=function(a){if(!this.lookup)return!0;if("raster-stretch"===this.renderer.type){var b=this.renderer.colorRamp;if(a)return JSON.stringify(b.toJSON())!==JSON.stringify(this.lookup.rendererJson.colorRamp);a=n({},this.renderer.toJSON());b=n({},this.lookup.rendererJson);a.colorRamp=null;b.colorRamp=null}return JSON.stringify(this.renderer.toJSON())!==
JSON.stringify(this.lookup.rendererJson)};b.prototype._symbolize_colormap=function(a){return this._isLUTChanged()&&!this.bind()?a:v.colorize(a,this.lookup.lut)};b.prototype._symbolize_classBreaks=function(a){var b=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType);return this._isLUTChanged()&&!this.bind()?a:b?v.colorize(a,this.lookup.lut):v.remapColor(a,this.lookup.lut)};b.prototype._symbolize_stretch=function(a){var b=this.rasterInfo.pixelType,d=this.renderer,c=-1<["u8","u16","s8","s16"].indexOf(b),
f=d.gamma,e=d.useGamma;if(c){if(d.dynamicRangeAdjustment)c=this.getStretchCutoff(d,a),b=v.createStretchLUT(n({pixelType:b},c,{gamma:e?f:null}));else{if(this._isLUTChanged()&&(f=this.bind(),!f))return a;b=this.lookup?this.lookup.lut:null}if(!b)return a;b=v.lookupPixels(a,b)}else c=this.getStretchCutoff(d,a),b=v.stretch(a,n({},c,{gamma:e?f:null}));if(d.colorRamp){if(this._isLUTChanged(!0)&&(f=this.bind(),!f))return a;b=v.colorize(b,this.lookup.colorRampLut)}return b};b.prototype._updateUVRenderer=function(a){var b=
this.rasterInfo,d=b.bandCount,c=b.attributeTable,f=b.statistics,b=-1<["u8","s8"].indexOf(b.pixelType)&&f&&null!=f[0].min&&null!=f[0].max;if(1!==d||!c&&!b)return!1;var e=a.field;if(!e)return!1;var m=[];if(c){var g=c.fields.filter(function(a){return"value"===a.name.toLowerCase()})[0];if(!g)return!1;c.features.forEach(function(b){var d=a.uniqueValueInfos.filter(function(a){return String(a.value)===String(b.attributes[e])})[0];(d=d&&d.symbol&&d.symbol.color)&&m.push([b.attributes[g.name],d.r,d.g,d.b,
1<d.a?d.a:Math.round(255*d.a)])})}else{if("Value"!==e.toLowerCase())return!1;a.uniqueValueInfos.forEach(function(a){var b=a&&a.symbol&&a.symbol.color;b&&m.push([parseInt(a.value,10),b.r,b.g,b.b,1<b.a?b.a:Math.round(255*b.a)])})}if(0===m.length)return!1;d=v.createColormapLUT({colormap:m});this.lookup={rendererJson:a.toJSON(),lut:d};return this.canRenderInWebGL=!0};b.prototype._updateColormapRenderer=function(a){var b=a.extractColormap();if(!b||0===b.length)return!1;b=v.createColormapLUT({colormap:b});
this.lookup={rendererJson:a.toJSON(),lut:b};return this.canRenderInWebGL=!0};b.prototype._updateClassBreaksRenderer=function(a){var b=-1<["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType),d=a.classBreakInfos;if(!d||0===d.length)return!1;var c=d.sort(function(a,b){return a.minValue-b.minValue}),d=c[c.length-1];if(!b)return b=c.map(function(a){return{value:a.minValue,mappedColor:[a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)]}}),
b.push({value:d.maxValue,mappedColor:[d.symbol.color.g,d.symbol.color.b,1<d.symbol.color.a?d.symbol.color.a:Math.round(255*d.symbol.color.a)]}),this.lookup={rendererJson:a.toJSON(),lut:b},this.canRenderInWebGL=!1,!0;var f=[],e,m=0;c.forEach(function(a){e=Math.ceil(a.minValue);m=Math.floor(a.maxValue);for(var b=e;b<m;b++)f.push([b,a.symbol.color.r,a.symbol.color.g,a.symbol.color.b,1<a.symbol.color.a?a.symbol.color.a:Math.round(255*a.symbol.color.a)])});f.push([d.maxValue,d.symbol.color.r,d.symbol.color.g,
d.symbol.color.b,1<d.symbol.color.a?d.symbol.color.a:Math.round(255*d.symbol.color.a)]);b=v.createColormapLUT({colormap:f,fillUnspecified:!1});this.lookup={rendererJson:a.toJSON(),lut:b};return this.canRenderInWebGL=!0};b.prototype._updateStretchRenderer=function(a){if(!(a.statistics||this.rasterInfo.statistics||a.dynamicRangeAdjustment))return!1;var b=a.histograms||this.rasterInfo.histograms;if(!a.dynamicRangeAdjustment&&"percent-clip"===a.stretchType&&!b)return!1;var d=a.gamma,c=a.useGamma,b=a.colorRamp,
f=this.rasterInfo.pixelType;if(!a.dynamicRangeAdjustment&&-1<["u8","u16","s8","s16"].indexOf(f)){var e=this.getStretchCutoff(a),d=v.createStretchLUT(n({pixelType:f},e,{gamma:c?d:null}));this.lookup={rendererJson:a.toJSON(),lut:d}}b&&(b=p.convertColorRampToColormap(b,256),this.lookup.colorRampLut=v.createColormapLUT({colormap:b}),this.lookup.rendererJson=a.toJSON());return this.canRenderInWebGL=!0};b.prototype.getStretchCutoff=function(a,b){var d,c,f=a.stretchType;a.dynamicRangeAdjustment?"min-max"===
f&&b.statistics?d=b.statistics.map(function(a){return[a.minValue,a.maxValue,0,0]}):(c=v.estimateStatisticsHistograms(b),d=c.statistics,c=c.histograms):(d=a.statistics,c=a.histograms||this.rasterInfo.histograms);b=d||c?(d||c).length:this.rasterInfo.bandCount;var e=[],m=[],g,p,q,r,k,h;d[0]instanceof Array||(d=d.map(function(a){return[a.min,a.max,a.avg,a.stddev]}));switch(f){case "min-max":for(f=0;f<b;f++)e[f]=d[f][0],m[f]=d[f][1];break;case "standard-deviation":for(f=0;f<b;f++)e[f]=d[f][2]-a.numberOfStandardDeviations*
d[f][3],m[f]=d[f][2]+a.numberOfStandardDeviations*d[f][3],e[f]<d[f][0]&&(e[f]=d[f][0]),m[f]>d[f][1]&&(m[f]=d[f][1]);break;case "percent-clip":for(f=0;f<b;f++){d=c[f];r=new Uint32Array(d.size);q=d.counts;p=0;g=(d.max-d.min)/d.size;k=-.5===d.min&&1===g?.5:0;for(h=0;h<d.size;h++)p+=q[h],r[h]=p;q=a.minPercent*p/100;for(h=0;h<d.size;h++)if(r[h]>q){e[f]=d.min+g*(h+k);break}q=(1-a.maxPercent/100)*p;for(h=d.size-2;0<=h;h--)if(r[h]<q){m[f]=d.min+g*(h+2-k);break}}break;default:for(f=0;f<b;f++)e[f]=d[f][0],
m[f]=d[f][1]}return{minCutOff:e,maxCutOff:m,outMax:a.outputMax||255,outMin:a.outputMin||0}};l([m.property({types:d.rasterRendererTypes,json:{write:!0}})],b.prototype,"renderer",void 0);l([m.reader("renderer")],b.prototype,"readRenderer",null);l([m.property({type:f,json:{write:!0}})],b.prototype,"rasterInfo",void 0);l([m.property({json:{write:!0}})],b.prototype,"lookup",void 0);l([m.property({})],b.prototype,"canRenderInWebGL",void 0);return b=l([m.subclass("esri.renderers.support.RasterSymbolizer")],
b)}(m.declared(g.JSONSupport))})},"esri/rasterRenderers":function(){define("require exports ./core/Warning ./renderers/ClassBreaksRenderer ./renderers/RasterColormapRenderer ./renderers/RasterStretchRenderer ./renderers/UniqueValueRenderer".split(" "),function(a,c,n,e,l,h,k){function d(a,d){if(!a)return null;var b;b=a?g[a.type]||null:null;if(b)return b=new b,b.read(a,d),b;d&&d.messages&&a&&d.messages.push(new n("renderer:unsupported","Renderers of type '"+(a.type||"unknown")+"' are not supported",
{definition:a,context:d}));return null}Object.defineProperty(c,"__esModule",{value:!0});c.ClassBreaksRenderer=e;c.RasterColormapRenderer=l;c.RasterStretchRenderer=h;c.UniqueValueRenderer=k;c.rasterRendererTypes={key:"type",base:null,typeMap:{"unique-value":k,"class-breaks":e,"raster-colormap":l,"raster-stretch":h}};var g={uniqueValue:k,classBreaks:e,rasterStretch:h,rasterColormap:l};c.read=d;c.fromJSON=function(a,c){return d(a,c)}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper",
"./tsSupport/decorateHelper","./Message"],function(a,c,n,e,l){a=function(a){function c(d,e,b){var m=a.call(this,d,e,b)||this;return m instanceof c?m:new c(d,e,b)}n(c,a);return c}(l);a.prototype.type="warning";return a})},"esri/renderers/ClassBreaksRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/LegendOptions ../support/arcadeOnDemand ../symbols/support/jsonUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y){var C=v.getLogger("esri.renderers.ClassBreaksRenderer"),z=new m.default({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),D=u.ensureType(x.ClassBreakInfo);return function(a){function c(b){b=a.call(this,b)||this;b.backgroundFillSymbol=null;b.classBreakInfos=null;b.defaultLabel=null;b.defaultSymbol=null;b.field=null;b.isMaxInclusive=!0;b.legendOptions=null;b.normalizationField=null;b.normalizationTotal=
null;b.type="class-breaks";b.valueExpression=null;b.valueExpressionTitle=null;b._set("classBreakInfos",[]);return b}n(c,a);m=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.readClassBreakInfos=function(a,b,d){if(Array.isArray(a)){var c=b.minValue;return a.map(function(a){var b=new x.ClassBreakInfo;b.read(a,d);null==b.minValue&&(b.minValue=c);null==b.maxValue&&(b.maxValue=b.minValue);c=b.maxValue;return b})}};c.prototype.writeClassBreakInfos=
function(a,b,d,c){a=a.map(function(a){return a.write({},c)});this._areClassBreaksConsecutive()&&a.forEach(function(a){return delete a.classMinValue});b[d]=a};c.prototype.readDefaultSymbol=function(a,b,d){return y.read(a,b,d)};c.prototype.writeDefaultSymbolWebScene=function(a,b,d,c){y.writeTarget(a,b,d,c)};c.prototype.writeDefaultSymbol=function(a,b,d,c){y.writeTarget(a,b,d,c)};c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(C.error(".field: field must be a string value"),
null):u.ensureString(a)};Object.defineProperty(c.prototype,"minValue",{get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"normalizationType",{get:function(){var a=this._get("normalizationType"),b=!!this.normalizationField,d=null!=this.normalizationTotal;if(b||d)a=b&&"field"||d&&"percent-of-total"||null,b&&d&&C.warn("warning: both normalizationField and normalizationTotal are set!");
else if("field"===a||"percent-of-total"===a)a=null;return a},set:function(a){this._set("normalizationType",a)},enumerable:!0,configurable:!0});c.prototype.addClassBreakInfo=function(a,d,c){var e=null,e="number"===typeof a?new x.ClassBreakInfo({minValue:a,maxValue:d,symbol:b.ensureType(c)}):D(f.clone(a));this.classBreakInfos.push(e);1===this.classBreakInfos.length&&this.notifyChange("minValue")};c.prototype.removeClassBreakInfo=function(a,b){for(var d=this.classBreakInfos.length,c=0;c<d;c++){var f=
[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(f[0]===a&&f[1]===b){this.classBreakInfos.splice(c,1);break}}};c.prototype.getBreakIndex=function(a,b){this.valueExpression&&(p.isNone(b)||p.isNone(b.arcade))&&C.warn("");return this.valueExpression?this._getBreakIndexForExpression(a,b):this._getBreakIndexForField(a)};c.prototype.getClassBreakInfo=function(a,b){return k(this,void 0,void 0,function(){var c,f,e,m;return h(this,function(g){switch(g.label){case 0:c=b;if(!this.valueExpression||
!p.isNone(b)&&!p.isNone(b.arcade))return[3,2];f=[{},c];e={};return[4,A.loadArcade()];case 1:c=d.apply(void 0,f.concat([(e.arcade=g.sent(),e)])),g.label=2;case 2:return m=this.getBreakIndex(a,c),[2,-1!==m?this.classBreakInfos[m]:null]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(p.isNone(b)||p.isNone(b.arcade)))C.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return a=this.getBreakIndex(a,b),-1<a?this.classBreakInfos[a].symbol:this.defaultSymbol};
c.prototype.getSymbolAsync=function(a,b){return k(this,void 0,void 0,function(){var c,f,e,m;return h(this,function(g){switch(g.label){case 0:c=b;if(!this.valueExpression||!p.isNone(b)&&!p.isNone(b.arcade))return[3,2];f=[{},c];e={};return[4,A.loadArcade()];case 1:c=d.apply(void 0,f.concat([(e.arcade=g.sent(),e)])),g.label=2;case 2:return m=this.getBreakIndex(a,c),[2,-1<m?this.classBreakInfos[m].symbol:this.defaultSymbol]}})})};c.prototype.getSymbols=function(){var a=[];this.classBreakInfos.forEach(function(b){b.symbol&&
a.push(b.symbol)});this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),d=this.normalizationField+"."+this.normalizationType+"."+this.normalizationTotal,c=this.classBreakInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+
"."+b+"."+c+"."+d+"."+this.field+"."+this.valueExpression};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new m({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
classBreakInfos:f.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:f.clone(this.visualVariables),legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};c.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){var d;return h(this,function(c){switch(c.label){case 0:return d=
[this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,q.all(d)];case 1:return c.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return k(this,void 0,void 0,function(){var d;return h(this,function(c){switch(c.label){case 0:return d=this.getSymbols().map(function(d){return d.collectRequiredFields(a,b)}).concat([t.collectArcadeFieldNames(a,b,this.valueExpression)]),t.collectField(a,b,this.field),t.collectField(a,b,this.normalizationField),[4,q.all(d)];case 1:return c.sent(),
[2]}})})};c.prototype._getBreakIndexForExpression=function(a,b){var d=p.unwrapOr(b,{});b=d.viewingMode;var c=d.scale,f=d.spatialReference,e=this._cache.compiledFunc,d=p.expect(d.arcade).arcadeUtils;e||(e=d.createSyntaxTree(this.valueExpression),e=d.createFunction(e),this._cache.compiledFunc=e);a=d.executeFunction(e,d.createExecContext(a,d.getViewInfo({viewingMode:b,scale:c,spatialReference:f})));return this._getBreakIndexfromInfos(a)};c.prototype._getBreakIndexForField=function(a){var b=a.attributes;
a=this.normalizationType;var d=parseFloat(b[this.field]);if(a){var c=this.normalizationTotal,b=parseFloat(b[this.normalizationField]);if("log"===a)d=Math.log(d)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(c))d=d/c*100;else if("field"===a&&!isNaN(b)){if(isNaN(d)||isNaN(b))return-1;d/=b}}return this._getBreakIndexfromInfos(d)};c.prototype._getBreakIndexfromInfos=function(a){var b=this.isMaxInclusive;if(null!=a&&"number"===typeof a&&!isNaN(a))for(var d=0;d<this.classBreakInfos.length;d++){var c=
[this.classBreakInfos[d].minValue,this.classBreakInfos[d].maxValue];if(c[0]<=a&&(b?a<=c[1]:a<c[1]))return d}return-1};c.prototype._areClassBreaksConsecutive=function(){for(var a=this.classBreakInfos,b=a.length,d=1;d<b;d++)if(a[d-1].maxValue!==a[d].minValue)return!1;return!0};var m;e([w.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",null);e([w.property({types:{base:g.BaseSymbol,key:"type",typeMap:{"simple-fill":b.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":b.symbolTypesRenderer.typeMap["picture-fill"],
"polygon-3d":b.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{origins:{"web-scene":{type:g.PolygonSymbol3D,read:y.read,write:y.writeTarget}},read:y.read,write:y.writeTarget}})],c.prototype,"backgroundFillSymbol",void 0);e([w.property({type:[x.ClassBreakInfo]})],c.prototype,"classBreakInfos",void 0);e([w.reader("classBreakInfos")],c.prototype,"readClassBreakInfos",null);e([w.writer("classBreakInfos")],c.prototype,"writeClassBreakInfos",null);e([w.property({type:String,json:{write:!0}})],c.prototype,
"defaultLabel",void 0);e([w.property({types:b.symbolTypesRenderer})],c.prototype,"defaultSymbol",void 0);e([w.reader("defaultSymbol")],c.prototype,"readDefaultSymbol",null);e([w.writer("web-scene","defaultSymbol",{defaultSymbol:{types:b.symbolTypesRenderer3D}})],c.prototype,"writeDefaultSymbolWebScene",null);e([w.writer("defaultSymbol")],c.prototype,"writeDefaultSymbol",null);e([w.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([w.cast("field")],c.prototype,"castField",null);
e([w.property({type:Boolean})],c.prototype,"isMaxInclusive",void 0);e([w.property({type:G.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([w.property({type:Number,readOnly:!0,value:null,dependsOn:["classBreakInfos"],json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],c.prototype,"minValue",null);e([w.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);
e([w.property({type:Number,cast:function(a){return u.ensureNumber(a)},json:{write:!0}})],c.prototype,"normalizationTotal",void 0);e([w.property({type:z.apiValues,value:null,dependsOn:["normalizationField","normalizationTotal"],json:{type:z.jsonValues,read:z.read,write:z.write}})],c.prototype,"normalizationType",null);e([w.enumeration.serializable()({classBreaks:"class-breaks"})],c.prototype,"type",void 0);e([w.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([w.property({type:String,
json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=m=e([w.subclass("esri.renderers.ClassBreaksRenderer")],c)}(w.declared(B.VisualVariablesMixin(r)))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,c){return function(n,e){c(n,e,a)}}})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y,C,z,D,E,H,F,J,L,M,I){Object.defineProperty(c,"__esModule",{value:!0});c.CIMSymbol=e;c.ExtrudeSymbol3DLayer=l;c.BaseFillSymbol=h;c.FillSymbol3DLayer=k;c.Font=d;c.IconSymbol3DLayer=g;c.LabelSymbol3D=b;c.LineSymbol3D=m;c.LineSymbol3DLayer=f;c.BaseMarkerSymbol=v;c.MeshSymbol3D=p;c.ObjectSymbol3DLayer=q;c.PathSymbol3DLayer=w;c.PictureFillSymbol=u;c.PictureMarkerSymbol=t;c.PointSymbol3D=r;c.PolygonSymbol3D=B;c.SimpleFillSymbol=x;c.SimpleLineSymbol=
G;c.SimpleMarkerSymbol=A;c.BaseSymbol=y;c.BaseSymbol3D=C;c.BaseSymbol3DLayer=z;c.TextSymbol=D;c.TextSymbol3DLayer=E;c.WaterSymbol3DLayer=H;c.WebStyleSymbol=F;c.LineCallout3D=J;c.LineCallout3DBorder=L;c.Symbol3DVerticalOffset=M.Symbol3DVerticalOffset;c.fromJSON=I.fromJSON;c.isSymbol=function(a){return a instanceof y};c.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};c.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};c.symbolTypes={base:y,key:"type",typeMap:{"simple-fill":x,"picture-fill":u,"picture-marker":t,"simple-line":G,"simple-marker":A,text:D,"label-3d":b,"line-3d":m,"mesh-3d":p,"point-3d":r,"polygon-3d":B,"web-style":F,cim:e}};c.symbolTypesRenderer={base:y,key:"type",typeMap:{"simple-fill":x,"picture-fill":u,"picture-marker":t,
"simple-line":G,"simple-marker":A,text:D,"line-3d":m,"mesh-3d":p,"point-3d":r,"polygon-3d":B,"web-style":F,cim:e}};c.symbolTypesLabel={base:y,key:"type",typeMap:{text:D,"label-3d":b}};c.symbolTypes3D={base:y,key:"type",typeMap:{"label-3d":b,"line-3d":m,"mesh-3d":p,"point-3d":r,"polygon-3d":B,"web-style":F}};c.symbolTypesRenderer3D={base:y,key:"type",typeMap:{"line-3d":m,"mesh-3d":p,"point-3d":r,"polygon-3d":B,"web-style":F}};c.symbolTypesLabel3D={base:y,key:"type",typeMap:{"label-3d":b}};c.ensureType=
n.ensureOneOfType(c.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v){return function(a){function c(b){b=a.call(this,b)||this;b.data=null;b.portal=
null;b.styleUrl="";b.type="cim";return b}n(c,a);f=c;c.prototype.readData=function(a,b){return b.symbol};c.prototype.writeData=function(a,b){a&&(b.symbol=a)};c.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};c.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};c.prototype.collectRequiredFields=function(a,c){return h(this,void 0,void 0,function(){var f,e,m,g,p,q,k;return l(this,function(r){switch(r.label){case 0:return[4,v.expandSymbol(this)];case 1:r.sent(),e=(f="object"===
typeof this.data&&this.data.length)?this.data:[this.data],m=0,g=e,r.label=2;case 2:if(!(m<g.length))return[3,5];p=g[m];q=p.primitiveOverrides;if(!q)return[3,4];k=q.map(function(d){return b.collectArcadeFieldNames(a,c,d.valueExpressionInfo.expression)});return[4,d.all(k)];case 3:r.sent(),r.label=4;case 4:return m++,[3,2];case 5:return[2]}})})};c.prototype.clone=function(){return new f({color:this.color.clone(),data:k.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};
var f;e([g.property({json:{write:!1}})],c.prototype,"color",void 0);e([g.property({json:{write:!0}})],c.prototype,"data",void 0);e([g.reader("data",["data","symbol"])],c.prototype,"readData",null);e([g.writer("data")],c.prototype,"writeData",null);e([g.property({type:m,json:{write:!1}})],c.prototype,"portal",void 0);e([g.property({json:{write:!0}})],c.prototype,"styleName",void 0);e([g.property({type:String,json:{write:!0}})],c.prototype,"styleUrl",void 0);e([g.reader("styleUrl",["styleUrl","symbolUrl"])],
c.prototype,"readStyleUrl",null);e([g.writer("styleUrl")],c.prototype,"writeStyleUrl",null);e([g.enumeration.serializable()({CIMSymbolReference:"cim"})],c.prototype,"type",void 0);return c=f=e([g.subclass("esri.symbols.CIMSymbol")],c)}(g.declared(f))})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../core/Error ../../core/iteratorUtils ../../core/maybe ../../core/object ../../core/promiseUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v){function p(a,d,c){if(a)for(var f=0;f<a.length;f++){var e=a[f],m=b.getDeepValue(e,d);(m=m&&"function"!==typeof m&&t(c,m))&&b.setDeepValue(e,m.name,d)}}function q(a,b){if(!a||!b)return[];K.clear();w(K,a,b);return d.valuesOfSet(K).sort()}function w(a,b,d){if(d)if(b&&b.length)if(h.includes(d,"*"))for(d=0;d<b.length;d++)a.add(b[d].name);else for(var c=0;c<d.length;c++)f=d[c],u(a,b,f);else if(h.includes(d,"*"))a.clear(),a.add("*");else for(b=0;b<d.length;b++){var f=d[b];
a.add(f)}}function u(a,b,d){b&&b.length?(b=t(b,d))&&a.add(b.name):"string"===typeof d&&a.add(d)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return c}}return null}function r(a,b,d){return l(this,void 0,void 0,function(){var c,f,m,g,p;return e(this,function(e){switch(e.label){case 0:return d?[4,v.loadArcade()]:[2];case 1:c=e.sent().arcadeUtils;f=c.extractFieldNames(d);m=0;for(g=f;m<g.length;m++)p=
g[m],u(a,b,p);return[2]}})})}function B(a,d){return l(this,void 0,void 0,function(){var c,f;return e(this,function(e){if(!d)return[2];c=d.fields;return(f=b.getDeepValue("elevationInfo.featureExpressionInfo",d))?[2,f.collectRequiredFields(a,c)]:[2]})})}function x(a,b){return l(this,void 0,void 0,function(){var d,c;return e(this,function(f){switch(f.label){case 0:return d=b.labelingInfo,c=b.fields,d&&d.length?[4,m.all(d.map(function(b){return G(a,c,b)}))]:[2];case 1:return f.sent(),[2]}})})}function G(a,
b,d){return l(this,void 0,void 0,function(){var c,f,m,g,p;return e(this,function(e){switch(e.label){case 0:if(!d)return[2];c=d.getLabelExpression();f=d.where;return"arcade"!==c.type?[3,2]:[4,r(a,b,c.expression)];case 1:return e.sent(),[3,3];case 2:(m=c.expression.match(/{[^}]*}/g))&&m.forEach(function(d){u(a,b,d.slice(1,-1))}),e.label=3;case 3:return g=/['"]+/g,f&&(p=f.split(" "),3===p.length&&u(a,b,p[0].replace(g,"")),7===p.length&&(u(a,b,p[0].replace(g,"")),u(a,b,p[4].replace(g,"")))),[2]}})})}
function A(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function y(a){return null===a||A(a)}function C(a){return null===a||N(a)}function z(a){return null!=a&&"string"===typeof a}function D(a){return null===a||z(a)}function E(){return!0}function H(a,b){var d;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":d=a.nullable?C:N;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":d=
a.nullable?y:A;break;case "string":case "esriFieldTypeString":d=a.nullable?D:z;break;default:d=E}return 1===arguments.length?d:d(b)}function F(a){return null!=a&&O.has(a.type)}function J(a,b){return a.nullable&&null===b?null:F(a)&&!L(a.type,Number(b))?V.OUT_OF_RANGE:H(a,b)?a.domain?f.validateDomainValue(a.domain,b):null:R.INVALID_TYPE}function L(a,b){return(a="string"===typeof a?M(a):a)?a.isInteger?N(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function M(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return c.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return c.integerRange;case "esriFieldTypeSingle":case "single":return c.singleRange;case "esriFieldTypeDouble":case "double":return c.doubleRange}}function I(a,b,d){if(!b||!b.attributes||!a){if(g.isSome(d))for(var c=0;c<a.length;c++)b=a[c],d.add(b);return!0}for(var c=b.attributes,f=!1,e=0;e<a.length;e++)if(b=a[e],!(b in c))if(f=!0,g.isSome(d))d.add(b);else break;return f}Object.defineProperty(c,"__esModule",{value:!0});c.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
c.visualVariableFields=["field","normalizationField"];c.fixRendererFields=function(a,b){if(null!=a&&null!=b){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var f=a[d];p(c.rendererFields,f,b);if("visualVariables"in f&&f.visualVariables)for(var e=0,f=f.visualVariables;e<f.length;e++)p(c.visualVariableFields,f[e],b)}}};c.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var d=t(b,a.startField);b=t(b,a.endField);a.startField=d&&d.name||null;a.endField=b&&b.name||null}else d=
t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=d&&d.name||null,a.endTimeField=b&&b.name||null};var K=new Set;c.fixFields=q;c.collectFields=w;c.collectField=u;c.unpackFieldNames=function(a,b){return b&&a?h.includes(b,"*")?a.map(function(a){return a.name}):b:[]};c.packFields=function(a,b,d){void 0===d&&(d=1);if(!b||!a)return[];if(h.includes(b,"*"))return["*"];b=q(a,b);return b.length/a.length>=d?["*"]:b};c.getField=t;c.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var d=0;d<a.length;d++){var c=a[d];if(c&&c.name.toLowerCase()===b)return!0}return!1};c.collectArcadeFieldNames=r;c.getElevationFields=function(a){return l(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new Set;return[4,B(b,a)];case 1:return c.sent(),[2,d.valuesOfSet(b).sort()]}})})};c.collectElevationFields=B;c.collectFilterFields=function(b,d,c){return l(this,void 0,void 0,function(){var f,g;return e(this,function(e){switch(e.label){case 0:if(!d||
!c||!(c.where&&"1\x3d1"!==c.where||c.timeExtent))return[2];d.timeInfo&&c.timeExtent&&w(b,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return c.where?[4,m.create(function(b){a(["../../core/sql/WhereClause"],b)})]:[3,2];case 1:f=e.sent();g=f.WhereClause.create(c.where,d.fieldsIndex);if(!g.isStandardized)throw new k("fieldUtils:collectFilterFields","Where clause is not standardized");w(b,d.fields,g.fieldNames);e.label=2;case 2:return[2]}})})};c.getTimeFields=function(a){return l(this,void 0,
void 0,function(){var b;return e(this,function(d){return a?(b="timeInfo"in a&&a.timeInfo)?[2,q(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};c.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?q(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};c.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?q(a.fields,[b&&b.shapeAreaFieldName,
b&&b.shapeLengthFieldName]):[]};c.getLabelingFields=function(a){return l(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new Set;return[4,x(b,a)];case 1:return c.sent(),[2,d.valuesOfSet(b).sort()]}})})};c.collectLabelingFields=x;c.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&H(a,b))return b;if(a.nullable)return null};var N=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&
isFinite(a)&&Math.floor(a)===a}}();c.isValueMatchingFieldType=H;c.numericTypes=["integer","small-integer","single","double"];var O=d.createSetFromValues(c.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));c.isNumericField=F;c.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};c.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};c.isValidFieldValue=
function(a,b){return null===J(a,b)};var V;(V=c.NumericRangeValidationError||(c.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var R;(R=c.TypeValidationError||(c.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";c.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};c.validateFieldValue=J;c.isNumberInRange=L;c.getFieldRange=function(a){var b=f.getDomainRange(a.domain);if(b)return b;if(F(a))return M(a.type)};
c.getNumericTypeForValue=function(a){if(!A(a))return null;if(N(a)){if(a>=c.smallIntegerRange.min&&a<=c.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=c.integerRange.min&&a<=c.integerRange.max)return"esriFieldTypeInteger"}return a>=c.singleRange.min&&a<=c.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};c.smallIntegerRange={min:-32768,max:32767,isInteger:!0};c.integerRange={min:-2147483648,max:2147483647,isInteger:!0};c.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};c.doubleRange=
{min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};c.validationErrorToString=function(a,b,d){switch(a){case f.DomainValidationError.INVALID_CODED_VALUE:return"Value "+d+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case f.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+d+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case R.INVALID_TYPE:return"Value "+d+" is not a valid value for the field type - field: "+
b.name+", type: "+b.type+", nullable: "+b.nullable;case V.OUT_OF_RANGE:return a=M(b.type),"Value "+d+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};c.featureHasFields=function(a,b){return!I(a,b,null)};c.populateMissingFields=I})},"esri/core/iteratorUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(a,c,n){function e(a){if(0===a.size)throw Error("Map is empty");return a.keys().next().value}function l(a){if(0===
a.size)throw Error("Map is empty");var b,d=!1;a.forEach(function(a,c){d||(b=c,d=!0)});return b}function h(a){if(0===a.size)throw Error("Map is empty");return a.values().next().value}function k(a){if(0===a.size)throw Error("Map is empty");var b,d=!1;a.forEach(function(a){d||(b=a,d=!0)});return b}Object.defineProperty(c,"__esModule",{value:!0});c.someMap=Map.prototype.entries?function(a,b){a=a.entries();for(var d=a.next();!d.done;d=a.next())if(b(d.value[1],d.value[0]))return!0;return!1}:function(a,
b){var d=!0;a.forEach(function(a,c){d&&(d=!b(a,c))});return!d};a=!!Map.prototype.values;var d=!!Map.prototype.keys;c.pairsOfMap=function(a){var b=[];a.forEach(function(a,d){return b.push([d,a])});return b};c.valuesOfMap=a?function(a){return n.from(a.values())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};c.keysOfMap=d?function(a){return n.from(a.keys())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a,c){return b[d++]=c});return b};c.MapFromValues=
a?function(a){return new Map(a)}:function(a){for(var b=new Map,d=0;d<a.length;d++){var c=a[d];b.set(c[0],c[1])}return b};c.firstKeyOfMap=d?e:l;c.firstValueOfMap=a?h:k;c.someSet=Set.prototype.entries?function(a,b){a=a.entries();for(var d=a.next();!d.done;d=a.next())if(b(d.value[0]))return!0;return!1}:function(a,b){var d=!0;a.forEach(function(a){d&&(d=!b(a))});return!d};a=!!Set.prototype.values;c.valuesOfSet=a?function(a){return n.from(a.values())}:function(a){var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=
a});return b};c.createSetFromValues=a?function(a){return new Set(a)}:function(a){for(var b=new Set,d=0;d<a.length;d++)b.add(a[d]);return b};c.test={firstKeyOfMapFallback:l,firstValueOfMapFallback:k}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,c,n,e,l,h,k){function d(a,d){switch(a.type){case "range":var b="range"in a?a.range[1]:a.maxValue;if(+d<("range"in a?a.range[0]:
a.minValue)||+d>b)return g.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==d}))return g.INVALID_CODED_VALUE}return null}Object.defineProperty(c,"__esModule",{value:!0});c.CodedValueDomain=e;c.DomainBase=l;c.InheritedDomain=h;c.RangeDomain=k;var g;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(g=c.DomainValidationError||
(c.DomainValidationError={}));c.isValidDomainValue=function(a,c){return null===d(a,c)};c.validateDomainValue=d;c.types={key:"type",base:l,typeMap:{range:k,"coded-value":e,inherited:h}};c.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};c.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return k.fromJSON(a);case "codedValue":return e.fromJSON(a);case "inherited":return h.fromJSON(a);default:n.neverReached(a)}return null}})},
"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}n(b,a);d=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var d=String(a);this.codedValues.some(function(a){String(a.code)===
d&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new d({codedValues:l.clone(this.codedValues),name:this.name})};var d;e([h.property({type:[k.default],json:{write:!0}})],b.prototype,"codedValues",void 0);e([h.enumeration.serializable()({codedValue:"coded-value"})],b.prototype,"type",void 0);return b=d=e([h.subclass("esri.layers.support.CodedValueDomain")],b)}(h.declared(d))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function d(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}e(d,a);c=d;d.prototype.clone=function(){return new c({name:this.name,code:this.code})};var c;n([h.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);n([h.property({type:[String,Number],json:{write:!0}})],d.prototype,"code",void 0);return d=c=n([h.subclass("esri.layers.support.CodedValue")],d)}(h.declared(l.JSONSupport));c.CodedValue=
a;c.default=a})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k){var d=new l.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}n(b,a);e([k.property({type:String,json:{write:!0}})],
b.prototype,"name",void 0);e([k.enumeration.serializable()(d)],b.prototype,"type",void 0);return b=e([k.subclass("esri.layers.support.Domain")],b)}(k.declared(h.JSONSupport))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(a,c,n,e,l,h){return function(a){function d(b){b=a.call(this,b)||this;b.type="inherited";return b}n(d,a);
c=d;d.prototype.clone=function(){return new c};var c;e([l.enumeration.serializable()({inherited:"inherited"})],d.prototype,"type",void 0);return d=c=e([l.subclass("esri.layers.support.InheritedDomain")],d)}(l.declared(h))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(a,c,n,e,l,h){return function(a){function d(b){b=a.call(this,b)||
this;b.maxValue=null;b.minValue=null;b.type="range";return b}n(d,a);c=d;d.prototype.clone=function(){return new c({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var c;e([l.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,d){return d.range&&d.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,d,c){d[c]=[this.minValue||0,a]}}}})],d.prototype,"maxValue",void 0);
e([l.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,d){return d.range&&d.range[0]}},write:{target:"range",writer:function(a,d,c){d[c]=[a,this.maxValue||0]}}}})],d.prototype,"minValue",void 0);e([l.enumeration.serializable()({range:"range"})],d.prototype,"type",void 0);return d=c=e([l.subclass("esri.layers.support.RangeDomain")],d)}(l.declared(h))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(a,c,n,e,l,h,k,d){function g(){return e(this,void 0,void 0,function(){var d=this;return n(this,function(c){b||(b=function(){return e(d,void 0,void 0,function(){var b;return n(this,function(d){switch(d.label){case 0:return[4,new Promise(function(b,d){a(["./arcadeUtils"],b,d)})];case 1:return b=d.sent(),[4,b.arcade.load()];case 2:return d.sent(),[2,{arcade:b.arcade,arcadeUtils:b,Dictionary:b.Dictionary,Feature:b.arcadeFeature}]}})})}());return[2,b]})})}Object.defineProperty(c,"__esModule",{value:!0});
var b;c.loadArcade=g;c.createLabelExpression=function(a,b,d){return m.create(a,b,d,null,["$feature"])};c.createVVExpression=function(a,b,d){return m.create(a,b,d,null,["$feature","$view"])};c.createRendererExpression=function(a,b,d){return m.create(a,b,d,null,["$feature","$view"])};c.createDictionaryExpression=function(a,b,d,c){return m.create(a,b,d,c,["$feature","$view"])};var m=function(){function a(a,b,d,c,f,e,m){this.evaluate=c;this._syntaxTree=d;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=
f;this._fields=e;this._spatialReference=m;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,f,m,u,t){return e(this,void 0,void 0,function(){var e,p,q,v,w,y,C,z,D,E,H,F,J,L,M;return n(this,function(r){switch(r.label){case 0:return[4,g()];case 1:return e=r.sent(),p=e.arcade,q=e.Feature,v=e.Dictionary,w=h.SpatialReference.fromJSON(c),y=p.parseScript(b,t),C=u.reduce(function(a,b){var d;
return l({},a,(d={},d[b]=null,d))},{}),z=null,k.isSome(m)&&(z=new v(m),z.immutable=!0,C.$config=null),D=p.scriptUsesGeometryEngine(y)&&p.enableGeometrySupport(),E=p.scriptUsesFeatureSet(y)&&p.enableFeatureSetSupport(),H=p.scriptIsAsync(y)&&p.enableAsyncSupport(),F={vars:C,spatialReference:w,useAsync:!!H},J=new v,J.immutable=!1,J.setField("scale",0),L=p.compileScript(y,F),M=function(a){"$view"in a&&a.$view&&(J.setField("scale",a.$view.scale),a.$view=J);z&&(a.$config=z);return L({vars:a,spatialReference:w})},
[4,d.all([D,E,H])];case 2:return r.sent(),[2,new a(p,v,y,M,new q,f,w)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,
a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();c.default=m})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f){Object.defineProperty(c,"__esModule",{value:!0});c.Extent=l;c.BaseGeometry=h;c.Multipoint=k;c.Point=d;c.Polygon=g;c.Polyline=b;c.SpatialReference=m;c.isGeometry=function(a){return a instanceof h};c.fromJSON=f.fromJSON;c.typeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});c.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};c.featureGeometryTypeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});c.geometryTypes={base:h,key:"type",typeMap:{extent:l,multipoint:k,point:d,polyline:b,polygon:g}};c.ensureType=e.ensureOneOfType(c.geometryTypes)})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){function q(a,b,d){return null==b?d:null==d?b:a(b,d)}a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}n(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,d,c,f,e){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?
b.WGS84:a.spatialReference,a):{xmin:a,ymin:d,xmax:c,ymax:f,spatialReference:null==e?b.WGS84:e}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};d.fromBounds=function(a,b){return new c({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(d.prototype,"center",{get:function(){var a=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});d.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};d.prototype.clone=function(){var a=new c;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);
null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};d.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&p.canProject(b,d)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));return"point"===a.type?m.extentContainsPoint(this,a):"extent"===a.type?m.extentContainsExtent(this,a):!1};d.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&
p.canProject(b,d)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};d.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,d=this.height*a;this.xmin+=b;this.ymin+=d;this.xmax-=b;this.ymax-=d;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=
a,this.mmax-=a);return this};d.prototype.intersects=function(a){if(l.isNone(a))return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&p.canProject(b,d)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));b=f.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};d.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};d.prototype.offset=function(a,b,d){this.xmin+=a;this.ymin+=b;this.xmax+=
a;this.ymax+=b;null!=d&&(this.zmin+=d,this.zmax+=d);return this};d.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};d.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.min,this.zmin,a.zmin),this.zmax=q(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.min,this.mmin,a.mmin),this.mmax=q(Math.max,this.mmax,
a.mmax);return this};d.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=q(Math.max,this.zmin,a.zmin),this.zmax=q(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=q(Math.max,this.mmin,a.mmin),this.mmax=q(Math.min,this.mmax,a.mmax);return this};d.prototype.toJSON=function(a){return this.write(null,
a)};d.prototype._shiftCM=function(a){void 0===a&&(a=v.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var d=this.spatialReference,c=this._getCM(a);if(c){var f=d.isWebMercator?p.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;d.isWebMercator||(f.x=this._normalizeX(f.x,a).x);this.spatialReference=new b(h.replace(d.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:f.x}))}return this};d.prototype._getCM=function(a){var b=null,d=a.valid;a=d[0];var d=d[1],c=this.xmin,
f=this.xmax;c>=a&&c<=d&&f>=a&&f<=d||(b=this.center);return b};d.prototype._normalize=function(a,b,d){var c=this.spatialReference;if(!c)return this;d=d||v.getInfo(c);if(!d)return this;var f=this._getParts(d).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(d):this.set({xmin:d.valid[0],xmax:d.valid[1]});if(a)return this._shiftCM(d);if(b)return f;var e=!0,m=!0;f.forEach(function(a){a.hasZ||(e=!1);a.hasM||(m=!1)});return{rings:f.map(function(a){var b=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e)for(var d=(a.zmax-a.zmin)/2,c=0;c<b.length;c++)b[c].push(d);if(m)for(a=(a.mmax-a.mmin)/2,c=0;c<b.length;c++)b[c].push(a);return b}),hasZ:e,hasM:m,spatialReference:c}};d.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],d=this.ymin,f=this.ymax,e=this.spatialReference,m=this.width,g=this.xmin,p=this.xmax,q=void 0;a=a||v.getInfo(e);var k=a.valid,h=k[0],r=k[1],q=this._normalizeX(this.xmin,a),l=
q.x,k=q.frameId,q=this._normalizeX(this.xmax,a),u=q.x;a=q.frameId;q=l===u&&0<m;if(m>2*r){m=new c(g<p?l:u,d,r,f,e);g=new c(h,d,g<p?u:l,f,e);p=new c(0,d,r,f,e);d=new c(h,d,0,f,e);f=[];e=[];m.contains(p)&&f.push(k);m.contains(d)&&e.push(k);g.contains(p)&&f.push(a);g.contains(d)&&e.push(a);for(h=k+1;h<a;h++)f.push(h),e.push(h);b.push({extent:m,frameIds:[k]},{extent:g,frameIds:[a]},{extent:p,frameIds:f},{extent:d,frameIds:e})}else l>u||q?b.push({extent:new c(l,d,r,f,e),frameIds:[k]},{extent:new c(h,d,
u,f,e),frameIds:[a]}):b.push({extent:new c(l,d,u,f,e),frameIds:[k]});this.cache._parts=b}a=this.hasZ;d=this.hasM;if(a||d)for(k={},a&&(k.zmin=this.zmin,k.zmax=this.zmax),d&&(k.mmin=this.mmin,k.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(k);return b};d.prototype._normalizeX=function(a,b){var d=b.valid;b=d[0];var c=d[1],d=2*c,f=0;a>c?(b=Math.ceil(Math.abs(a-c)/d),a-=b*d,f=b):a<b&&(b=Math.ceil(Math.abs(a-b)/d),a+=b*d,f=-b);return{x:a,frameId:f}};var c;e([k.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
d.prototype,"cache",void 0);e([k.property({readOnly:!0,dependsOn:["cache"]})],d.prototype,"center",null);e([k.property({readOnly:!0,dependsOn:["cache"]})],d.prototype,"extent",null);e([k.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null);e([k.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null);e([k.property({readOnly:!0,dependsOn:["ymin","ymax"]})],d.prototype,
"height",null);e([k.property({readOnly:!0,dependsOn:["xmin","xmax"]})],d.prototype,"width",null);e([k.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],d.prototype,"xmin",void 0);e([k.property({type:Number,json:{write:!0}})],d.prototype,"ymin",void 0);e([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],d.prototype,"mmin",void 0);e([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],d.prototype,"zmin",void 0);e([k.property({type:Number,json:{write:!0}})],d.prototype,"xmax",void 0);e([k.property({type:Number,json:{write:!0}})],d.prototype,"ymax",void 0);e([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],d.prototype,"mmax",void 0);e([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
d.prototype,"zmax",void 0);return d=c=e([k.subclass("esri.geometry.Extent")],d)}(k.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,c,n,e,l,h,k){return function(a){function d(b){b=a.call(this,b)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=
k.WGS84;return b}n(d,a);Object.defineProperty(d.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});d.prototype.readSpatialReference=function(a,d){if(a instanceof k)return a;if(null!=a){var b=new k;b.read(a,d);return b}return a};d.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};d.prototype.clearCache=function(){this.notifyChange("cache")};d.prototype.getCacheValue=function(a){return this.cache[a]};d.prototype.setCacheValue=
function(a,d){this.cache[a]=d};e([h.property()],d.prototype,"type",void 0);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],d.prototype,"cache",null);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],d.prototype,"extent",void 0);e([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],d.prototype,"hasM",void 0);e([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],d.prototype,"hasZ",void 0);e([h.property({type:k,
json:{write:!0}})],d.prototype,"spatialReference",void 0);e([h.reader("spatialReference")],d.prototype,"readSpatialReference",null);return d=e([h.subclass("esri.geometry.Geometry")],d)}(h.declared(l.JSONSupport))})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,
c,n,e,l,h,k,d,g){a=function(a){function b(b){b=a.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.imageCoordinateSystem=null;return b}e(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var b=new c;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return g.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return g.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return g.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return g.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===
c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=k.clone(this.imageCoordinateSystem));return a};b.prototype.equals=function(a){if(null==a)return!1;if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var b=a.imageCoordinateSystem,d=b.id,b=b.referenceServiceName,c=a.imageCoordinateSystem.geodataXform,f=this.imageCoordinateSystem;return null==d||c?JSON.stringify(f)===JSON.stringify(a.imageCoordinateSystem):b?f.id===d&&f.referenceServiceName===b:f.id===d}return g.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var c;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;l([d.property({dependsOn:["wkid"],readOnly:!0})],
b.prototype,"isWGS84",null);l([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);l([d.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);l([d.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);l([d.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);l([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],
b.prototype,"wkid",void 0);l([d.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);l([d.writer("wkt"),d.writer("web-scene","wkt")],b.prototype,"writeWkt",null);l([d.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);l([d.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);l([d.property()],b.prototype,"imageCoordinateSystem",void 0);return b=c=l([d.subclass("esri.geometry.SpatialReference")],
b)}(d.declared(h.JSONSupport));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(g.WGS84);a.WebMercator=new a(g.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/string","./WKIDUnitConversion"],function(a,c,n,e){function l(a){return k(a)&&a.wkid?m[a.wkid]:null}function h(a){return k(a)&&!0===d[a.wkid]}function k(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(c,"__esModule",{value:!0});var d={102113:!0,102100:!0,3857:!0,3785:!0},g={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var b=[-2.0037508342787E7,2.0037508342787E7],m={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:b,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:b,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:b,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:b,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};c.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||h(a)&&h(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};c.getInfo=l;c.isGeographic=function(a){return k(a)?a.wkid?null==e[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};c.isWGS84=function(a){return k(a)&&4326===a.wkid};c.isWebMercator=h;c.isWrappable=function(a){return k(a)&&
!0===g[a.wkid]};c.isValid=k;c.WGS84={wkid:4326,wkt:n.replace(l({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};c.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,c={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)c[a]=0;for(a=2056;2065>=a;a++)c[a]=0;for(a=2067;2135>=a;a++)c[a]=0;for(a=2137;2154>=a;a++)c[a]=0;for(a=2161;2170>=a;a++)c[a]=0;for(a=2172;2193>=a;a++)c[a]=
0;for(a=2195;2198>=a;a++)c[a]=0;for(a=2200;2203>=a;a++)c[a]=0;for(a=2205;2217>=a;a++)c[a]=0;for(a=2222;2224>=a;a++)c[a]=1;for(a=2225;2250>=a;a++)c[a]=2;for(a=2251;2253>=a;a++)c[a]=1;for(a=2257;2264>=a;a++)c[a]=2;for(a=2274;2279>=a;a++)c[a]=2;for(a=2280;2282>=a;a++)c[a]=1;for(a=2283;2289>=a;a++)c[a]=2;for(a=2290;2292>=a;a++)c[a]=0;for(a=2308;2313>=a;a++)c[a]=0;for(a=2315;2491>=a;a++)c[a]=0;for(a=2494;2866>=a;a++)c[a]=0;for(a=2867;2869>=a;a++)c[a]=1;for(a=2870;2888>=a;a++)c[a]=2;for(a=2891;2895>=a;a++)c[a]=
2;for(a=2896;2898>=a;a++)c[a]=1;for(a=2902;2908>=a;a++)c[a]=2;for(a=2915;2920>=a;a++)c[a]=2;for(a=2921;2923>=a;a++)c[a]=1;for(a=2924;2930>=a;a++)c[a]=2;for(a=2931;2962>=a;a++)c[a]=0;for(a=2964;2968>=a;a++)c[a]=2;for(a=2969;2973>=a;a++)c[a]=0;for(a=2975;2991>=a;a++)c[a]=0;for(a=2995;3051>=a;a++)c[a]=0;for(a=3054;3079>=a;a++)c[a]=0;for(a=3081;3088>=a;a++)c[a]=0;for(a=3092;3101>=a;a++)c[a]=0;for(a=3106;3138>=a;a++)c[a]=0;for(a=3146;3151>=a;a++)c[a]=0;for(a=3153;3166>=a;a++)c[a]=0;for(a=3168;3172>=a;a++)c[a]=
0;for(a=3174;3203>=a;a++)c[a]=0;for(a=3294;3358>=a;a++)c[a]=0;for(a=3367;3403>=a;a++)c[a]=0;for(a=3408;3416>=a;a++)c[a]=0;for(a=3417;3438>=a;a++)c[a]=2;for(a=3441;3446>=a;a++)c[a]=2;for(a=3447;3450>=a;a++)c[a]=0;for(a=3451;3459>=a;a++)c[a]=2;for(a=3460;3478>=a;a++)c[a]=0;for(a=3554;3559>=a;a++)c[a]=0;for(a=3560;3570>=a;a++)c[a]=2;for(a=3571;3581>=a;a++)c[a]=0;for(a=3594;3597>=a;a++)c[a]=0;for(a=3601;3604>=a;a++)c[a]=0;for(a=3637;3639>=a;a++)c[a]=0;for(a=3665;3667>=a;a++)c[a]=0;for(a=3693;3695>=a;a++)c[a]=
0;for(a=3701;3727>=a;a++)c[a]=0;for(a=3728;3739>=a;a++)c[a]=2;for(a=3740;3751>=a;a++)c[a]=0;for(a=3753;3760>=a;a++)c[a]=2;for(a=3761;3773>=a;a++)c[a]=0;for(a=3775;3777>=a;a++)c[a]=0;for(a=3779;3781>=a;a++)c[a]=0;for(a=3783;3785>=a;a++)c[a]=0;for(a=3788;3791>=a;a++)c[a]=0;for(a=3797;3802>=a;a++)c[a]=0;for(a=3814;3816>=a;a++)c[a]=0;for(a=3825;3829>=a;a++)c[a]=0;for(a=3832;3841>=a;a++)c[a]=0;for(a=3844;3852>=a;a++)c[a]=0;for(a=3873;3885>=a;a++)c[a]=0;for(a=3890;3893>=a;a++)c[a]=0;for(a=3907;3912>=a;a++)c[a]=
0;for(a=3942;3950>=a;a++)c[a]=0;for(a=3968;3970>=a;a++)c[a]=0;for(a=3973;3976>=a;a++)c[a]=0;for(a=3986;3989>=a;a++)c[a]=0;for(a=3994;3997>=a;a++)c[a]=0;for(a=4048;4051>=a;a++)c[a]=0;for(a=4056;4063>=a;a++)c[a]=0;for(a=4093;4096>=a;a++)c[a]=0;for(a=4390;4398>=a;a++)c[a]=0;for(a=4399;4413>=a;a++)c[a]=2;for(a=4418;4433>=a;a++)c[a]=2;for(a=4455;4457>=a;a++)c[a]=2;for(a=4484;4489>=a;a++)c[a]=0;for(a=4491;4554>=a;a++)c[a]=0;for(a=4568;4589>=a;a++)c[a]=0;for(a=4652;4656>=a;a++)c[a]=0;for(a=4766;4800>=a;a++)c[a]=
0;for(a=5014;5016>=a;a++)c[a]=0;for(a=5069;5072>=a;a++)c[a]=0;for(a=5105;5130>=a;a++)c[a]=0;for(a=5173;5188>=a;a++)c[a]=0;for(a=5253;5259>=a;a++)c[a]=0;for(a=5269;5275>=a;a++)c[a]=0;for(a=5292;5311>=a;a++)c[a]=0;for(a=5329;5331>=a;a++)c[a]=0;for(a=5343;5349>=a;a++)c[a]=0;for(a=5355;5357>=a;a++)c[a]=0;for(a=5387;5389>=a;a++)c[a]=0;for(a=5459;5463>=a;a++)c[a]=0;for(a=5479;5482>=a;a++)c[a]=0;for(a=5518;5520>=a;a++)c[a]=0;for(a=5530;5539>=a;a++)c[a]=0;for(a=5550;5552>=a;a++)c[a]=0;for(a=5562;5583>=a;a++)c[a]=
0;for(a=5623;5625>=a;a++)c[a]=2;for(a=5631;5639>=a;a++)c[a]=0;for(a=5649;5653>=a;a++)c[a]=0;for(a=5663;5680>=a;a++)c[a]=0;for(a=5682;5685>=a;a++)c[a]=0;for(a=5875;5877>=a;a++)c[a]=0;for(a=5896;5899>=a;a++)c[a]=0;for(a=5921;5940>=a;a++)c[a]=0;for(a=6050;6125>=a;a++)c[a]=0;for(a=6244;6275>=a;a++)c[a]=0;for(a=6328;6348>=a;a++)c[a]=0;for(a=6350;6356>=a;a++)c[a]=0;for(a=6366;6372>=a;a++)c[a]=0;for(a=6381;6387>=a;a++)c[a]=0;for(a=6393;6404>=a;a++)c[a]=0;for(a=6480;6483>=a;a++)c[a]=0;for(a=6511;6514>=a;a++)c[a]=
0;for(a=6579;6581>=a;a++)c[a]=0;for(a=6619;6624>=a;a++)c[a]=0;for(a=6625;6627>=a;a++)c[a]=2;for(a=6628;6632>=a;a++)c[a]=0;for(a=6634;6637>=a;a++)c[a]=0;for(a=6669;6692>=a;a++)c[a]=0;for(a=6707;6709>=a;a++)c[a]=0;for(a=6720;6723>=a;a++)c[a]=0;for(a=6732;6738>=a;a++)c[a]=0;for(a=6931;6933>=a;a++)c[a]=0;for(a=6956;6959>=a;a++)c[a]=0;for(a=7005;7007>=a;a++)c[a]=0;for(a=7057;7070>=a;a++)c[a]=2;for(a=7074;7082>=a;a++)c[a]=0;for(a=7109;7118>=a;a++)c[a]=0;for(a=7119;7127>=a;a++)c[a]=1;for(a=7374;7376>=a;a++)c[a]=
0;for(a=7528;7586>=a;a++)c[a]=0;for(a=7587;7645>=a;a++)c[a]=2;for(a=7692;7696>=a;a++)c[a]=0;for(a=7755;7787>=a;a++)c[a]=0;for(a=7791;7795>=a;a++)c[a]=0;for(a=7799;7801>=a;a++)c[a]=0;for(a=7803;7805>=a;a++)c[a]=0;for(a=7825;7831>=a;a++)c[a]=0;for(a=7845;7859>=a;a++)c[a]=0;for(a=8013;8032>=a;a++)c[a]=0;for(a=8065;8068>=a;a++)c[a]=1;for(a=8518;8529>=a;a++)c[a]=2;for(a=8533;8536>=a;a++)c[a]=2;for(a=8538;8540>=a;a++)c[a]=2;for(a=8677;8679>=a;a++)c[a]=0;for(a=8836;8840>=a;a++)c[a]=0;for(a=8857;8859>=a;a++)c[a]=
0;for(a=8908;8910>=a;a++)c[a]=0;for(a=9154;9159>=a;a++)c[a]=0;for(a=9205;9218>=a;a++)c[a]=0;for(a=20002;20032>=a;a++)c[a]=0;for(a=20062;20092>=a;a++)c[a]=0;for(a=20135;20138>=a;a++)c[a]=0;for(a=20248;20258>=a;a++)c[a]=0;for(a=20348;20358>=a;a++)c[a]=0;for(a=20436;20440>=a;a++)c[a]=0;for(a=20822;20824>=a;a++)c[a]=0;for(a=20934;20936>=a;a++)c[a]=0;for(a=21035;21037>=a;a++)c[a]=0;for(a=21095;21097>=a;a++)c[a]=0;for(a=21148;21150>=a;a++)c[a]=0;for(a=21413;21423>=a;a++)c[a]=0;for(a=21473;21483>=a;a++)c[a]=
0;for(a=21780;21782>=a;a++)c[a]=0;for(a=21891;21894>=a;a++)c[a]=0;for(a=21896;21899>=a;a++)c[a]=0;for(a=22171;22177>=a;a++)c[a]=0;for(a=22181;22187>=a;a++)c[a]=0;for(a=22191;22197>=a;a++)c[a]=0;for(a=22234;22236>=a;a++)c[a]=0;for(a=22521;22525>=a;a++)c[a]=0;for(a=22991;22994>=a;a++)c[a]=0;for(a=23028;23038>=a;a++)c[a]=0;for(a=23830;23853>=a;a++)c[a]=0;for(a=23866;23872>=a;a++)c[a]=0;for(a=23877;23884>=a;a++)c[a]=0;for(a=23886;23894>=a;a++)c[a]=0;for(a=23946;23948>=a;a++)c[a]=0;for(a=24311;24313>=
a;a++)c[a]=0;for(a=24342;24347>=a;a++)c[a]=0;for(a=24370;24374>=a;a++)c[a]=10;for(a=24375;24381>=a;a++)c[a]=0;for(a=24718;24721>=a;a++)c[a]=0;for(a=24817;24821>=a;a++)c[a]=0;for(a=24877;24882>=a;a++)c[a]=0;for(a=24891;24893>=a;a++)c[a]=0;for(a=25391;25395>=a;a++)c[a]=0;for(a=25828;25838>=a;a++)c[a]=0;for(a=26191;26195>=a;a++)c[a]=0;for(a=26391;26393>=a;a++)c[a]=0;for(a=26701;26722>=a;a++)c[a]=0;for(a=26729;26799>=a;a++)c[a]=2;for(a=26801;26803>=a;a++)c[a]=2;for(a=26811;26813>=a;a++)c[a]=2;for(a=26847;26870>=
a;a++)c[a]=2;for(a=26891;26899>=a;a++)c[a]=0;for(a=26901;26923>=a;a++)c[a]=0;for(a=26929;26946>=a;a++)c[a]=0;for(a=26948;26998>=a;a++)c[a]=0;for(a=27037;27040>=a;a++)c[a]=0;for(a=27205;27232>=a;a++)c[a]=0;for(a=27258;27260>=a;a++)c[a]=0;for(a=27391;27398>=a;a++)c[a]=0;for(a=27561;27564>=a;a++)c[a]=0;for(a=27571;27574>=a;a++)c[a]=0;for(a=27581;27584>=a;a++)c[a]=0;for(a=27591;27594>=a;a++)c[a]=0;for(a=28191;28193>=a;a++)c[a]=0;for(a=28348;28358>=a;a++)c[a]=0;for(a=28402;28432>=a;a++)c[a]=0;for(a=28462;28492>=
a;a++)c[a]=0;for(a=29118;29122>=a;a++)c[a]=0;for(a=29168;29172>=a;a++)c[a]=0;for(a=29177;29185>=a;a++)c[a]=0;for(a=29187;29195>=a;a++)c[a]=0;for(a=29900;29903>=a;a++)c[a]=0;for(a=30161;30179>=a;a++)c[a]=0;for(a=30491;30494>=a;a++)c[a]=0;for(a=30729;30732>=a;a++)c[a]=0;for(a=31251;31259>=a;a++)c[a]=0;for(a=31265;31268>=a;a++)c[a]=0;for(a=31275;31279>=a;a++)c[a]=0;for(a=31281;31297>=a;a++)c[a]=0;for(a=31461;31469>=a;a++)c[a]=0;for(a=31491;31495>=a;a++)c[a]=0;for(a=31917;31922>=a;a++)c[a]=0;for(a=31965;32E3>=
a;a++)c[a]=0;for(a=32001;32003>=a;a++)c[a]=2;for(a=32005;32031>=a;a++)c[a]=2;for(a=32033;32060>=a;a++)c[a]=2;for(a=32064;32067>=a;a++)c[a]=2;for(a=32074;32077>=a;a++)c[a]=2;for(a=32081;32086>=a;a++)c[a]=0;for(a=32107;32130>=a;a++)c[a]=0;for(a=32133;32158>=a;a++)c[a]=0;for(a=32164;32167>=a;a++)c[a]=2;for(a=32180;32199>=a;a++)c[a]=0;for(a=32201;32260>=a;a++)c[a]=0;for(a=32301;32360>=a;a++)c[a]=0;for(a=32601;32662>=a;a++)c[a]=0;for(a=32664;32667>=a;a++)c[a]=2;for(a=32701;32761>=a;a++)c[a]=0;for(a=53001;53004>=
a;a++)c[a]=0;for(a=53008;53019>=a;a++)c[a]=0;for(a=53021;53032>=a;a++)c[a]=0;for(a=53034;53037>=a;a++)c[a]=0;for(a=53042;53046>=a;a++)c[a]=0;for(a=53074;53080>=a;a++)c[a]=0;for(a=54001;54004>=a;a++)c[a]=0;for(a=54008;54019>=a;a++)c[a]=0;for(a=54021;54032>=a;a++)c[a]=0;for(a=54034;54037>=a;a++)c[a]=0;for(a=54042;54046>=a;a++)c[a]=0;for(a=54048;54053>=a;a++)c[a]=0;for(a=54074;54080>=a;a++)c[a]=0;for(a=54098;54101>=a;a++)c[a]=0;for(a=102001;102040>=a;a++)c[a]=0;for(a=102042;102063>=a;a++)c[a]=0;for(a=
102065;102067>=a;a++)c[a]=0;for(a=102070;102117>=a;a++)c[a]=0;for(a=102122;102216>=a;a++)c[a]=0;for(a=102221;102377>=a;a++)c[a]=0;for(a=102382;102388>=a;a++)c[a]=0;for(a=102389;102398>=a;a++)c[a]=2;for(a=102399;102444>=a;a++)c[a]=0;for(a=102445;102447>=a;a++)c[a]=2;for(a=102448;102458>=a;a++)c[a]=0;for(a=102459;102468>=a;a++)c[a]=2;for(a=102469;102499>=a;a++)c[a]=0;for(a=102500;102519>=a;a++)c[a]=1;for(a=102520;102524>=a;a++)c[a]=0;for(a=102525;102529>=a;a++)c[a]=2;for(a=102530;102588>=a;a++)c[a]=
0;for(a=102590;102598>=a;a++)c[a]=0;for(a=102601;102603>=a;a++)c[a]=0;for(a=102605;102628>=a;a++)c[a]=0;for(a=102629;102646>=a;a++)c[a]=2;for(a=102648;102700>=a;a++)c[a]=2;for(a=102701;102703>=a;a++)c[a]=0;for(a=102707;102730>=a;a++)c[a]=2;for(a=102733;102758>=a;a++)c[a]=2;for(a=102767;102900>=a;a++)c[a]=0;for(a=102965;102969>=a;a++)c[a]=0;for(a=102971;102973>=a;a++)c[a]=0;for(a=102975;102989>=a;a++)c[a]=0;for(a=102990;102992>=a;a++)c[a]=1;for(a=102997;103002>=a;a++)c[a]=0;for(a=103003;103008>=a;a++)c[a]=
2;for(a=103009;103011>=a;a++)c[a]=0;for(a=103012;103014>=a;a++)c[a]=2;for(a=103019;103021>=a;a++)c[a]=0;for(a=103022;103024>=a;a++)c[a]=2;for(a=103029;103031>=a;a++)c[a]=0;for(a=103032;103034>=a;a++)c[a]=2;for(a=103065;103068>=a;a++)c[a]=0;for(a=103074;103076>=a;a++)c[a]=0;for(a=103077;103079>=a;a++)c[a]=1;for(a=103080;103082>=a;a++)c[a]=0;for(a=103083;103085>=a;a++)c[a]=2;for(a=103090;103093>=a;a++)c[a]=0;for(a=103097;103099>=a;a++)c[a]=0;for(a=103100;103102>=a;a++)c[a]=2;for(a=103107;103109>=a;a++)c[a]=
0;for(a=103110;103112>=a;a++)c[a]=2;for(a=103113;103116>=a;a++)c[a]=0;for(a=103117;103120>=a;a++)c[a]=2;for(a=103153;103157>=a;a++)c[a]=0;for(a=103158;103162>=a;a++)c[a]=2;for(a=103163;103165>=a;a++)c[a]=0;for(a=103166;103168>=a;a++)c[a]=1;for(a=103169;103171>=a;a++)c[a]=2;for(a=103186;103188>=a;a++)c[a]=0;for(a=103189;103191>=a;a++)c[a]=2;for(a=103192;103195>=a;a++)c[a]=0;for(a=103196;103199>=a;a++)c[a]=2;for(a=103200;103224>=a;a++)c[a]=0;for(a=103225;103227>=a;a++)c[a]=1;for(a=103232;103237>=a;a++)c[a]=
0;for(a=103238;103243>=a;a++)c[a]=2;for(a=103244;103246>=a;a++)c[a]=0;for(a=103247;103249>=a;a++)c[a]=2;for(a=103254;103256>=a;a++)c[a]=0;for(a=103257;103259>=a;a++)c[a]=2;for(a=103264;103266>=a;a++)c[a]=0;for(a=103267;103269>=a;a++)c[a]=2;for(a=103300;103375>=a;a++)c[a]=0;for(a=103381;103383>=a;a++)c[a]=0;for(a=103384;103386>=a;a++)c[a]=1;for(a=103387;103389>=a;a++)c[a]=0;for(a=103390;103392>=a;a++)c[a]=2;for(a=103397;103399>=a;a++)c[a]=0;for(a=103400;103471>=a;a++)c[a]=2;for(a=103476;103478>=a;a++)c[a]=
0;for(a=103479;103481>=a;a++)c[a]=2;for(a=103486;103488>=a;a++)c[a]=0;for(a=103489;103491>=a;a++)c[a]=2;for(a=103492;103495>=a;a++)c[a]=0;for(a=103496;103499>=a;a++)c[a]=2;for(a=103528;103543>=a;a++)c[a]=0;for(a=103544;103548>=a;a++)c[a]=2;for(a=103549;103551>=a;a++)c[a]=0;for(a=103552;103554>=a;a++)c[a]=1;for(a=103555;103557>=a;a++)c[a]=2;for(a=103558;103560>=a;a++)c[a]=0;for(a=103571;103573>=a;a++)c[a]=0;for(a=103574;103576>=a;a++)c[a]=2;for(a=103577;103580>=a;a++)c[a]=0;for(a=103581;103583>=a;a++)c[a]=
2;for(a=103595;103597>=a;a++)c[a]=0;for(a=103600;103694>=a;a++)c[a]=0;for(a=103696;103698>=a;a++)c[a]=0;for(a=103700;103793>=a;a++)c[a]=2;for(a=103794;103871>=a;a++)c[a]=0;for(a=103900;103971>=a;a++)c[a]=2;return c})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f){function v(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var p=[0,0],q=l.getLogger("esri.geometry.Point");a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}n(d,a);c=d;d.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",
Object.isFrozen(a)?a:a.clone())};d.distance=function(a,b){var d=a.x-b.x,c=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(d*d+c*c+a*a)};d.prototype.normalizeCtorArgs=function(a,b,d,c,e){var m;if(Array.isArray(a))m=a,e=b,a=m[0],b=m[1],d=m[2],c=m[3];else if(a&&"object"===typeof a){if(m=a,a=null!=m.x?m.x:m.longitude,b=null!=m.y?m.y:m.latitude,d=null!=m.z?m.z:m.altitude,c=m.m,(e=m.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new g(e)),null!=m.longitude||null!=m.latitude)null==
m.longitude?q.warn(".longitude\x3d","Latitude was defined without longitude"):null==m.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!m.declaredClass&&e&&e.isWebMercator&&(b=f.lngLatToXY(m.longitude,m.latitude,p),a=b[0],b=b[1])}else v(d)?(e=d,d=null):v(c)&&(e=c,c=null);a={x:a,y:b};null==a.x&&null!=a.y?q.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&q.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=
e);null!=d&&(a.z=d);null!=c&&(a.m=c);return a};Object.defineProperty(d.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return f.xyToLngLat(this.x,this.y,p)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",f.lngLatToXY(this.x,a,p)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this._get("x"),this._get("y"),p)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",f.lngLatToXY(a,this._get("y"),p)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});d.prototype.writeX=function(a,b,d){b[d]=isNaN(a)?"NaN":a};d.prototype.readX=function(a){return"string"===typeof a?NaN:a};d.prototype.clone=function(){var a=new c;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};d.prototype.copy=function(a){c.copy(a,this);return this};d.prototype.equals=function(a){var b;if(!a)return!1;var d=this.x,c=this.y,e=this.z,m=this.m,g=this.spatialReference,p=a.z,q=a.m,k=a.x;b=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&a.isWGS84)b=f.lngLatToXY(k,b),k=b[0],b=b[1],a=g;else if(g.isWGS84&&a.isWebMercator)b=f.xyToLngLat(k,b),k=b[0],b=b[1],a=g;else return!1;return d===k&&c===b&&e===p&&m===q&&g.wkid===a.wkid};d.prototype.offset=function(a,d,c){return b.offsetPoint(this,
a,d,c)};d.prototype.normalize=function(){if(!this.spatialReference)return this;var a=m.getInfo(this.spatialReference);if(!a)return this;var b=this.x,d=a.valid,a=d[0],c=d[1],d=2*c;b>c?(a=Math.ceil(Math.abs(b-c)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};d.prototype.distance=function(a){return c.distance(this,a)};d.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:
[this.x,this.y]};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([h.property({dependsOn:["x","y","z","m","spatialReference"]})],d.prototype,"cache",void 0);e([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null);e([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null);e([h.property({type:Number,dependsOn:["y"]})],d.prototype,"latitude",null);
e([h.property({type:Number,dependsOn:["x"]})],d.prototype,"longitude",null);e([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h.cast(function(a){return isNaN(a)?a:k.ensureNumber(a)})],d.prototype,"x",void 0);e([h.writer("x")],d.prototype,"writeX",null);e([h.reader("x")],d.prototype,"readX",null);e([h.property({type:Number,json:{write:!0}})],d.prototype,"y",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
d.prototype,"z",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],d.prototype,"m",void 0);return d=c=e([h.subclass("esri.geometry.Point")],d)}(h.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,c){Object.defineProperty(c,"__esModule",{value:!0});c.offsetPoint=function(a,c,l,h){a.x+=c;a.y+=l;null!=h&&null!=a.z&&(a.z+=h);return a};c.offsetCoordsX=function(a,
c){a[0]+=c;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,c,n,e,l,h){function k(a,b,d,c,f){var e;if("x"in a&&"x"in f)b=b(a.x,a.y,v,c),f.x=b[0],f.y=b[1];else if("xmin"in a&&"xmin"in f)e=b(a.xmin,a.ymin,v,c),f.xmin=e[0],f.ymin=e[1],b=b(a.xmax,a.ymax,v,c),f.xmax=b[0],f.ymax=b[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){e="paths"in a?
a.paths:a.rings;var m=[],g=void 0;for(a=0;a<e.length;a++){var p=e[a],g=[];m.push(g);for(var q=0;q<p.length;q++)g.push(b(p[q][0],p[q][1],[0,0],c)),2<p[q].length&&g[q].push(p[q][2]),3<p[q].length&&g[q].push(p[q][3])}"paths"in f?f.paths=m:f.rings=m}else if("points"in a&&"points"in f){e=a.points;m=[];for(a=0;a<e.length;a++)m[a]=b(e[a][0],e[a][1],[0,0],c),2<e[a].length&&m[a].push(e[a][2]),3<e[a].length&&m[a].push(e[a][3]);f.points=m}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(e=
a.vertexAttributes&&a.vertexAttributes.position,m=f.vertexAttributes&&f.vertexAttributes.position,e))for(g=[0,0],a=0;a<e.length;a+=3)b(e[a],e[a+1],g,c),m[a]=g[0],m[a+1]=g[1];f.spatialReference=d;return f}function d(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?h.equals(b,a)?!0:h.isWebMercator(b)&&h.isWGS84(a)||h.isWebMercator(a)&&h.isWGS84(b):!1}function g(a,b,d){void 0===d&&(d=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&
(b=-89.99999);b*=.017453292519943;d[0]=.017453292519943*a*m;d[1]=f*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return d}function b(a,b,d,c){void 0===d&&(d=[0,0]);void 0===c&&(c=!1);a=a/m*57.29577951308232;d[0]=c?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/m)));return d}Object.defineProperty(c,"__esModule",{value:!0});var m=e.wgs84Radius,f=m/2,v=[0,0];c.canProject=d;c.project=function(a,c){var f=a&&a.spatialReference;c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);
return d(f,c)?h.equals(f,c)?n.clone(a):h.isWebMercator(c)?k(a,g,l.WebMercator,!1,n.clone(a)):h.isWGS84(c)?k(a,b,l.WGS84,!1,n.clone(a)):null:null};c.lngLatToXY=g;c.xyToLngLat=b;c.geographicToWebMercator=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=n.clone(a));return k(a,g,l.WebMercator,b,d)};c.webMercatorToGeographic=function(a,d,c){void 0===d&&(d=!1);void 0===c&&(c=n.clone(a));return k(a,b,l.WGS84,d,c)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(a,c){Object.defineProperty(c,
"__esModule",{value:!0});c.wgs84Radius=6378137;c.wgs84InverseFlattening=298.257223563;c.wgs84Flattening=1/c.wgs84InverseFlattening;c.wgs84PolarRadius=c.wgs84Radius*(1-c.wgs84Flattening);c.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,c){function n(a,c){return e(a,c[0],c[1])}function e(a,c,b,e){return c>=a.xmin&&c<=a.xmax&&b>=a.ymin&&b<=a.ymax?null!=e&&a.hasZ?e>=a.zmin&&e<=a.zmax:!0:!1}function l(a,c){if(a=a.rings)if(Array.isArray(a[0][0])){for(var b=
!1,d=0,f=a.length;d<f;d++)b=h(b,a[d],c);c=b}else c=h(!1,a,c);else c=!1;return c}function h(a,c,b){var d=b[0];b=b[1];for(var f=0,e=0,g=c.length;e<g;e++){f++;f===g&&(f=0);var q=c[e],k=q[0],q=q[1],h=c[f],l=h[0],h=h[1];(q<b&&h>=b||h<b&&q>=b)&&k+(b-q)/(h-q)*(l-k)<d&&(a=!a)}return a}Object.defineProperty(c,"__esModule",{value:!0});var k=[0,0];c.extentContainsPoint=function(a,c){return e(a,c.x,c.y,c.z)};c.extentContainsMultipoint=function(a,c){if(!c.points||c.points.length)return!1;var b=0;for(c=c.points;b<
c.length;b++)if(!n(a,c[b]))return!1;return!0};c.extentContainsExtent=function(a,c){var b=c.xmin,d=c.ymin,f=c.zmin,g=c.xmax,p=c.ymax,q=c.zmax;return a.hasZ&&c.hasZ?e(a,b,d,f)&&e(a,b,p,f)&&e(a,g,p,f)&&e(a,g,d,f)&&e(a,b,d,q)&&e(a,b,p,q)&&e(a,g,p,q)&&e(a,g,d,q):e(a,b,d)&&e(a,b,p)&&e(a,g,p)&&e(a,g,d)};c.extentContainsCoords2D=n;c.extentContainsCoords3D=function(a,c){return e(a,c[0],c[1],c[2])};c.polygonContainsPoint=function(a,c){k[1]=c.y;k[0]=c.x;return l(a,k)};c.polygonContainsCoords=l})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(a,c,n){function e(a,b){return n.extentContainsPoint(a,b)}function l(a,b){var d=a.hasZ&&b.hasZ,c;if(a.xmin<=b.xmin){if(c=b.xmin,a.xmax<c)return!1}else if(c=a.xmin,b.xmax<c)return!1;if(a.ymin<=b.ymin){if(c=b.ymin,a.ymax<c)return!1}else if(c=a.ymin,b.ymax<c)return!1;if(d&&b.hasZ)if(a.zmin<=b.zmin){if(d=b.zmin,a.zmax<d)return!1}else if(d=a.zmin,b.zmax<d)return!1;return!0}function h(a,b){var d=b.hasZ?n.extentContainsCoords3D:n.extentContainsCoords2D,c=0;for(b=b.points;c<
b.length;c++)if(d(a,b[c]))return!0;return!1}function k(a,b){m[0]=a.xmin;m[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;v[0]=a.xmin;v[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;for(var d=0,c=q;d<c.length;d++)if(n.polygonContainsCoords(b,c[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(c=b[d],c.length){var e=c[0];if(n.extentContainsCoords2D(a,e))return!0;for(var k=1;k<c.length;k++){var h=c[k];if(n.extentContainsCoords2D(a,h)||g(e,h,w))return!0;e=h}}return!1}function d(a,b){m[0]=a.xmin;m[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;
v[0]=a.xmin;v[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var c=b[d];if(b.length){var e=c[0];if(n.extentContainsCoords2D(a,e))return!0;for(var q=1;q<c.length;q++){var k=c[q];if(n.extentContainsCoords2D(a,k)||g(e,k,w))return!0;e=k}}}return!1}function g(a,d,c){for(var f=0;f<c.length;f++)if(b(a,d,c[f][0],c[f][1]))return!0;return!1}function b(a,b,d,c,f){var e=a[0];a=a[1];var m=b[0];b=b[1];var g=d[0],p=d[1];d=c[0]-g;var g=e-g,q=m-e;c=c[1]-p;var p=a-p,k=b-a,h=c*q-d*k;if(0===
h)return!1;d=(d*p-c*g)/h;g=(q*p-k*g)/h;return 0<=d&&1>=d&&0<=g&&1>=g?(f&&(f[0]=e+d*(m-e),f[1]=a+d*(b-a)),!0):!1}Object.defineProperty(c,"__esModule",{value:!0});c.extentIntersectsPoint=e;c.extentIntersectsExtent=l;c.extentIntersectsMultipoint=h;var m=[0,0],f=[0,0],v=[0,0],p=[0,0],q=[m,f,v,p],w=[[v,m],[m,f],[f,p],[p,v]];c.extentIntersectsPolygon=k;c.extentIntersectsPolyline=d;var u=[0,0];c.isSelfIntersecting=function(a){for(var d=0;d<a.length;d++){for(var c=a[d],f=0;f<c.length-1;f++)for(var e=c[f],
m=c[f+1],g=d+1;g<a.length;g++)for(var p=0;p<a[g].length-1;p++){var q=a[g][p],k=a[g][p+1],h=b(e,m,q,k,u);if(h&&!(u[0]===e[0]&&u[1]===e[1]||u[0]===q[0]&&u[1]===q[1]||u[0]===m[0]&&u[1]===m[1]||u[0]===k[0]&&u[1]===k[1]))return!0}p=c.length;if(!(4>=p))for(f=0;f<p-3;f++){var l=p-1;0===f&&(l=p-2);e=c[f];m=c[f+1];for(g=f+2;g<l;g++)if(q=c[g],k=c[g+1],(h=b(e,m,q,k,u))&&!(u[0]===e[0]&&u[1]===e[1]||u[0]===q[0]&&u[1]===q[1]||u[0]===m[0]&&u[1]===m[1]||u[0]===k[0]&&u[1]===k[1]))return!0}}return!1};c.segmentIntersects=
b;c.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return l;case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return e;case "esriGeometryPolygon":case "polygon":return k;case "esriGeometryPolyline":case "polyline":return d;case "mesh":return l}}})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b){function m(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.points=[];b.type="multipoint";return b}n(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var d={};Array.isArray(a)?(d.points=a,d.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(d.points=a.points),a.spatialReference&&
(d.spatialReference=a.spatialReference),a.hasZ&&(d.hasZ=a.hasZ),a.hasM&&(d.hasM=a.hasM)):d.spatialReference=a;if(a=d.points&&d.points[0])void 0===d.hasZ&&void 0===d.hasM?(d.hasZ=2<a.length,d.hasM=!1):void 0===d.hasZ?d.hasZ=3<a.length:void 0===d.hasM&&(d.hasM=3<a.length);return d};Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new k,d=this.hasZ,c=this.hasM,f=d?3:2,e=a[0],g=m(Math.min),p=m(Math.max),h=e[0],l=e[1],v=e[0],e=e[1],n,D,E,H,
F=0,J=a.length;F<J;F++){var L=a[F],M=L[0],I=L[1],h=g(h,M),l=g(l,I),v=p(v,M),e=p(e,I);d&&2<L.length&&(M=L[2],n=g(n,M),E=p(E,M));c&&L.length>f&&(L=L[f],D=g(D,L),H=p(H,L))}b.xmin=h;b.ymin=l;b.xmax=v;b.ymax=e;b.spatialReference=this.spatialReference;d?(b.zmin=n,b.zmax=E):(b.zmin=null,b.zmax=null);c?(b.mmin=D,b.mmax=H):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});d.prototype.writePoints=function(a,b){b.points=l.clone(this.points)};d.prototype.addPoint=function(a){this.clearCache();
b.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};d.prototype.clone=function(){var a={points:l.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new c(a)};d.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},d=2;this.hasZ&&(b.z=a[2],d=3);this.hasM&&(b.m=a[d]);return new g(b)};d.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new g(this.points.splice(a,1)[0],this.spatialReference)};d.prototype.setPoint=function(a,d){if(!this._validateInputs(a))return this;this.clearCache();b.updateSupportFromPoint(d);this.points[a]=d.toArray();return this};d.prototype.toJSON=function(a){return this.write(null,a)};d.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var c;e([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],
d.prototype,"cache",void 0);e([h.property({dependsOn:["cache"]})],d.prototype,"extent",null);e([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);e([h.writer("points")],d.prototype,"writePoints",null);return d=c=e([h.subclass("esri.geometry.Multipoint")],d)}(h.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,c){Object.defineProperty(c,"__esModule",{value:!0});c.updateSupportFromPoint=
function(a,c,l){void 0===l&&(l=!1);var e=a.hasM,k=a.hasZ;Array.isArray(c)?4!==c.length||e||k?3===c.length&&l&&!e?(k=!0,e=!1):3===c.length&&e&&k&&(k=e=!1):k=e=!0:(k=!k&&c.hasZ&&(!e||c.hasM),e=!e&&c.hasM&&(!k||c.hasZ));a.hasZ=k;a.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u){a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}n(d,a);c=d;d.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var d=!1,f=!1;b.map(function(a){a.hasZ&&(d=!0);a.hasM&&(f=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var c=a.zmin+.5*(a.zmax-a.zmin),
e=0;e<b.length;e++)b[e].push(c);if(f&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),e=0;e<b.length;e++)b[e].push(a);return b}),spatialReference:a};d&&(b.hasZ=!0);f&&(b.hasM=!0);return new c(b)};d.prototype.normalizeCtorArgs=function(a,d){var c=null,f,e,m=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,d||(a.spatialReference?d=a.spatialReference:a.rings||(d=a)),f=a.hasZ,e=a.hasM):c=a;c=c||[];d=d||b.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(m=c[0]&&c[0][0])void 0===f&&void 0===
e?(f=2<m.length,e=!1):void 0===f?f=!e&&3<m.length:void 0===e&&(e=!f&&3<m.length);return{rings:c,spatialReference:d,hasZ:f,hasM:e}};Object.defineProperty(d.prototype,"centroid",{get:function(){var a=m.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new g;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.spatialReference,
b=p.getPolygonExtent(this);if(!b)return null;b=new k(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isSelfIntersecting",{get:function(){return q.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,b){b.rings=l.clone(this.rings)};d.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var c=[],f=0,e=a.length;f<e;f++)c[f]=a[f].toArray();
b[d]=c}return this}};d.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.rings=l.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.contains=function(a){if(!a)return!1;w.canProject(a,this.spatialReference)&&(a=w.project(a,this.spatialReference));return f.polygonContainsPoint(this,a)};d.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return v.isClockwise(a,
this.hasM,this.hasZ)};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new g(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new g(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new g(a[0],a[1],a[2],a[3],this.spatialReference):new g(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,b,d){if(!this._validateInputs(a,b,!0))return this;this.clearCache();u.updateSupportFromPoint(this,d);Array.isArray(d)||
(d=d.toArray());this.rings[a].splice(b,0,d);return this};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new g(this.rings[a].splice(b,1)[0],this.spatialReference)};d.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new g(a,b)})};d.prototype.setPoint=function(a,b,d){if(!this._validateInputs(a,b))return this;this.clearCache();
u.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.rings[a][b]=d;return this};d.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([h.property({dependsOn:["hasM","hasZ","rings"]})],d.prototype,"cache",void 0);e([h.property({readOnly:!0,dependsOn:["cache"]})],d.prototype,"centroid",
null);e([h.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);e([h.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"isSelfIntersecting",null);e([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);e([h.writer("rings")],d.prototype,"writePaths",null);return d=c=e([h.subclass("esri.geometry.Polygon")],d)}(h.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(a,c,n){function e(a,d){if(!a||!a.length)return null;for(var c=[],b=[],e=d?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],f=0,k=a.length;f<k;f++){var p=l(a[f],d,e);p&&b.push(p)}b.sort(function(a,b){var c=a[2]-b[2];0===c&&d&&(c=a[4]-b[4]);return c});b.length&&(f=6*b[0][2],c[0]=b[0][0]/f,c[1]=b[0][1]/f,d&&(f=6*b[0][4],c[2]=0!==f?b[0][3]/f:0),c[0]<e[0]||c[0]>e[1]||c[1]<e[2]||c[1]>e[3]||d&&(c[2]<e[4]||c[2]>e[5]))&&(c.length=
0);if(!c.length)if(a=a[0]&&a[0].length?h(a[0],d):null)c[0]=a[0],c[1]=a[1],d&&2<a.length&&(c[2]=a[2]);else return null;return c}function l(a,d,c){for(var b=0,e=0,f=0,g=0,p=0,q=0;q<a.length;q++){var k=a[q],h=k[0],l=k[1],r=k[2],n=a[(q+1)%a.length],x=n[0],G=n[1],A=n[2],y=h*G-x*l,g=g+y,b=b+(h+x)*y,e=e+(l+G)*y;d&&2<k.length&&2<n.length&&(y=h*A-x*r,f+=(r+A)*y,p+=y);h<c[0]&&(c[0]=h);h>c[1]&&(c[1]=h);l<c[2]&&(c[2]=l);l>c[3]&&(c[3]=l);d&&(r<c[4]&&(c[4]=r),r>c[5]&&(c[5]=r))}0<g&&(g*=-1);0<p&&(p*=-1);if(!g)return null;
a=[b,e,.5*g];d&&(a[3]=f,a[4]=.5*p);return a}function h(a,d){for(var c=d?[0,0,0]:[0,0],b=d?[0,0,0]:[0,0],e=0,f=0,k=0,p=0,q=0,h=a.length;q<h-1;q++){var l=a[q],t=a[q+1];if(l&&t){c[0]=l[0];c[1]=l[1];b[0]=t[0];b[1]=t[1];d&&2<l.length&&2<t.length&&(c[2]=l[2],b[2]=t[2]);var r=n.getLength(c,b);r&&(e+=r,l=n.getMidpoint(l,t),f+=r*l[0],k+=r*l[1],d&&2<l.length&&(p+=r*l[2]))}}return 0<e?d?[f/e,k/e,p/e]:[f/e,k/e]:a.length?a[0]:null}Object.defineProperty(c,"__esModule",{value:!0});c.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};c.polygonCentroid=function(a){return a?e(a.rings,a.hasZ):null};c.ringsCentroid=e;c.lineCentroid=h})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,c,n){function e(a,c){var b=c[0]-a[0],d=c[1]-a[1];return 2<a.length&&2<c.length?(a=a[2]-c[2],Math.sqrt(b*b+d*d+a*a)):Math.sqrt(b*b+d*d)}function l(a,c,b){var d=a[0]+b*(c[0]-a[0]),f=a[1]+b*(c[1]-
a[1]);return 2<a.length&&2<c.length?[d,f,a[2]+b*(c[2]-a[2])]:[d,f]}function h(a,c,b){for(var d=a.length,f=0,e=0,g=0,q=0;q<d;q++){var k=a[q],h=a[(q+1)%d],l=2,f=f+(k[0]*h[1]-h[0]*k[1]);2<k.length&&2<h.length&&b&&(e+=k[0]*h[2]-h[0]*k[2],l=3);k.length>l&&h.length>l&&c&&(g+=k[0]*h[l]-h[0]*k[l])}return 0>=f&&0>=e&&0>=g}function k(a,c){if(c=n.getInfo(c)){var b=c.valid[0],d=c.valid[1],f=d-b;c=function(a){var c=Infinity,e=-Infinity;a.forEach(function(a){for(var m=a[0];m<b;)m+=f;for(;m>d;)m-=f;c=Math.min(c,
m);e=Math.max(e,m);a[0]=m});var m=e-c;f-m<m&&a.forEach(function(a){0>a[0]&&(a[0]+=f)})};for(var e=0;e<a.length;e++)c(a[e])}}Object.defineProperty(c,"__esModule",{value:!0});c.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var d=a.hasZ,b=a.hasM;if("point"===a.type)return b&&d?[a.x,a.y,a.z,a.m]:d?[a.x,a.y,a.z]:b?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);
if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var c=!1,f=!1;a.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(f=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var d=.5*(a.zmax-a.zmin),e=0;e<b.length;e++)b[e].push(d);if(f&&a.hasM)for(a=.5*(a.mmax-a.mmin),e=0;e<b.length;e++)b[e].push(a);return b})}return null};c.getLength=e;c.getMidpoint=function(a,c){return l(a,c,.5)};c.getPathLength=function(a){for(var d=
a.length,b=0,c=0;c<d-1;++c)b+=e(a[c],a[c+1]);return b};c.getPointOnPath=function(a,c){if(0>=c)return a[0];for(var b=a.length,d=0,f=0;f<b-1;++f){var g=e(a[f],a[f+1]);if(c-d<g)return l(a[f],a[f+1],(c-d)/g);d+=g}return a[b-1]};c.isClockwise=h;c.closeRingsAndFixWinding=function(a){if("rings"in a){for(var d=0,b=a.rings;d<b.length;d++){var c=b[d];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}if(0<a.rings.length&&!h(a.rings[0],a.hasM,a.hasZ))for(d=0;d<a.rings.length;++d)a.rings[d]=
a.rings[d].reverse()}};c.closeRings=function(a){if("rings"in a){var d=0;for(a=a.rings;d<a.length;d++){var b=a[d];3>b.length||b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]||b.push([b[0][0],b[0][1]])}}};c.getRingArea=function(a){for(var d=a.length,b=0,c=0;c<d;c++)var f=a[c],e=a[(c+1)%d],b=b+(f[0]*e[1]-e[0]*f[1]);return b};c.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;k("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};
c.unnormalizeVerticesOnDatelineCrossing=k;c.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,c,b,e){var d=Infinity,m=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<c;)f+=e;for(;f>b;)f-=e;d=Math.min(d,f);m=Math.max(m,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var g=m-d;e-g<g&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=e)})}})},"esri/geometry/support/extentUtils":function(){define(["require",
"exports","./boundsUtils"],function(a,c,n){function e(a,d,c){void 0===d&&(d=!1);void 0===c&&(c=!1);return d?c?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:c?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function l(a){var b=a.hasZ,d=a.hasM;return e(n.getPointsBounds(g,a.points,b,d),b,d)}function h(a){var b=a.x,d=a.y,c=a.z;a=a.m;var e=null!=a;return null!=
c?e?{xmin:b,ymin:d,zmin:c,mmin:a,xmax:b,ymax:d,zmax:c,mmax:a}:{xmin:b,ymin:d,zmin:c,xmax:b,ymax:d,zmax:c}:e?{xmin:b,ymin:d,mmin:a,xmax:b,ymax:d,mmax:a}:{xmin:b,ymin:d,xmax:b,ymax:d}}function k(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(g,a.rings,b,d))?e(a,b,d):null}function d(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(g,a.paths,b,d))?e(a,b,d):null}Object.defineProperty(c,"__esModule",{value:!0});var g=[];c.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?h(a):void 0!==a.rings?k(a):void 0!==a.paths?d(a):void 0!==a.points?l(a):null:null};c.getMultipointExtent=l;c.getPointExtent=h;c.getPolygonExtent=k;c.getPolylineExtent=d})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(a,c){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function e(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}function l(a,
c,e,k){var b=e?3:2;if(!c.length||!c[0].length)return null;for(var f=c[0][0],m=f[0],f=f[1],h=c[0][0],l=h[0],h=h[1],r=void 0,n=void 0,v=void 0,G=void 0,A=0;A<c.length;A++)for(var y=c[A],C=0;C<y.length;C++){var z=y[C],D=z[0],E=z[1],m=d(m,D),f=d(f,E),l=g(l,D),h=g(h,E);e&&2<z.length&&(D=z[2],r=d(r,D),n=g(n,D));k&&z.length>b&&(G=z[b],v=d(r,G),G=g(n,G))}if(e){if(k)return a[0]=m,a[1]=f,a[2]=r,a[3]=v,a[4]=l,a[5]=h,a[6]=n,a[7]=G,a.length=8,a;a[0]=m;a[1]=f;a[2]=r;a[3]=l;a[4]=h;a[5]=n;a.length=6;return a}if(k)return a[0]=
m,a[1]=f,a[2]=v,a[3]=l,a[4]=h,a[5]=G,a.length=6,a;a[0]=m;a[1]=f;a[2]=l;a[3]=h;a.length=4;return a}function h(a,d,c,e,g,k){c=d.xmin;e=d.xmax;var b=d.ymin,f=d.ymax,m=d.zmin,p=d.zmax,h=d.mmin;d=d.mmax;if(g){m=m||0;p=p||0;if(k)return a[0]=c,a[1]=b,a[2]=m,a[3]=h||0,a[4]=e,a[5]=f,a[6]=p,a[7]=d||0,a;a[0]=c;a[1]=b;a[2]=m;a[3]=e;a[4]=f;a[5]=p;return a}if(k)return a[0]=c,a[1]=b,a[2]=h||0,a[3]=e,a[4]=f,a[5]=d||0,a;a[0]=c;a[1]=b;a[2]=e;a[3]=f;return a}function k(a,c,e,k,p,h){var b=e?3:2;k=k&&h;e=e&&p;if(!c.length||
!c[0].length)return null;for(var f=c[0],m=f[0],f=f[1],q=c[0],l=q[0],q=q[1],n=void 0,v=void 0,A=void 0,y=void 0,C=0;C<c.length;C++){var z=c[C],D=z[0],E=z[1],m=d(m,D),f=d(f,E),l=g(l,D),q=g(q,E);e&&2<z.length&&(D=z[2],n=d(n,D),v=g(v,D));k&&z.length>b&&(y=z[b],A=d(n,y),y=g(v,y))}if(p){n=n||0;v=v||0;if(h)return a[0]=m,a[1]=f,a[2]=n,a[3]=A||0,a[4]=l,a[5]=q,a[6]=v,a[7]=y||0,a;a[0]=m;a[1]=f;a[2]=n;a[3]=l;a[4]=q;a[5]=v;return a}if(h)return a[0]=m,a[1]=f,a[2]=A||0,a[3]=l,a[4]=q,a[5]=y||0,a;a[0]=m;a[1]=f;a[2]=
l;a[3]=q;return a}Object.defineProperty(c,"__esModule",{value:!0});var d=e(Math.min),g=e(Math.max);c.getBoundsXY=function(a,d){if(void 0!==d.paths)return l(a,d.paths,!1,!1);if(void 0!==d.rings)return l(a,d.rings,!1,!1);if(void 0!==d.points)return k(a,d.points,!1,!1,!1,!1);if(n(d))return h(a,d);void 0!==d.x&&void 0!==d.y&&(a[0]=d.x,a[1]=d.y,a[2]=d.x,a[3]=d.y);return a};c.getBoundsXYZ=function(a,d){if(void 0!==d.paths)return l(a,d.paths,!0,!1);if(void 0!==d.rings)return l(a,d.rings,!0,!1);if(void 0!==
d.points)return k(a,d.points,!0,!1,!0,!1);if(n(d))return h(a,d,!0,!1,!0,!1);void 0!==d.x&&void 0!==d.y&&(a[0]=d.x,a[1]=d.y,a[2]=d.z,a[3]=d.x,a[4]=d.y,a[5]=d.z);return a};c.getRingsOrPathsBounds=l;c.getExtentBounds=h;c.getPointsBounds=k;c.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],e=0;e<a.length;e++)var p=a[e][0],b=d(b,p),c=g(c,p);return c-b};c.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],
e=0;e<a.length;e++)var p=a[e][0],b=d(b,p),c=g(c,p);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f){a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.paths=
[];b.type="polyline";return b}n(d,a);c=d;d.prototype.normalizeCtorArgs=function(a,d){var c=null,e,f,g=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,d||(a.spatialReference?d=a.spatialReference:a.paths||(d=a)),e=a.hasZ,f=a.hasM):c=a;c=c||[];d=d||b.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&c[0][0])void 0===e&&void 0===f?(e=2<g.length,f=!1):void 0===e?e=!f&&3<g.length:void 0===f&&(f=!e&&3<g.length);return{paths:c,spatialReference:d,hasZ:e,hasM:f}};Object.defineProperty(d.prototype,
"extent",{get:function(){var a=this.spatialReference,b=m.getPolylineExtent(this);if(!b)return null;b=new k(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,b){b.paths=l.clone(this.paths)};d.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var c=[],e=0,f=a.length;e<f;e++)c[e]=a[e].toArray();b[d]=c}return this}};d.prototype.clone=function(){var a=new c;a.spatialReference=
this.spatialReference;a.paths=l.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new g(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new g(a[0],a[1],void 0,a[2],this.spatialReference):b&&d?new g(a[0],a[1],a[2],a[3],this.spatialReference):new g(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,b,d){if(!this._validateInputs(a,b,
!0))return this;this.clearCache();f.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.paths[a].splice(b,0,d);return this};d.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new g(a,b)})};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new g(this.paths[a].splice(b,1)[0],this.spatialReference)};
d.prototype.setPoint=function(a,b,d){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,d);Array.isArray(d)||(d=d.toArray());this.paths[a][b]=d;return this};d.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],d&&(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,a)};var c;e([h.property({dependsOn:["hasM","hasZ","paths"]})],d.prototype,
"cache",void 0);e([h.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);e([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);e([h.writer("paths")],d.prototype,"writePaths",null);return d=c=e([h.subclass("esri.geometry.Polyline")],d)}(h.declared(d));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,c,n,e,l,h,k,d){function g(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function b(a){return void 0!==a.points}function m(a){return void 0!==a.x&&void 0!==a.y}function f(a){return void 0!==a.paths}function v(a){return void 0!==a.rings}function p(a){return a?a instanceof e?a:m(a)?h.fromJSON(a):f(a)?d.fromJSON(a):v(a)?k.fromJSON(a):b(a)?l.fromJSON(a):g(a)?n.fromJSON(a):null:null}Object.defineProperty(c,"__esModule",{value:!0});c.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(u){console.warn(u.stack)}return p(a)};c.isExtent=g;c.isMultipoint=b;c.isPoint=m;c.isPolyline=f;c.isPolygon=v;c.isMesh=function(a){return void 0!==a.vertexAttributes};c.fromJSON=p;c.getJsonType=function(a){return a?m(a)?"esriGeometryPoint":f(a)?"esriGeometryPolyline":v(a)?"esriGeometryPolygon":g(a)?"esriGeometryEnvelope":b(a)?"esriGeometryMultipoint":null:null};var q={esriGeometryPoint:h,esriGeometryPolyline:d,esriGeometryPolygon:k,esriGeometryEnvelope:n,esriGeometryMultipoint:l};c.getGeometryType=
function(a){return a&&q[a]||null}})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y){var C,z={PortalGroup:function(){return t.create(function(b){return a(["./PortalGroup"],b)})},PortalItem:function(){return t.create(function(b){return a(["./PortalItem"],b)})},PortalUser:function(){return t.create(function(b){return a(["./PortalUser"],b)})}};return function(d){function c(a){a=d.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=!1;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=b.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}l(c,d);p=c;c.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};c.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};c.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var d=0;d<
a.length;d++){var c=a[d];-1===b.request.trustedServers.indexOf(c)&&b.request.trustedServers.push(c)}return a};c.prototype.readDefaultBasemap=function(a){return a?(a=C.fromJSON(a),a.portalItem={portal:this},a):null};c.prototype.readDefaultVectorBasemap=function(a){return a?(a=C.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(c.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!0,configurable:!0});c.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};c.prototype.readUser=function(a){var b=null;a&&(b=y.fromJSON(a),b.portal=this);return b};c.prototype.load=function(b){var d=this,c=t.create(function(b){return a(["../Basemap"],b)}).then(function(a){t.throwIfAborted(b);C=a}).then(function(){return d.sourceJSON?d.sourceJSON:d._fetchSelf(d.authMode,!1,b)}).then(function(a){if(m.id){var b=m.id;d.credential=b.findCredential(d.restUrl);d.credential||
d.authMode!==p.AUTH_MODE_AUTO||(d._esriId_credentialCreateHandle=b.on("credential-create",function(){b.findCredential(d.restUrl)&&d._signIn()}))}d.sourceJSON=a;d.read(a)});this.addResolvingPromise(c);return this.when()};c.prototype.createClosestFacilityTask=function(){return e(this,void 0,void 0,function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(b,d){a(["../tasks/ClosestFacilityTask"],
b,d)})];case 2:return d=c.sent(),[2,new d(b)]}})})};c.prototype.createElevationLayers=function(){return e(this,void 0,void 0,function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(b,d){a(["../layers/ElevationLayer"],b,d)})];case 2:return d=c.sent(),[2,b?b.map(function(a){return new d({id:a.id,url:a.url})}):[]]}})})};c.prototype.createGeometryService=function(){return e(this,
void 0,void 0,function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(b,d){a(["../tasks/GeometryService"],b,d)})];case 2:return d=c.sent(),[2,new d({url:b})]}})})};c.prototype.createPrintTask=function(){return e(this,void 0,void 0,function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperServiceUrl("printTask"),
[4,new Promise(function(b,d){a(["../tasks/PrintTask"],b,d)})];case 2:return d=c.sent(),[2,new d(b)]}})})};c.prototype.createRouteTask=function(){return e(this,void 0,void 0,function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(b,d){a(["../tasks/RouteTask"],b,d)})];case 2:return d=c.sent(),[2,new d(b)]}})})};c.prototype.createServiceAreaTask=function(){return e(this,void 0,void 0,
function(){var b,d;return k(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return c.sent(),b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(b,d){a(["../tasks/ServiceAreaTask"],b,d)})];case 2:return d=c.sent(),[2,new d(b)]}})})};c.prototype.fetchBasemaps=function(a,b){var d=new G;d.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);d.disableExtraQuery=!0;return this.queryGroups(d,b).then(function(a){d.num=100;
d.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],d.sortField=a.sortField||"name",d.sortOrder=a.sortOrder||"desc",a.queryItems(d,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new C({portalItem:a})}):[]})};c.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):t.isAborted(a)?
t.reject(t.createAbortError()):t.resolve([])};c.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,d=new G;d.num=100;d.sortField="title";if(b&&b.length){for(var c=[],e=0;e<b.length;e++){var f=b[e];c.push('(title:"'+f.title+'" AND owner:'+f.owner+")")}d.query=c.join(" OR ");return this.queryGroups(d,a).then(function(a){return a.results})}return t.isAborted(a)?t.reject(t.createAbortError()):t.resolve([])};c.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",
n({},a,{query:{culture:this.user&&this.user.culture||this.culture||g.locale}}))};c.getDefault=function(){if(!p._default||p._default.destroyed)p._default=new p;return p._default};c.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};c.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};c.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",
b)};c.prototype.toJSON=function(){throw new v("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};c.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new p({sourceJSON:a})};c.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new v("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};c.prototype._getHelperServiceUrl=function(a){var b=
this._getHelperService(a);if(!b.url)throw new v("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};c.prototype._fetchSelf=function(a,b,d){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a=n({authMode:a,query:{culture:g.locale}},d);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};c.prototype._queryPortal=function(a,b,d,c){var e=this,f=B.ensureType(G,b),
g=function(b){return e._request(e.restUrl+a,n({},f.toRequestOptions(e),c)).then(function(a){var d=f.clone();d.start=a.nextStart;return new A({nextQueryParams:d,queryParams:f,total:a.total,results:p._resultsToTypedArray(b,{portal:e},a,c)})}).then(function(a){return t.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(b){t.throwIfAbortError(b);return a})})};return d&&z[d]?z[d]().then(function(a){t.throwIfAborted(c);return g(a)}):g()};c.prototype._signIn=
function(){var a=this;if(this.authMode===p.AUTH_MODE_ANONYMOUS)return t.reject(new v("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return t.reject(this.loadError);var b=function(b){return t.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});
if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return m.id?m.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};c.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};c.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};c.prototype._requestToTypedArray=
function(b,d,c){var e=this,f=function(a){return e._request(b,d).then(function(b){var d=p._resultsToTypedArray(a,{portal:e},b);return t.all(d.map(function(a){return"function"===typeof a.when?a.when():b})).then(function(){return d},function(){return d})})};return c?t.create(function(b){return a(["./"+c],b)}).then(function(a){return f(a)}):f()};c.prototype._request=function(a,b){void 0===b&&(b={});var d=n({f:"json"},b.query),c=b.authMode,e=b.body,g=b.cacheBust,m=b.method,k=b.responseType;b={authMode:void 0===
c?this.authMode===p.AUTH_MODE_ANONYMOUS?"anonymous":"auto":c,body:void 0===e?null:e,cacheBust:void 0===g?!1:g,method:void 0===m?"auto":m,query:d,responseType:void 0===k?"json":k,timeout:0,signal:b.signal};return f(this._normalizeSSL(a),b).then(function(a){return a.data})};c._resultsToTypedArray=function(a,b,d,c){if(d){var e=u.isSome(c)?c.signal:null;d=d.listings||d.notifications||d.userInvitations||d.tags||d.items||d.groups||d.comments||d.provisions||d.results||d.relatedItems||d;if(a||b)d=d.map(function(d){d=
q.mixin(a?a.fromJSON(d):d,b);"function"===typeof d.load&&d.load(e);return d})}else d=[];return d};var p;c.AUTH_MODE_ANONYMOUS="anonymous";c.AUTH_MODE_AUTO="auto";c.AUTH_MODE_IMMEDIATE="immediate";h([r.property()],c.prototype,"access",void 0);h([r.property()],c.prototype,"allSSL",void 0);h([r.property()],c.prototype,"authMode",void 0);h([r.property()],c.prototype,"authorizedCrossOriginDomains",void 0);h([r.reader("authorizedCrossOriginDomains")],c.prototype,"readAuthorizedCrossOriginDomains",null);
h([r.property()],c.prototype,"basemapGalleryGroupQuery",void 0);h([r.property()],c.prototype,"bingKey",void 0);h([r.property()],c.prototype,"canListApps",void 0);h([r.property()],c.prototype,"canListData",void 0);h([r.property()],c.prototype,"canListPreProvisionedItems",void 0);h([r.property()],c.prototype,"canProvisionDirectPurchase",void 0);h([r.property()],c.prototype,"canSearchPublic",void 0);h([r.property()],c.prototype,"canShareBingPublic",void 0);h([r.property()],c.prototype,"canSharePublic",
void 0);h([r.property()],c.prototype,"canSignInArcGIS",void 0);h([r.property()],c.prototype,"canSignInIDP",void 0);h([r.property()],c.prototype,"colorSetsGroupQuery",void 0);h([r.property()],c.prototype,"commentsEnabled",void 0);h([r.property({type:Date})],c.prototype,"created",void 0);h([r.property()],c.prototype,"credential",void 0);h([r.property()],c.prototype,"culture",void 0);h([r.property()],c.prototype,"currentVersion",void 0);h([r.property()],c.prototype,"customBaseUrl",void 0);h([r.property()],
c.prototype,"defaultBasemap",void 0);h([r.reader("defaultBasemap")],c.prototype,"readDefaultBasemap",null);h([r.property({type:x})],c.prototype,"defaultExtent",void 0);h([r.property()],c.prototype,"defaultVectorBasemap",void 0);h([r.reader("defaultVectorBasemap")],c.prototype,"readDefaultVectorBasemap",null);h([r.property()],c.prototype,"description",void 0);h([r.property()],c.prototype,"eueiEnabled",void 0);h([r.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],c.prototype,"extraQuery",
null);h([r.property()],c.prototype,"featuredGroups",void 0);h([r.property()],c.prototype,"featuredItemsGroupQuery",void 0);h([r.property()],c.prototype,"galleryTemplatesGroupQuery",void 0);h([r.property()],c.prototype,"livingAtlasGroupQuery",void 0);h([r.property()],c.prototype,"hasCategorySchema",void 0);h([r.property()],c.prototype,"helpBase",void 0);h([r.property()],c.prototype,"helperServices",void 0);h([r.property()],c.prototype,"helpMap",void 0);h([r.property()],c.prototype,"homePageFeaturedContent",
void 0);h([r.property()],c.prototype,"homePageFeaturedContentCount",void 0);h([r.property()],c.prototype,"httpPort",void 0);h([r.property()],c.prototype,"httpsPort",void 0);h([r.property()],c.prototype,"id",void 0);h([r.property()],c.prototype,"ipCntryCode",void 0);h([r.property({dependsOn:["access"],readOnly:!0})],c.prototype,"isOrganization",null);h([r.property()],c.prototype,"isPortal",void 0);h([r.property()],c.prototype,"isReadOnly",void 0);h([r.property()],c.prototype,"layerTemplatesGroupQuery",
void 0);h([r.property()],c.prototype,"maxTokenExpirationMinutes",void 0);h([r.property({type:Date})],c.prototype,"modified",void 0);h([r.property()],c.prototype,"name",void 0);h([r.property()],c.prototype,"portalHostname",void 0);h([r.property()],c.prototype,"portalMode",void 0);h([r.property()],c.prototype,"portalProperties",void 0);h([r.property()],c.prototype,"region",void 0);h([r.property({dependsOn:["url"],readOnly:!0})],c.prototype,"restUrl",null);h([r.property()],c.prototype,"rotatorPanels",
void 0);h([r.property()],c.prototype,"showHomePageDescription",void 0);h([r.property()],c.prototype,"sourceJSON",void 0);h([r.property()],c.prototype,"staticImagesUrl",void 0);h([r.property()],c.prototype,"stylesGroupQuery",void 0);h([r.property()],c.prototype,"supportsHostedServices",void 0);h([r.property()],c.prototype,"symbolSetsGroupQuery",void 0);h([r.property()],c.prototype,"templatesGroupQuery",void 0);h([r.property()],c.prototype,"thumbnail",void 0);h([r.property({dependsOn:["restUrl","thumbnail"],
readOnly:!0})],c.prototype,"thumbnailUrl",null);h([r.property()],c.prototype,"units",void 0);h([r.property()],c.prototype,"url",void 0);h([r.property()],c.prototype,"urlKey",void 0);h([r.reader("urlKey")],c.prototype,"readUrlKey",null);h([r.property()],c.prototype,"user",void 0);h([r.reader("user")],c.prototype,"readUser",null);h([r.property()],c.prototype,"useStandardizedQuery",void 0);h([r.property()],c.prototype,"useVectorBasemaps",void 0);h([r.property()],c.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return c=p=h([r.subclass("esri.portal.Portal")],c)}(r.declared(p.JSONSupportMixin(w)))})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q){function w(a,b){var d=f.createAbortController();
return f.create(function(c,e){u(d.signal,a,b).then(c).catch(e)},function(){d.abort()})}function u(a,d,c){return e(this,void 0,void 0,function(){var e,g,m,k,q,r,u,v;return l(this,function(l){switch(l.label){case 0:return e=p.isDataProtocol(d),(g=p.isBlobProtocol(d))||e||(d=p.normalize(d)),m={url:d,requestOptions:n({},c)},(k=p.getInterceptor(d))?[4,z(k,m)]:[3,2];case 1:q=l.sent();if(null!=q)return[2,{data:q,getHeader:O,requestOptions:m.requestOptions,url:m.url}];k.after||k.error||(k=null);l.label=2;
case 2:d=m.url;c=m.requestOptions;if("image"===c.responseType){if(b("host-webworker"))throw B("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),m);}else if(e)throw B("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),m);if("head"===c.method){if(c.body)throw B("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),m);if(e||g)throw B("request:invalid-parameters",
Error("data and blob URLs are not supported for method 'head'"),m);}return[4,x()];case 3:l.sent();if(L)return[2,L.execute(d,c)];r=f.createAbortController();f.onAbort(a,function(){return r.abort()});f.onAbort(c,function(){return r.abort()});u={controller:r,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:k,params:m,redoRequest:!1,useIdentity:h.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,H(u)];case 4:return v=l.sent(),k&&k.after&&k.after(v),[2,
v]}})})}function t(a){p.isBlobProtocol(a)||p.isDataProtocol(a)||(a=p.getOrigin(a))&&-1===w._corsServers.indexOf(a)&&w._corsServers.push(a)}function r(a){a=p.getOrigin(a);return!a||v.endsWith(a,".arcgis.com")||-1!==w._corsServers.indexOf(a)||p.isTrustedServer(a)}function B(a,b,c,e){var f="Error",g={url:c.url,requestOptions:c.requestOptions,getHeader:O,ssl:!1};if(b instanceof d)return b.details?(b.details=m.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=g,
b;if(b){c=e&&function(a){return e.headers.get(a)};var p=e&&e.status,k=b.message;k&&(f=k);c&&(g.getHeader=c);g.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||p||0;g.subCode=b.subcode;g.messageCode=b.messageCode;g.messages="string"===typeof b.details?[b.details]:b.details}a=new d(a,f,g);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function x(){return e(this,void 0,void 0,function(){var d;return l(this,function(c){switch(c.label){case 0:return b("host-webworker")?L?[3,2]:[4,new Promise(function(b,
d){a(["./core/workers/request"],b,d)})]:[3,3];case 1:L=c.sent(),c.label=2;case 2:return[3,6];case 3:if(w._abortableFetch)return[3,6];if(!b("esri-abortable-fetch")||!b("esri-native-promise")&&(13>b("safari")||13>b("ios")))return[3,4];w._abortableFetch=g.fetch.bind(g);return[3,6];case 4:return d=w,[4,new Promise(function(b,d){a(["whatwg-fetch"],b,d)})];case 5:d._abortableFetch=c.sent().fetch,c.label=6;case 6:return[2]}})})}function G(){return e(this,void 0,void 0,function(){return l(this,function(b){switch(b.label){case 0:return k.id?
[3,2]:[4,new Promise(function(b,d){a(["./identity/IdentityManager"],b,d)})];case 1:b.sent(),b.label=2;case 2:return[2]}})})}function A(a){return e(this,void 0,void 0,function(){var b,d,c,e,m,p,h,q;return l(this,function(l){switch(l.label){case 0:b=a.params.url;d=a.params.requestOptions;c=a.controller.signal;e=d.body;h=p=m=null;M&&"HTMLFormElement"in g&&(e instanceof FormData?m=e:e instanceof HTMLFormElement&&(p=e,m=new FormData(p)));"string"===typeof e&&(h=e);a.fetchOptions={cache:d.cacheBust&&!w._abortableFetch.polyfill?
"no-cache":"default",credentials:"same-origin",headers:d.headers||{},method:"head"===d.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:c};if(m||h)a.fetchOptions.body=m||h;"anonymous"===d.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||d.query&&d.query.token||m&&m.get&&m.get("token")||p&&p.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||y(b)||f.isAborted(c))return[3,11];q=void 0;return"immediate"!==d.authMode?[3,3]:[4,G()];case 1:return l.sent(),[4,k.id.getCredential(b,
{signal:c})];case 2:return q=l.sent(),a.credential=q,[3,10];case 3:return"no-prompt"!==d.authMode?[3,9]:[4,G()];case 4:l.sent(),l.label=5;case 5:return l.trys.push([5,7,,8]),[4,k.id.getCredential(b,{prompt:!1,signal:c})];case 6:return q=l.sent(),a.credential=q,[3,8];case 7:return l.sent(),[3,8];case 8:return[3,10];case 9:k.id&&(q=k.id.findCredential(b)),l.label=10;case 10:q&&(a.credentialToken=q.token,a.useSSL=!!q.ssl),l.label=11;case 11:return[2]}})})}function y(a){return N.some(function(b){return b.test(a)})}
function C(a){return e(this,void 0,void 0,function(){var d,c,e,g,m,q,u,v,x,C,A,y,z,V,K,N,G,ba,U,F,H,O,I;return l(this,function(l){switch(l.label){case 0:d=a.params.url;c=a.params.requestOptions;e=a.fetchOptions;g=p.isBlobProtocol(d)||p.isDataProtocol(d);m=c.responseType||"json";q=g?0:null!=c.timeout?c.timeout:h.request.timeout;u=!1;if(!g){a.useSSL&&(d=p.toHTTPS(d));c.cacheBust&&"default"===e.cache&&(d=p.addQueryParameter(d,"request.preventCache",Date.now()));v=n({},c.query);a.credentialToken&&(v.token=
a.credentialToken);x=p.objectToQuery(v);b("esri-url-encodes-apostrophe")&&(x=x.replace(/'/g,"%27"));C=d.length+1+x.length;A=void 0;u="post"===c.method||!!c.body||C>h.request.maxUrlLength;if(y=c.useProxy||!!p.getProxyRule(d))z=p.getProxyUrl(d),A=z.path,!u&&A.length+1+C>h.request.maxUrlLength&&(u=!0),z.query&&(v=n({},z.query,v));if("HEAD"===e.method&&(u||y)){if(u){if(C>h.request.maxUrlLength)throw B("request:invalid-parameters",Error("URL exceeds maximum length"),a.params);throw B("request:invalid-parameters",
Error("cannot use POST request when method is 'head'"),a.params);}if(y)throw B("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}u?(e.method="POST",c.body?d=p.addQueryParameters(d,v):(e.body=p.objectToQuery(v),e.headers["Content-Type"]="application/x-www-form-urlencoded")):d=p.addQueryParameters(d,v);y&&(a.useProxy=!0,d=A+"?"+d);v.token&&M&&e.body instanceof FormData&&(V=e.body,V.set?V.set("token",v.token):V.append("token",v.token));c.hasOwnProperty("withCredentials")?
a.withCredentials=c.withCredentials:p.isTrustedServer(d)?a.withCredentials=!0:k.id&&(K=k.id.findServerInfo(d))&&K.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(e.credentials="include")}N=0;G=!1;0<q&&(N=setTimeout(function(){G=!0;a.controller.abort()},q));l.label=1;case 1:return l.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==e.cache||"GET"!==e.method||u||D(c.headers)||!g&&!a.useProxy&&h.request.proxyUrl&&!r(d)?[3,3]:[4,J(d,a)];case 2:return U=l.sent(),[3,17];case 3:return[4,
w._abortableFetch(d,e)];case 4:ba=l.sent();a.useProxy||t(d);if(!ba.ok||"HEAD"===e.method)return[3,17];F=m;switch(F){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,ba.arrayBuffer()];case 6:return U=l.sent(),[3,11];case 7:return[4,ba.blob()];case 8:return U=l.sent(),[3,11];case 9:return[4,ba.text()];case 10:return U=l.sent(),[3,11];case 11:N&&(clearTimeout(N),N=0);if("json"===m||"xml"===m||"document"===m)if(U)switch(m){case "json":U=JSON.parse(U);
break;case "xml":U=E(U,"application/xml");break;case "document":U=E(U,"text/html")}else U=null;H=ba.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(H)||!(U instanceof ArrayBuffer&&750>=U.byteLength||U instanceof Blob&&750>=U.size))return[3,15];l.label=12;case 12:return l.trys.push([12,14,,15]),[4,(new Response(U)).json()];case 13:return O=l.sent(),O.error&&(U=O),[3,15];case 14:return l.sent(),[3,15];case 15:return"image"===m&&U instanceof Blob?[4,J(URL.createObjectURL(U),a,!0)]:
[3,17];case 16:U=l.sent(),l.label=17;case 17:return[3,20];case 18:I=l.sent();if("AbortError"===I.name){if(G)throw Error("Timeout exceeded");throw f.createAbortError("Request canceled");}if(!ba&&I instanceof TypeError&&h.request.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,p.addProxyRule({proxyUrl:h.request.proxyUrl,urlPrefix:p.removeFile(p.urlToObject(d).path)});else throw I;return[3,20];case 19:return N&&clearTimeout(N),[7];case 20:return[2,[ba,U]]}})})}function z(a,
b){return e(this,void 0,void 0,function(){var c,e,f;return l(this,function(g){switch(g.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=n({},b.requestOptions.headers,a.headers));a.query&&(b.requestOptions.query=n({},b.requestOptions.query,a.query));if(!a.before)return[3,5];e=c=void 0;g.label=1;case 1:return g.trys.push([1,3,,4]),[4,a.before(b)];case 2:return e=g.sent(),[3,4];case 3:return f=g.sent(),c=B("request:interceptor",f,b),[3,4];case 4:if(e instanceof
Error||e instanceof d)c=B("request:interceptor",e,b);if(c)throw a.error&&a.error(c),c;return[2,e];case 5:return[2]}})})}function D(a){if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<d.length;b++)if(a[d[b]])return!0;return!1}function E(a,b){var d;try{d=(new DOMParser).parseFromString(a,b)}catch(S){}if(!d||d.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return d}function H(a){return e(this,void 0,void 0,function(){var b,d,c,e,f,g,m,q,n,r,u;return l(this,function(l){switch(l.label){case 0:return[4,
A(a)];case 1:l.sent(),l.label=2;case 2:l.trys.push([2,8,,9]),l.label=3;case 3:return[4,C(a)];case 4:b=l.sent(),d=b[0],c=b[1],l.label=5;case 5:return[4,F(a,d,c)];case 6:if(!l.sent())return[3,3];l.label=7;case 7:return[3,9];case 8:throw e=l.sent(),f=B("request:server",e,a.params,d),f.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(f),f;case 9:return g=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(g)&&!a.hasToken&&!a.credentialToken&&c&&c.user&&c.user.username&&
!p.isTrustedServer(g)&&(m=p.getOrigin(g,!0))&&h.request.trustedServers.push(m),(q=a.credential)&&k.id&&(r=(n=k.id.findServerInfo(q.server))&&n.owningSystemUrl)&&(r=r.replace(/\/?$/,"/sharing"),(u=k.id.findCredential(r,q.userId))&&-1===k.id._getIdenticalSvcIdx(r,u)&&u.resources.unshift(r)),[2,{data:c,getHeader:d?function(a){return d.headers.get(a)}:O,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function F(a,b,d){return e(this,void 0,void 0,function(){var c,e,f,g,p,q,
h;return l(this,function(l){switch(l.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&(c=m.mixin(Error(),d.error));c&&(e=Number(c.code),f=c.hasOwnProperty("subcode")?Number(c.subcode):null,g=(g=c.messageCode)&&g.toUpperCase());p=a.params.requestOptions.authMode;return 403===e&&(4===f||c.message&&-1<c.message.toLowerCase().indexOf("ssl")&&-1===c.message.toLowerCase().indexOf("permission"))?
a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===p&&498!==e||-1===I.indexOf(e)||y(a.params.url)||!(403!==e||-1===K.indexOf(g)&&(null==f||2===f&&a.credentialToken))?[3,6]:[4,G()];case 2:l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,k.id.getCredential(a.params.url,{error:B("request:server",c,a.params),prompt:"no-prompt"!==p,signal:a.controller.signal,token:a.credentialToken})];case 4:return q=l.sent(),a.credential=q,a.credentialToken=q.token,a.useSSL=
a.useSSL||q.ssl,[2,!1];case 5:h=l.sent();if("no-prompt"===p)return a.credential=null,a.credentialToken=null,[2,!1];c=h;return[3,6];case 6:if(c)throw c;return[2,!0]}})})}function J(a,b,d){void 0===d&&(d=!1);var c=b.controller.signal,e=new Image;e.crossOrigin=b.withCredentials?"use-credentials":"anonymous";e.alt="";e.src=a;return q.loadImageAsync(e,a,d,c)}var L,M="FormData"in g,I=[499,498,403,401],K=["COM_0056","COM_0057","SB_0008"],N=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],
O=function(){return null};w._abortableFetch=null;w._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return w})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(a,c,n,e,l,h,k,d,g){function b(a){var b={path:null,query:null},d=new ca(a),c=a.indexOf("?");null===d.query?b.path=a:(b.path=a.substring(0,c),b.query=m(d.query));d.fragment&&(b.hash=d.fragment,null===
d.query&&(b.path=b.path.substring(0,b.path.length-(d.fragment.length+1))));return b}function m(a){var b={},d=0;for(a=a.split("\x26");d<a.length;d++){var c=a[d];if(c){var e=c.indexOf("\x3d"),f=void 0,g=void 0;0>e?(f=decodeURIComponent(c),g=""):(f=decodeURIComponent(c.slice(0,e)),g=decodeURIComponent(c.slice(e+1)));c=b[f];"string"===typeof c&&(c=b[f]=[c]);Array.isArray(c)?c.push(g):b[f]=g}}return b}function f(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}function v(a,
b){return a?b&&"function"===typeof b?Object.keys(a).map(function(d){return encodeURIComponent(d)+"\x3d"+encodeURIComponent(b(d,a[d]))}).join("\x26"):Object.keys(a).map(function(d){var c=a[d];if(null==c)return"";var e=encodeURIComponent(d)+"\x3d";return(d=b&&b[d])?e+encodeURIComponent(d(c)):Array.isArray(c)?c.map(function(a){return f(a)?e+encodeURIComponent(JSON.stringify(a)):e+encodeURIComponent(a)}).join("\x26"):f(c)?e+encodeURIComponent(JSON.stringify(c)):e+encodeURIComponent(c)}).filter(function(a){return a}).join("\x26"):
""}function p(a){var b=a.indexOf("?");-1!==b?(da.path=a.slice(0,b),da.query=a.slice(b+1)):(da.path=a,da.query=null);return da}function q(a){a=p(a).path;a&&"/"===a[a.length-1]||(a+="/");a=K(a,!0);return a=a.toLowerCase()}function w(a){var b=W.proxyRules;a=q(a);for(var d=0;d<b.length;d++)if(0===a.indexOf(b[d].urlPrefix))return b[d]}function u(a){a=x(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function t(a,b,d){void 0===d&&(d=!1);a=V(a);b=V(b);return d||a.scheme===
b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function r(a,b,d){void 0===b&&(b=c.appBaseUrl);if(F(a))return d&&d.preserveProtocolRelative?a:"http"===c.appUrl.scheme&&c.appUrl.authority===A(a).slice(2)?"http:"+a:"https:"+a;if(!J(a)){d=G;if("/"===a[0]){var e=b.indexOf("//"),e=b.indexOf("/",e+2);b=-1===e?b:b.slice(0,e)}return d(b,a)}return a}function B(a,b,d){void 0===b&&(b=c.appBaseUrl);if(!y(a))return a;var e=x(a),f=e.toLowerCase();b=x(b).toLowerCase().replace(/\/+$/,"");
if((d=d?x(d).toLowerCase().replace(/\/+$/,""):null)&&0!==b.indexOf(d))return a;for(var g=function(a,b,d){d=a.indexOf(b,d);return-1===d?a.length:d},m=g(f,"/",f.indexOf("//")+2),p=-1;f.slice(0,m+1)===b.slice(0,m)+"/";){p=m+1;if(m===f.length)break;m=g(f,"/",m+1)}if(-1===p||d&&p<d.length)return a;a=e.slice(p);e=b.slice(p-1).replace(/[^/]+/g,"").length;if(0<e)for(f=0;f<e;f++)a="../"+a;else a="./"+a;return a}function x(a){a=a.trim();a=r(a);if(/^https?:\/\//i.test(a)){var b=p(a);a=b.path.replace(/\/{2,}/g,
"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=N(a)}function G(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(y(a[0])){var d=a[0],c=d.indexOf("//");-1!==c&&(b.push(d.slice(0,c+1)),Z.test(a[0])&&(b[0]+="/"),a[0]=d.slice(c+2))}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(d=0;d<a.length;d++)c=a[d],".."===c&&0<b.length&&".."!==b[b.length-1]?b.pop():
(!c&&d===a.length-1||c&&("."!==c||0===b.length))&&b.push(c);return b.join("/")}}function A(a,b){void 0===b&&(b=!1);if(C(a)||z(a))return null;var d=a.indexOf("://");if(-1===d&&F(a))d=2;else if(-1!==d)d+=3;else return null;d=a.indexOf("/",d);-1!==d&&(a=a.slice(0,d));b&&(a=K(a,!0));return a}function y(a){return F(a)||J(a)}function C(a){return"blob:"===a.slice(0,5)}function z(a){return"data:"===a.slice(0,5)}function D(a){a=E(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),
d=0;d<a.length;d++)b[d]=a.charCodeAt(d);return b.buffer}function E(a){return(a=a.match(ha))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function H(a){var b=D(a);if(!b)return null;a=E(a);return new Blob([b],{type:a.mediaType})}function F(a){return a&&"/"===a[0]&&"/"===a[1]}function J(a){return P.test(a)}function L(a){return T.test(a)||"http"===c.appUrl.scheme&&F(a)}function M(a){return F(a)?"https:"+a:a.replace(T,"https:")}function I(){return"https"===c.appUrl.scheme}function K(a,b){void 0===b&&
(b=!1);if(F(a))return a.slice(2);a=a.replace(P,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function N(a){var b=W.httpsDomains;if(!L(a))return a;var d=a.indexOf("/",7),e;e=-1===d?a:a.slice(0,d);e=e.toLowerCase().slice(7);if(aa.test(e))if(g.endsWith(e,":80"))e=e.slice(0,-3),a=a.replace(":80","");else return a;if("http"===c.appUrl.scheme&&e===c.appUrl.authority&&!ea.test(a))return a;if(I()&&e===c.appUrl.authority||b&&b.some(function(a){return e===a||g.endsWith(e,"."+a)})||I()&&
!w(a))a=M(a);return a}function O(a,b,d){if(!(b&&d&&a&&y(a)))return a;var c=a.indexOf("//"),e=a.indexOf("/",c+2),f=a.indexOf(":",c+2),e=Math.min(0>e?a.length:e,0>f?a.length:f);if(a.slice(c+2,e).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,c+2);a=a.slice(e);return""+b+d+a}function V(a){if("string"===typeof a)return new ca(r(a));a.scheme||(a.scheme=c.appUrl.scheme);return a}function R(a,b){var d=b&&b.url&&b.url.path;a&&d&&(a=r(a,d,{preserveProtocolRelative:!0}));(b=b&&b.portal)&&!b.isPortal&&
b.urlKey&&b.customBaseUrl?(d=b.urlKey+"."+b.customBaseUrl,b=t(c.appUrl,c.appUrl.scheme+"://"+d)?O(a,b.portalHostname,d):O(a,d,b.portalHostname)):b=a;return b}function X(a,b){if(!a)return a;!y(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var d=r(a);if(b){var c=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;c&&(d=B(d,c,c),d!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(d))}a=d;d=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?
O(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;y(d)&&(d=x(d));return d}function S(a,d,c){a=b(a);var e=a.query||{};e[d]=String(c);return a.path+"?"+v(e)}Object.defineProperty(c,"__esModule",{value:!0});var Q=d.getLogger("esri.core.urlUtils"),W=e.request,P=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,T=/^\s*http:/i,Y=/^\s*https:/i,Z=/^\s*file:/i,aa=/:\d+$/,ea=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,fa=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,ga=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
ca=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(fa);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(ga),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=
function(){return this.uri};return a}();c.Url=ca;c.appUrl=new ca(e.applicationUrl);c.trustedServersUrlCache={};c.appBaseUrl=function(){var a=c.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(c.appUrl.scheme+"://"+c.appUrl.host+(null!=c.appUrl.port?":"+c.appUrl.port:""))+a}();c.urlToObject=b;c.queryToObject=m;c.objectToQuery=v;c.getProxyUrl=function(a){void 0===a&&(a=!1);var d,e=W.proxyUrl;if("string"===typeof a){if(d=a,d=Y.test(d)||"https"===c.appUrl.scheme&&
F(d),a=w(a))e=a.proxyUrl}else d=!!a;if(!e)throw Q.warn("esri/config: esriConfig.request.proxyUrl is not set."),new h("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&I()&&(e=M(e));return b(e)};c.addProxy=function(a){var d=w(a),c,e;d&&(e=p(d.proxyUrl),c=e.path,e=e.query?m(e.query):null);c&&(d=b(a),a=c+"?"+d.path,(c=v(n({},e,d.query)))&&(a=a+"?"+c));return a};var da={path:"",query:""};c.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:q(a.urlPrefix)};for(var b=
W.proxyRules,d=a.urlPrefix,c=b.length,e=0;e<b.length;e++){var f=b[e].urlPrefix;if(0===d.indexOf(f)){if(d.length===f.length)return-1;c=e;break}0===f.indexOf(d)&&(c=e+1)}b.splice(c,0,a);return c};c.getProxyRule=w;c.hasSamePortal=function(a,b){a=u(a);b=u(b);return K(a)===K(b)};c.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&g.startsWith(a,b)},d=W.interceptors;if(d)for(var c=0;c<d.length;c++){var e=d[c];if(Array.isArray(e.urls)){if(e.urls.some(b))return e}else if(b(e.urls))return e}return null};
c.hasSameOrigin=t;c.isTrustedServer=function(a){if("string"===typeof a)if(y(a))a=V(a);else return!0;if(t(a,c.appUrl))return!0;for(var b=W.trustedServers||[],d=0;d<b.length;d++){var e;e=b[d];c.trustedServersUrlCache[e]||(J(e)||F(e)?c.trustedServersUrlCache[e]=[new ca(r(e))]:c.trustedServersUrlCache[e]=[new ca("http://"+e),new ca("https://"+e)]);e=c.trustedServersUrlCache[e];for(var f=0;f<e.length;f++)if(t(a,e[f]))return!0}return!1};c.makeAbsolute=r;c.makeRelative=B;c.normalize=x;c.join=G;c.getOrigin=
A;c.isAbsolute=y;c.isBlobProtocol=C;c.isDataProtocol=z;c.dataToArrayBuffer=D;var ha=/^data:(.*?)(;base64)?,(.*)$/;c.dataComponents=E;c.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};c.dataToBlob=H;c.downloadDataAsFile=function(a,b){var d;a:if(d=document.createElement("a"),"download"in d){var c=null;if(k.URL&&k.URL.createObjectURL){c=H(a);if(!c){d=!1;break a}c=k.URL.createObjectURL(c)}d.download=b;d.href=c||a;d.style.display="none";document.body.appendChild(d);
d.click();document.body.removeChild(d);c&&k.URL.revokeObjectURL(c);d=void 0}else d=!1;d||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(a),b)};c.isProtocolRelative=F;c.hasProtocol=J;c.toHTTP=function(a){return F(a)?"http:"+a:a.replace(Y,"http:")};c.toHTTPS=M;c.isAppHTTPS=I;c.removeFile=function(a){var b=0;if(y(a)){var d=a.indexOf("//");-1!==d&&(b=d+2)}d=a.lastIndexOf("/");return d<b?a:a.slice(0,d+1)};c.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};c.changeDomain=
O;c.fromJSON=R;c.read=function(a,b,d){return R(a,d)};c.toJSON=X;c.write=function(a,b,d,c){(a=X(a,c))&&(b[d]=a)};c.isSVG=function(a){return ia.test(a)};c.removeQueryParameters=function(a,d){a=b(a);var c=Object.keys(a.query||{});0<c.length&&d&&d.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return a.path};c.addQueryParameter=S;c.addQueryParameters=function(a,d){a=b(a);var c=a.query||{},e;for(e in d)c[e]=d[e];return(d=
v(c))?a.path+"?"+d:a.path};c.removeQueryParameter=function(a,d){var c=b(a),e=c.path,c=c.query;if(!c)return a;delete c[d];return(a=v(c))?e+"?"+a:e};c.addTokenParameter=function(a){var b=l.id&&l.id.findCredential(a);return b&&b.token?S(a,"token",b.token):a};var ia=/(^data:image\/svg|\.svg$)/i})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,c,n,e,l){function h(){try{return new DOMException("Aborted","AbortError")}catch(d){var a=
Error();a.name="AbortError";return a}}Object.defineProperty(c,"__esModule",{value:!0});c.loadImageAsync=function(a,d,c,b){void 0===c&&(c=!1);return l.create(function(g,f){if(l.isAborted(b))f(h());else{var m=function(){w();f(Error("Unable to load "+d))},p=function(){var b=a;w();g(b)},k=function(){if(a){var b=a;w();b.src="";f(h())}},w=function(){n("esri-image-decode")||(a.removeEventListener("error",m),a.removeEventListener("load",p));a=p=m=null;e.isSome(b)&&b.removeEventListener("abort",k);k=null;
c&&URL.revokeObjectURL(d)};e.isSome(b)&&b.addEventListener("abort",k);n("esri-image-decode")?a.decode().then(p,m):(a.addEventListener("error",m),a.addEventListener("load",p))}})}})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d,g,b,m){var f=function(a){a=function(a){function d(){for(var b=[],d=0;d<arguments.length;d++)b[d]=
arguments[d];var c=a.apply(this,b)||this;c.loadError=null;c.loadStatus="not-loaded";c.loadWarnings=null;c._set("loadWarnings",[]);c.addResolvingPromise(g.create(function(a){var b=c.load.bind(c);c.load=function(d){var e=g.create(function(a,b){g.onAbortOrThrow(d,b);c.destroyed&&b(new h("load:instance-destroyed","Instance is destroyed",{instance:c}));c._promiseProps.when(a,b)});if("not-loaded"===c.loadStatus){c._set("loadStatus","loading");var f=c._loadController=g.createAbortController();b({signal:f.signal});
g.onAbort(f.signal,function(){c._promiseProps.abort()})}a();return e}}));c.when(function(){c._set("loadStatus","loaded");c._loadController=null},function(a){c._set("loadStatus","failed");c._set("loadError",a);c._loadController=null});return c}n(d,a);Object.defineProperty(d.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});d.prototype.load=function(){return null};d.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",
new h("load:cancelled","Cancelled"));this._loadController.abort();return this};e([m.property({readOnly:!0,dependsOn:["loadStatus"]})],d.prototype,"loaded",null);e([m.property({readOnly:!0})],d.prototype,"loadError",void 0);e([m.property()],d.prototype,"loadStatus",void 0);e([m.property({type:[b],readOnly:!0})],d.prototype,"loadWarnings",void 0);return d=e([m.subclass("esri.core.Loadable")],d)}(m.declared(a));a.prototype["-chains-"]=k.mixin({},l._meta.chains,{load:"after"});return a};a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);return b=e([m.subclass("esri.core.Loadable")],b)}(m.declared(f(d.EsriPromise)));(function(a){a.LoadableMixin=f;a.isLoadable=function(a){return!(!a||!a.load)}})(a||(a={}));return a})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./has ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d,g){Object.defineProperty(c,"__esModule",{value:!0});
var b=function(){function a(a){var b=this;this.instance=a;this._resolver=k.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=function(){return null!=
this._status};a.prototype.abort=function(){this._resolver.reject(k.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=k.createDeferred(),c=this._resolvingPromises.concat([b.promise]),e=this._allPromise=k.all(c);e.then(function(){a.isFulfilled()||a._allPromise!==e||a._resolver.resolve(a.instance)},
function(b){a.isFulfilled()||a._allPromise!==e||k.isAbortError(b)||a._resolver.reject(b)});h("esri-native-promise")?b.resolve():d.schedule(function(){return b.resolve()})}};return a}();c.EsriPromiseMixin=function(a){return function(a){function c(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];c=a.apply(this,c)||this;c._promiseProps=new b(c);c.addResolvingPromise(h("esri-native-promise")?k.resolve():k.create(function(a){return d.schedule(a)}));return c}n(c,a);c.prototype.isResolved=function(){return this._promiseProps.isResolved()};
c.prototype.isRejected=function(){return this._promiseProps.isRejected()};c.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};c.prototype.when=function(a,b){var d=this;return k.create(function(a,b){d._promiseProps.when(a,b)}).then(a,b)};c.prototype.catch=function(a){return this.when(null,a)};c.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return c=e([g.subclass("esri.core.Promise")],
c)}(g.declared(a))};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=e([g.subclass("esri.core.Promise")],b)}(g.declared(c.EsriPromiseMixin(l)));c.EsriPromise=a})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f){var v=new k.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function c(b){b=a.call(this,b)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}e(c,a);p=c;Object.defineProperty(c.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});c.prototype.clone=function(){return new p({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};c.prototype.toRequestOptions=function(a,b){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var c;if(this.extent){var e=f.project(this.extent,
m.WGS84);e&&(c=e.xmin+","+e.ymin+","+e.xmax+","+e.ymax)}e=this.query;!this.disableExtraQuery&&a.extraQuery&&(e="("+e+")"+a.extraQuery);a={categories:d,bbox:c,q:e,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=v.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:n({},b,a)}};var p;l([g.property()],c.prototype,"categories",void 0);l([g.property()],c.prototype,"disableExtraQuery",void 0);l([g.property({type:b})],c.prototype,"extent",void 0);l([g.property()],
c.prototype,"num",void 0);l([g.property()],c.prototype,"query",void 0);l([g.property()],c.prototype,"sortField",void 0);l([g.property()],c.prototype,"sortOrder",null);l([g.property()],c.prototype,"start",void 0);return c=p=l([g.subclass("esri.portal.PortalQueryParams")],c)}(g.declared(h))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,
c,n,e,l,h){return function(a){function d(d){d=a.call(this,d)||this;d.nextQueryParams=null;d.queryParams=null;d.results=null;d.total=null;return d}n(d,a);e([h.property()],d.prototype,"nextQueryParams",void 0);e([h.property()],d.prototype,"queryParams",void 0);e([h.property()],d.prototype,"results",void 0);e([h.property()],d.prototype,"total",void 0);return d=e([h.subclass("esri.portal.PortalQueryResult")],d)}(h.declared(l))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(a,c,n,e,l,h,k,d,g,b){return function(c){function f(){var a=c.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}n(f,c);m=f;Object.defineProperty(f.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});f.prototype.addItem=function(a){var b=this,d=a&&a.item,c=a&&a.data;a=a&&a.folder;var e=
{method:"post"};d&&(e.query=d.createPostQuery(),null!=c&&("string"===typeof c?e.query.text=c:"object"===typeof c&&(e.query.text=JSON.stringify(c))));c=this.userContentUrl;a&&(c+="/"+("string"===typeof a?a:a.id));return this.portal._request(c+"/addItem",e).then(function(a){d.id=a.id;d.portal=b.portal;return d.loaded?d.reload():d.load()})};f.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};f.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",d=a.map(function(a){return a.id});return d.length?(d={method:"post",query:{items:d.join(",")}},this.portal._request(b,d).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):k.resolve(void 0)};f.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=g.fromJSON(b);b.portal=
a.portal;return b}):[]})};f.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(d){return d&&d.groups?d.groups.map(function(d){d=b.fromJSON(d);d.portal=a.portal;return d}):[]})};f.prototype.fetchItems=function(b){var d=this;b||(b={});var c=this.userContentUrl;b.folder&&(c+="/"+b.folder.id);var e;return k.create(function(b){return a(["./PortalItem"],b)}).then(function(a){e=a;return d.portal._request(c,{query:{folders:!1,num:b.num||10,start:b.start||1,sortField:b.sortField||
"created",sortOrder:b.sortOrder||"asc"}})}).then(function(a){var b;return a&&a.items?(b=a.items.map(function(a){a=e.fromJSON(a);a.portal=d.portal;return a}),k.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};f.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};f.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;
b&&a&&(b+="\x26w\x3d"+a);return b};f.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new b({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):k.reject(new l("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};f.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");
var b=new m;b.sourceJSON=a;b.read(a);return b};var m;e([d.property()],f.prototype,"access",void 0);e([d.property({type:Date})],f.prototype,"created",void 0);e([d.property()],f.prototype,"culture",void 0);e([d.property()],f.prototype,"description",void 0);e([d.property()],f.prototype,"email",void 0);e([d.property()],f.prototype,"favGroupId",void 0);e([d.property()],f.prototype,"fullName",void 0);e([d.property({type:Date})],f.prototype,"modified",void 0);e([d.property()],f.prototype,"orgId",void 0);
e([d.property()],f.prototype,"portal",void 0);e([d.property()],f.prototype,"preferredView",void 0);e([d.property()],f.prototype,"privileges",void 0);e([d.property()],f.prototype,"region",void 0);e([d.property()],f.prototype,"role",void 0);e([d.property()],f.prototype,"roleId",void 0);e([d.property()],f.prototype,"sourceJSON",void 0);e([d.property()],f.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],f.prototype,"thumbnailUrl",null);
e([d.property()],f.prototype,"units",void 0);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"userContentUrl",null);e([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"url",null);e([d.property()],f.prototype,"username",void 0);e([d.property()],f.prototype,"userType",void 0);return f=m=e([d.subclass("esri.portal.PortalUser")],f)}(d.declared(h.JSONSupport))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h,k){return function(a){function d(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}n(d,a);Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});d.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};e([k.property({type:Date})],d.prototype,
"created",void 0);e([k.property()],d.prototype,"id",void 0);e([k.property()],d.prototype,"portal",void 0);e([k.property()],d.prototype,"title",void 0);e([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);e([k.property()],d.prototype,"username",void 0);return d=e([k.subclass("esri.portal.PortalFolder")],d)}(k.declared(h.JSONSupport))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
function(a,c,n,e,l,h,k,d,g,b){return function(a){function c(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}n(c,a);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});c.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(d){d=d.categorySchema||[];return d.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):d})};c.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",
a)};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.toJSON=function(){throw new h("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};c.prototype.queryItems=function(a,d){a=g.ensureType(b,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new b,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",d);a=a?a.clone():new b;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,
d)};c.prototype._fetchCategorySchemaSet=function(a,d){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,d).then(function(a){if(a=a.contentCategorySetsGroupQuery){var e=new b;e.disableExtraQuery=!0;e.num=1;e.query=a;return c.portal.queryGroups(e,d)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var e=new b;e.num=1;e.query='typekeywords:"'+a+'"';return c.queryItems(e,d)}throw new h("portal-group:fetchCategorySchema",
"contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",d).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};e([d.property()],c.prototype,"access",void 0);e([d.property({type:Date})],c.prototype,"created",void 0);e([d.property()],c.prototype,"description",void 0);e([d.property()],c.prototype,"id",void 0);e([d.property()],c.prototype,"isInvitationOnly",void 0);e([d.property({type:Date})],c.prototype,"modified",void 0);e([d.property()],
c.prototype,"owner",void 0);e([d.property()],c.prototype,"portal",void 0);e([d.property()],c.prototype,"snippet",void 0);e([d.property()],c.prototype,"sortField",void 0);e([d.property()],c.prototype,"sortOrder",void 0);e([d.property()],c.prototype,"tags",void 0);e([d.property()],c.prototype,"thumbnail",void 0);e([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);e([d.property()],c.prototype,"title",void 0);e([d.property({dependsOn:["portal.restUrl"],
readOnly:!0})],c.prototype,"url",null);return c=e([d.subclass("esri.portal.PortalGroup")],c)}(d.declared(k.JSONSupport))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d,g,b){var m=new d.default({esriSMS:"simple-marker",esriPMS:"picture-marker",
esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),f=0;return function(a){function d(b){b=a.call(this,b)||this;b.id="sym"+f++;b.type=null;return b}n(d,a);Object.defineProperty(d.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});
d.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};d.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return l(this,function(a){return[2]})})};d.prototype.clone=function(){};e([b.property({type:m.apiValues,json:{read:m.read,write:{ignoreOrigin:!0,writer:m.write}}})],d.prototype,"type",void 0);e([b.property({type:k,value:new k([0,0,0,1]),json:{write:{allowNull:!0}}})],d.prototype,"color",null);e([b.reader("color")],d.prototype,"readColor",
null);return d=e([b.subclass("esri.symbols.Symbol")],d)}(b.declared(g.JSONSupport))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/Logger ../../core/promiseUtils".split(" "),function(a,c,n,e,l,h,k,d){function g(a,d){return n(this,void 0,void 0,function(){var c,f;return e(this,function(e){switch(e.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,
a];c=a.styleName;f=a;return[4,b(c,a.styleUrl,d)];case 1:return f.data=e.sent(),[2,a]}})})}function b(a,b,d){return n(this,void 0,void 0,function(){var g,m;return e(this,function(e){if(v.has(a))return[2,v.get(a).then(function(a){return c.makeSymbolRef(a.data)})];try{return g=b+"/resources/styles/cim/"+a+".json",m=h(g,l({responseType:"json",query:{f:"json"}},d)),v.set(a,m),[2,m.then(function(a){return c.makeSymbolRef(a.data)})]}catch(B){return f.error("error requesting "+a+", reason is "+B.message),
v.has(a)&&v.delete(a),[2,null]}})})}var m=this;Object.defineProperty(c,"__esModule",{value:!0});var f=k.getLogger("esri/symbols/support/cimSymbolUtils");c.expandSymbols=function(a,b){return n(m,void 0,void 0,function(){return e(this,function(e){return[2,d.all(a.map(function(a){return c.expandSymbol(a,b)}))]})})};c.expandSymbol=function(a,b){return n(m,void 0,void 0,function(){return e(this,function(d){return a?"cim"===a.type?[2,g(a,b)]:"web-style"===a.type?[2,a.fetchCIMSymbol(b)]:[2,a]:[2,null]})})};
c.makeSymbolRef=function(a,b){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var v=new Map})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,c,n,e,l,h,k,d,g){return function(a){function b(b){b=a.call(this,b)||this;
b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;e([h.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);e([h.property({type:g.default,json:{write:!0}})],
b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property(d.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=e([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(h.declared(k))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h,k){var d=l.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function b(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}n(b,a);b.prototype.writeEnabled=function(a,b,d){a||(b[d]=a)};e([k.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);e([k.writer("enabled")],b.prototype,"writeEnabled",null);e([k.property({type:d.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],b.prototype,"type",void 0);return b=e([k.subclass("esri.symbols.Symbol3DLayer")],b)}(k.declared(h.JSONSupport));(a||(a={})).typeJSONDictionary=d;return a})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,c,n,e,l){function h(a,d,c){if(!a)return a;switch(a.type){case "solid":return d=new l,d.read(a,c),d;case "sketch":return d=new e,d.read(a,c),d}}Object.defineProperty(c,
"__esModule",{value:!0});c.read=h;c.symbol3dEdgesProperty={types:{key:"type",base:n,typeMap:{solid:l,sketch:e}},json:{read:h,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b,m){return function(a){function c(b){b=
a.call(this,b)||this;b.color=new h([0,0,0,1]);b.extensionLength=0;b.size=g.px2pt(1);return b}n(c,a);c.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=l({},a),delete a.type);return a};c.prototype.clone=function(){};c.prototype.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};e([b.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);e([b.property(m.colorAndTransparencyProperty)],
c.prototype,"color",void 0);e([b.property(l({},m.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],c.prototype,"extensionLength",void 0);e([b.property(m.screenSizeProperty)],c.prototype,"size",void 0);return c=e([b.subclass("esri.symbols.edges.Edges3D")],c)}(b.declared(k.JSONSupport))})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(a,c,n){function e(a){return a?72*a/96:0}function l(a,b){void 0===a&&(a=0);void 0===b&&
(b=0);return{x:a,y:b}}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function g(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function b(a){return l(a.x,a.y)}function m(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return l(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(c,"__esModule",{value:!0});
var f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;c.pt2px=function(a){return a?a/72*96:0};c.px2pt=e;c.toPt=function(a){if("string"===typeof a){if(f.test(a)){var b=a.match(f),d=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);d="px"===b?e(d):d;return a?-d:d}console.warn("screenUtils.toPt: input not recognized!");return null}return a};c.createScreenPoint=l;c.createScreenPointArray=h;c.createRenderScreenPoint=k;c.createRenderScreenPointArray=d;c.createRenderScreenPointArray3=function(a,b,d){void 0===
a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);return[a,b,d]};c.castRenderScreenPointArray=function(a){return a};c.castRenderScreenPointArray3=function(a){return a};c.castScreenPointArray=function(a){return a};c.screenToRender=function(a,b,d){var c,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b.x*a;e=b.y*a;break;case "3d":g(b,p),a.state.camera.screenToRender(p,v),c=v[0],e=v[1]}return d?(d.x=c,d.y=e,d):k(c,e)};c.renderToScreen=function(a,b,d){var c,e;switch(a.type){case "2d":a=window.devicePixelRatio||
1;c=b.x/a;e=b.y/a;break;case "3d":g(b,v),a.state.camera.renderToScreen(v,p),c=p[0],e=p[1]}return d?(d.x=c,d.y=e,d):l(c,e)};c.screenArrayToRender=function(a,b,c){var e,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b[0]*a;f=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,v),e=v[0],f=v[1]}return c?(c[0]=e,c[1]=f,2<c.length&&(c[2]=0),c):d(e,f)};c.renderArrayToScreen=function(a,b,d){var c,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;c=b[0]/a;e=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,
p),c=p[0],e=p[1]}return d?(d[0]=c,d[1]=e,d):h(c,e)};c.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};c.screenPointObjectToArray=g;c.createScreenPointFromEvent=b;c.createScreenPointFromNativeEvent=m;c.createScreenPointFromSupportedEvent=function(a,d){return d instanceof Event?m(a,d):b(d)};c.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;
case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:n.neverReachedSilent(a)}return!1};var v=d(),p=h()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});c.colorAndTransparencyProperty={type:n,json:{type:[l.Integer],default:null,read:{source:["color","transparency"],
reader:function(a,d){a=null!=d.transparency?h.transparencyToOpacity(d.transparency):1;return(d=d.color)&&Array.isArray(d)?new n([d[0]||0,d[1]||0,d[2]||0,a]):null}},write:{target:{color:{type:[l.Integer]},transparency:{type:l.Integer}},writer:function(a,d){d.color=a.toJSON().slice(0,3);a=h.opacityToTransparency(a.a);0!==a&&(d.transparency=a)}}}};c.screenSizeProperty={type:Number,cast:e.toPt,json:{write:!0}};c.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?
a.map(e.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.opacityToTransparency=function(a){a=n.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};c.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,c,n,e,l,h){return function(a){function d(b){b=a.call(this,b)||this;b.type="sketch";return b}n(d,a);c=d;d.prototype.clone=function(){return new c(this.cloneProperties())};var c;e([l.property({type:["sketch"]})],d.prototype,"type",void 0);return d=c=e([l.subclass("esri.symbols.edges.SketchEdges3D")],d)}(l.declared(h))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,c,n,e,l,h){return function(a){function d(b){b=a.call(this,b)||this;b.type="solid";return b}n(d,a);c=d;d.prototype.clone=function(){return new c(this.cloneProperties())};var c;e([l.property({type:["solid"]})],d.prototype,"type",void 0);return d=c=e([l.subclass("esri.symbols.support.SolidEdges3D")],d)}(l.declared(h))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:h.isSome(this.color)?this.color.clone():null})};var c;e([k.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([k.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(k.declared(l.JSONSupport));c.Symbol3DMaterial=a;c.default=a})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(a,c,n,e,l,h,k,d){var g=new l.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}n(b,a);e([h.property({type:k,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([h.property({type:g.apiValues,readOnly:!0,json:{type:g.jsonValues}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.symbols.FillSymbol")],b)}(h.declared(d))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(a,c,n,e,l,h,k,d,g){var b=new l.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function c(b,d,c,e,f,g){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}n(c,a);g=c;c.prototype.normalizeCtorArgs=function(a,b,d,c,e,f){if(a&&"string"!==typeof a)return a;var g={};null!=a&&(g.style=a);null!=b&&(g.color=b);null!=d&&(g.width=k.toPt(d));null!=c&&(g.cap=c);null!=e&&(g.join=e);null!=f&&(g.miterLimit=k.toPt(f));return g};c.prototype.clone=function(){return new g({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var g;e([d.enumeration.serializable()({esriSLS:"simple-line"})],
c.prototype,"type",void 0);e([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],c.prototype,"style",void 0);e([d.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],c.prototype,"cap",void 0);e([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,d){return{enabled:"round"!==a&&(null==d||null==d.origin)}}}}})],c.prototype,"join",void 0);e([d.property({type:Number,
json:{read:!1,write:!1}})],c.prototype,"miterLimit",void 0);return c=g=e([d.subclass("esri.symbols.SimpleLineSymbol")],c)}(d.declared(g))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,c,n,e,l,h,k){return function(a){function d(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}n(d,a);e([h.enumeration.serializable()({esriSLS:"simple-line"})],
d.prototype,"type",void 0);e([h.property({type:Number,cast:l.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=e([h.subclass("esri.symbols.LineSymbol")],d)}(h.declared(k))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,
c,n,e,l,h,k,d,g,b,m){return function(a){function c(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}n(c,a);f=c;c.prototype.clone=function(){return new f({edges:l.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:l.isSome(this.outline)?this.outline.clone():null})};c.fromSimpleFillSymbol=function(a){return new f({material:{color:(a.color||
g.transparentWhite).clone()},outline:a.outline?new m.default({size:a.outline.width||0,color:(a.outline.color||g.white).clone()}):null})};var f;e([h.enumeration.serializable()({Fill:"fill"})],c.prototype,"type",void 0);e([h.property({type:b.default,json:{write:!0}})],c.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);e([h.property({type:m.default,json:{write:!0}})],c.prototype,"outline",void 0);e([h.property(d.symbol3dEdgesProperty)],
c.prototype,"edges",void 0);return c=f=e([h.subclass("esri.symbols.FillSymbol3DLayer")],c)}(h.declared(k))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.white=new n("white");c.black=new n("black");c.transparentWhite=new n([255,255,255,0]);c.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(a,c,n,e,l,h,k){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);b=d;d.prototype.clone=function(){return new b({color:l.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var b;e([h.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],d.prototype,"colorMixMode",void 0);return d=b=e([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],d)}(h.declared(k.default));
c.Symbol3DFillMaterial=a;c.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,
0,0,1]);b.size=d.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(c,a);m=c;c.prototype.clone=function(){return new m({color:k.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var m;e([g.property(b.colorAndTransparencyProperty)],c.prototype,"color",void 0);e([g.property(b.screenSizeProperty)],c.prototype,"size",void 0);e([g.property(b.stipplePatternProperty)],
c.prototype,"stipplePattern",void 0);e([g.property({type:l})],c.prototype,"stippleOffColor",void 0);return c=m=e([g.subclass("esri.symbols.support.Symbol3DOutline")],c)}(g.declared(h.JSONSupport));c.Symbol3DOutline=a;c.default=a})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k){return function(a){function d(b){b=
a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}n(d,a);b=d;d.prototype.castSize=function(a){return h.toPt(a)};d.prototype.clone=function(){return new b({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var b;e([k.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],d.prototype,"decoration",void 0);e([k.property({type:String,json:{write:!0}})],d.prototype,
"family",void 0);e([k.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:!d||!d.textSymbol3D}}}}})],d.prototype,"size",void 0);e([k.cast("size")],d.prototype,"castSize",null);e([k.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],d.prototype,"style",void 0);e([k.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],d.prototype,"weight",void 0);return d=b=e([k.subclass("esri.symbols.Font")],d)}(k.declared(l.JSONSupport))})},
"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q){function w(a){var b="width"in a?a.width:a.size,
d="height"in a?a.height:a.size,c=u(a.xoffset);a=u(a.yoffset);return(c||a)&&b&&d?{x:-c/b,y:a/d}:null}function u(a){return isFinite(a)?a:0}var t=l.getLogger("esri.symbols.IconSymbol3DLayer"),r={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({anchor:this.anchor,
anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};c.fromSimpleMarkerSymbol=function(a){var d=a.color||b.white,c=w(a),e=a.outline&&0<a.outline.width?{size:a.outline.width,color:(a.outline.color||b.white).clone()}:null,f=g,m=a.size;a=a.style;var h=r[a];h?a=h:(t.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),
a="circle");return new f({size:m,resource:{primitive:a},material:{color:d},outline:e,anchor:c?"relative":void 0,anchorPosition:c})};c.fromPictureMarkerSymbol=function(a){var d=!a.color||b.isBlack(a.color)?b.white:a.color,c=w(a);return new g({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:d.clone()},anchor:c?"relative":void 0,anchorPosition:c})};c.fromCIMSymbol=function(a){return new g({resource:{href:k.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};
var g;e([d.property({type:p.default,json:{write:!0}})],c.prototype,"material",void 0);e([d.property({type:m.default,json:{write:!0}})],c.prototype,"resource",void 0);e([d.enumeration.serializable()({Icon:"icon"})],c.prototype,"type",void 0);e([d.property(f.screenSizeProperty)],c.prototype,"size",void 0);e([d.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),
d.property({json:{default:"center"}})],c.prototype,"anchor",void 0);e([d.property({type:v.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new v.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);e([d.property({type:q.default,json:{write:!0}})],c.prototype,"outline",void 0);return c=g=e([d.subclass("esri.symbols.IconSymbol3DLayer")],
c)}(d.declared(g))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});var g=l.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,
b)||this}n(b,a);c=b;b.prototype.readHref=function(a,b,d){return a?k.fromJSON(a,d):b.dataURI};b.prototype.writeHref=function(a,b,d,c){a&&(k.isDataProtocol(a)?b.dataURI=a:(b.href=k.toJSON(a,c),k.isAbsolute(b.href)&&(b.href=k.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([d.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);e([d.reader("href")],b.prototype,"readHref",null);e([d.writer("href",
{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);e([d.enumeration.serializable()(g)],b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(d.declared(h.JSONSupport));c.IconSymbol3DLayerResource=a;c.defaultPrimitive="circle";c.default=a})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}n(d,a);c=d;d.prototype.clone=function(){return new c({x:this.x,y:this.y})};var c;e([h.property({type:Number})],d.prototype,"x",void 0);e([h.property({type:Number})],d.prototype,"y",void 0);return d=c=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],d)}(h.declared(l));c.Symbol3DAnchorPosition2D=a;c.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m){var f=l.ofType({base:null,key:"type",typeMap:{text:g}});return function(a){function d(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new f;b.type="label-3d";return b}n(d,a);c=d;d.prototype.supportsCallout=function(){return!0};d.prototype.hasVisibleCallout=function(){return b.hasVisibleCallout(this)};d.prototype.hasVisibleVerticalOffset=function(){return b.hasVisibleVerticalOffset(this)};d.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};d.fromTextSymbol=function(a){return new c({symbolLayers:[g.fromTextSymbol(a)]})};var c;e([k.property({type:m.default,json:{write:!0}})],d.prototype,"verticalOffset",void 0);e([k.property(b.calloutProperty)],d.prototype,"callout",void 0);e([k.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);e([k.property({type:f})],d.prototype,
"symbolLayers",void 0);e([k.enumeration.serializable()({LabelSymbol3D:"label-3d"})],d.prototype,"type",void 0);return d=c=e([k.subclass("esri.symbols.LabelSymbol3D")],d)}(k.declared(d))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f){function v(a){return a?
a instanceof A?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function p(a){if(a&&a.length)return a[0]}function q(a,b,d,c){b&&b.forEach(function(b,e,f){a.push(b);q(a,d.call(c,b,e,f),d,c)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var w=function(){},u=new g(a,!0,function(a){a.item=null;
a.target=null}),t=new Set,r=new Set,B=new Set,x=new Map,G=0,A=function(a){function c(b){b=a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:G++});return b}n(c,a);g=c;c.isCollection=function(a){return null!=a&&a instanceof g};c.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof g?{items:a}:a:{}};Object.defineProperty(c.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||
(this._splice.apply(this,[0,this.length].concat(v(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});c.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};c.prototype.on=function(a,b){if("change"===a){var d=this._chgListeners,c={removed:!1,callback:b};d.push(c);this._notifications&&this._notifications.push({listeners:d.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=w;c.removed=!0;
d.splice(d.indexOf(c),1)}}}return this._emitter.on(a,b)};c.prototype.once=function(a,b){var d=this.on(a,b);return{remove:function(){d.remove()}}};c.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};c.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(v(a)));this._emitAfterChanges(1);
return this};c.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};c.prototype.clone=function(){return this._createNewInstance({items:this._items.map(d.clone)})};c.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d,a=a.map(v);return this._createNewInstance({items:(d=this._items).concat.apply(d,a)})};c.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var d=
this._splice(0,this.length),c=d.length,e=0;e<c;e++)a.call(b,d[e],e,d);this._emitAfterChanges(2)}};c.prototype.every=function(a,b){return this._items.every(a,b)};c.prototype.filter=function(a,b){var d;d=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:d})};c.prototype.find=function(a,b){return h.find(this._items,a,b)};c.prototype.findIndex=function(a,b){return h.findIndex(this._items,a,b)};c.prototype.flatten=function(a,b){var d=[];q(d,this,a,
b);return new g(d)};c.prototype.forEach=function(a,b){return this._items.forEach(a,b)};c.prototype.getItemAt=function(a){return this._items[a]};c.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};c.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};c.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};c.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};
c.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};c.prototype.map=function(a,b){a=this._items.map(a,b);return new g({items:a})};c.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var d=this.indexOf(a);if(-1!==d){0>b?b=0:b>=this.length&&(b=this.length-1);if(d!==b){if(this._emitBeforeChanges(4))return a;this._splice(d,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};c.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=
p(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};c.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges(1);return this.length};c.prototype.reduce=function(a,b){var d=this._items;return 2===arguments.length?d.reduce(a,b):d.reduce(a)};c.prototype.reduceRight=function(a,b){var d=this._items;return 2===arguments.length?d.reduceRight(a,
b):d.reduceRight(a)};c.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};c.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=p(this._splice(a,1)),this._emitAfterChanges(2),a};c.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof g?a.toArray():a;for(var b=this._items,d=[],c=a.length,e=0;e<c;e++){var f=b.indexOf(a[e]);if(-1<f){for(var m=e+1,h=f+1,k=Math.min(a.length-m,b.length-h),p=0;p<k&&
a[m+p]===b[h+p];)p++;m=1+p;(f=this._splice(f,m))&&0<f.length&&d.push.apply(d,f);e+=m-1}}this._emitAfterChanges(2);return d};c.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges(4);return this};c.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=p(this._splice(0,1));this._emitAfterChanges(2);return a}};c.prototype.slice=function(a,b){void 0===
a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};c.prototype.some=function(a,b){return this._items.some(a,b)};c.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));this._emitAfterChanges(4);return this};c.prototype.splice=function(a,b){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];c=(b?2:0)|(d.length?
1:0);if(this._emitBeforeChanges(c))return[];d=this._splice.apply(this,[a,b].concat(d))||[];this._emitAfterChanges(c);return d};c.prototype.toArray=function(){return this._items.slice()};c.prototype.toJSON=function(){return this.toArray()};c.prototype.toLocaleString=function(){return this._items.toLocaleString()};c.prototype.toString=function(){return this._items.toString()};c.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;
this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges(1);return this.length};c.prototype._createNewInstance=function(a){return new this.constructor(a)};c.prototype._splice=function(a,d){for(var c=this,e=[],f=2;f<arguments.length;f++)e[f-2]=arguments[f];var f=this._items,g=this.constructor.prototype.itemType,m,h;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),
this._timer=b.schedule(function(){return c._dispatchChange()}));if(d){h=f.splice(a,d);if(this.hasEventListener("before-remove")){var k=u.acquire();k.target=this;k.cancellable=!0;for(var p=0,l=h.length;p<l;p++)m=h[p],k.reset(m),this.emit("before-remove",k),k.defaultPrevented&&(h.splice(p,1),f.splice(a,0,m),a+=1,--p,--l);u.release(k)}this.length=this._items.length;if(this.hasEventListener("after-remove")){m=u.acquire();m.target=this;m.cancellable=!1;l=h.length;for(p=0;p<l;p++)m.reset(h[p]),this.emit("after-remove",
m);u.release(m)}}if(e&&e.length){if(g){p=[];for(l=0;l<e.length;l++)m=e[l],k=g.ensureType(m),null==k&&null!=m||p.push(k);e=p}g=this.hasEventListener("before-add");p=this.hasEventListener("after-add");l=a===this.length;if(g||p){m=u.acquire();m.target=this;m.cancellable=!0;k=u.acquire();k.target=this;k.cancellable=!1;for(var q=0,n=e;q<n.length;q++){var r=n[q];g?(m.reset(r),this.emit("before-add",m),m.defaultPrevented||(l?f.push(r):f.splice(a++,0,r),this._set("length",f.length),p&&(k.reset(r),this.emit("after-add",
k)))):(l?f.push(r):f.splice(a++,0,r),this._set("length",f.length),k.reset(r),this.emit("after-add",k))}u.release(k);u.release(m)}else l?f.push.apply(f,e):f.splice.apply(f,[a,0].concat(e)),this._set("length",f.length)}(e&&e.length||h&&h.length)&&this._notifyChangeEvent(e,h);return h};c.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var d=u.acquire();d.target=this;d.cancellable=!0;d.type=a;this.emit("before-changes",d);b=d.defaultPrevented;u.release(d)}return b};
c.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=u.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);u.release(b)}};c.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};c.prototype._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=
null;for(var b=function(a){var b=a.changes;t.clear();r.clear();B.clear();for(var c=0;c<b.length;c++){var e=b[c],f=e.added,e=e.removed;if(f)if(0===B.size&&0===r.size)for(var g=0,m=f;g<m.length;g++)f=m[g],t.add(f);else for(g=0,m=f;g<m.length;g++)f=m[g],r.has(f)?(B.add(f),r.delete(f)):B.has(f)||t.add(f);if(e)if(0===B.size&&0===t.size)for(g=0;g<e.length;g++)f=e[g],r.add(f);else for(g=0;g<e.length;g++)f=e[g],t.has(f)?t.delete(f):(B.delete(f),r.add(f))}var h=l.acquire();t.forEach(function(a){h.push(a)});
var k=l.acquire();r.forEach(function(a){k.push(a)});var p=d._items,q=a.items,n=l.acquire();B.forEach(function(a){q.indexOf(a)!==p.indexOf(a)&&n.push(a)});if(a.listeners&&(h.length||k.length||n.length))for(b={target:d,added:h,removed:k,moved:n},c=a.listeners.length,f=0;f<c;f++)e=a.listeners[f],e.removed||e.callback.call(d,b);l.release(h);l.release(k);l.release(n)},d=this,c=0;c<a.length;c++)b(a[c]);t.clear();r.clear();B.clear()}};var g;c.ofType=function(a){if(!a)return g;if(x.has(a))return x.get(a);
var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var d in a.typeMap){var c=a.typeMap[d].prototype.declaredClass;b=b?b+(" | "+c):c}d=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);return d=e([m.subclass("esri.core.Collection\x3c"+b+"\x3e")],d)}(m.declared(g));c={Type:a,ensureType:"function"===typeof a?f.ensureType(a):f.ensureOneOfType(a)};Object.defineProperty(d.prototype,"itemType",{value:c});x.set(a,
d);return d};e([m.property()],c.prototype,"length",void 0);e([m.property()],c.prototype,"items",null);return c=g=e([m.subclass("esri.core.Collection")],c)}(m.declared(k.EventedAccessor));return A})},"esri/core/Evented":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./accessorSupport/decorators ./accessorSupport/utils".split(" "),function(a,c,n,e,l,h,k){var d=function(){function a(b){this._emitter=new a.EventEmitter(this);this._emitter=new a.EventEmitter(b&&
void 0!==b.target?b.target:this)}a.prototype.emit=function(a,d){return this._emitter.emit(a,d)};a.prototype.on=function(a,d){return this._emitter.on(a,d)};a.prototype.once=function(a,d){return this._emitter.once(a,d)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var b=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var d=this;a=this._listenersMap&&
this._listenersMap.get(a);if(!a)return!1;b=b||{};if(!b.target&&this.target||b.target&&!this.target)b.target=this.target;a.slice().forEach(function(a){a.call(d.target,b)});return 0<a.length};a.prototype.on=function(a,b){var d=this;if(Array.isArray(a)){var c=a.map(function(a){return d.on(a,b)});return k.handlesGroup(c)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);c=this._listenersMap.get(a)||
[];c.push(b);this._listenersMap.set(a,c);return{remove:function(){var c=d._listenersMap&&d._listenersMap.get(a)||[];0<=c.indexOf(b)&&c.splice(c.indexOf(b),1)}}};a.prototype.once=function(a,b){var d=this,c;return c=this.on(a,function(a){c.remove();b.call(d.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=b;a.EventedMixin=function(a){return function(a){function d(){var d=null!==a&&a.apply(this,
arguments)||this;d._emitter=new b(d);return d}n(d,a);d.prototype.emit=function(a,b){return this._emitter.emit(a,b)};d.prototype.on=function(a,b){return this._emitter.on(a,b)};d.prototype.once=function(a,b){return this._emitter.once(a,b)};d.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return d=e([h.subclass("esri.core.Evented")],d)}(h.declared(a))};var c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._emitter=new d.EventEmitter(b);return b}
n(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=e([h.subclass("esri.core.Evented")],b)}(h.declared(l));a.EventedAccessor=c})(d||(d={}));return d})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y){var C={icon:q,object:u,line:w,path:t,fill:p,extrude:v,text:x,water:G},z=l.ofType({base:B,key:"type",typeMap:C}),D=k.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=d.getLogger("esri.symbols.Symbol3D");return function(a){function d(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var d=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (d&&d.type||l));return b}n(d,a);Object.defineProperty(d.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});d.prototype.readSymbolLayers=
function(a,d,c){d=[];for(var e=0;e<a.length;e++){var f=a[e],g=B.typeJSONDictionary.read(f.type),m=g&&C[g];m?(f=new m,f.read(a[e],c),d.push(f)):(E.warn("Unknown symbol layer type: "+g),c&&c.messages&&c.messages.push(new b("symbol-layer:unsupported","Symbol layers of type '"+(g||f.type||"unknown")+"' are not supported",{definition:f,context:c})))}return d};d.prototype.readStyleOrigin=function(a,d,c){if(a.styleUrl&&a.name)return d=g.fromJSON(a.styleUrl,c),new A({styleUrl:d,name:a.name});if(a.styleName&&
a.name)return new A({portal:c&&c.portal||f.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new b("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};d.prototype.writeStyleOrigin=function(a,d,c,e){a.styleUrl&&a.name?(c=g.toJSON(a.styleUrl,e),g.isAbsolute(c)&&(c=g.normalize(c)),d.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!g.hasSamePortal(a.portal.restUrl,
e.portal.restUrl)?e&&e.messages&&e.messages.push(new b("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):d.styleOrigin={styleName:a.styleName,name:a.name})};d.prototype.normalizeCtorArgs=function(a){return a instanceof B||a&&C[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};e([m.property({json:{read:!1,write:!1}})],d.prototype,"color",null);e([m.property({type:z,nonNullable:!0,
json:{write:!0}}),m.cast(h.castForReferenceSetter)],d.prototype,"symbolLayers",null);e([m.reader("symbolLayers")],d.prototype,"readSymbolLayers",null);e([m.property({type:A})],d.prototype,"styleOrigin",void 0);e([m.reader("styleOrigin")],d.prototype,"readStyleOrigin",null);e([m.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],d.prototype,"writeStyleOrigin",null);e([m.property({type:y.default,json:{read:!1}})],d.prototype,
"thumbnail",void 0);e([m.property({type:D.apiValues,readOnly:!0,json:{type:D.jsonValues,read:!1}})],d.prototype,"type",void 0);return d=e([m.subclass("esri.symbols.Symbol3D")],d)}(m.declared(r))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.referenceSetter=function(a,c,h){void 0===h&&(h=n);c||(c=new h);if(c===a)return c;c.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?
c.addMany(a):a&&c.add(a);return c};c.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f){return function(a){function c(b){b=a.call(this,b)||this;b.material=null;
b.type="line";b.join="miter";b.cap="butt";b.size=k.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({enabled:this.enabled,material:h.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};c.fromSimpleLineSymbol=function(a){return new g({size:a.width||1,cap:a.cap||
"butt",join:a.join||"miter",material:{color:(a.color||b.white).clone()}})};var g;e([d.property({type:f.default,json:{write:!0}})],c.prototype,"material",void 0);e([d.enumeration.serializable()({Line:"line"})],c.prototype,"type",void 0);e([d.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);e([d.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);e([d.property(m.screenSizeProperty)],c.prototype,"size",
void 0);e([d.property(m.stipplePatternProperty)],c.prototype,"stipplePattern",void 0);e([d.property({type:l})],c.prototype,"stippleOffColor",void 0);return c=g=e([d.subclass("esri.symbols.LineSymbol3DLayer")],c)}(d.declared(g))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,c,n,e,l,h,k,d,g,b){return function(a){function c(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}n(c,a);m=c;c.prototype.clone=function(){return new m({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
height:this.height,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(c.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var m;e([h.property({type:b.default,json:{write:!0}})],c.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,
"castShadows",void 0);e([h.property({type:d.default,json:{write:!0}})],c.prototype,"resource",void 0);e([h.enumeration.serializable()({Object:"object"})],c.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);e([h.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
h.property({json:{default:"origin"}})],c.prototype,"anchor",void 0);e([h.property({type:g.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new g.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"heading",void 0);e([h.property({type:Number,json:{write:!0}})],
c.prototype,"tilt",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);e([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],c.prototype,"isPrimitive",null);return c=m=e([h.subclass("esri.symbols.ObjectSymbol3DLayer")],c)}(h.declared(k))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});var g=l.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;e([d.property({type:String,json:{read:k.read,write:k.write}})],b.prototype,"href",void 0);e([d.enumeration.serializable()(g)],
b.prototype,"primitive",void 0);return b=c=e([d.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(d.declared(h.JSONSupport));c.ObjectSymbol3DLayerResource=a;c.defaultPrimitive="sphere";c.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",
{value:!0});a=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}n(d,a);c=d;d.prototype.clone=function(){return new c({x:this.x,y:this.y,z:this.z})};var c;e([h.property({type:Number})],d.prototype,"x",void 0);e([h.property({type:Number})],d.prototype,"y",void 0);e([h.property({type:Number})],d.prototype,"z",void 0);return d=c=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],d)}(h.declared(l));c.Symbol3DAnchorPosition3D=a;c.default=a})},
"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}
n(b,a);c=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new c({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;e([h.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);e([h.property({type:Number})],b.prototype,"size",null);e([h.reader("size")],
b.prototype,"readSize",null);e([h.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);e([h.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);e([h.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([h.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);e([h.property({type:Number,
json:{write:!0}})],b.prototype,"height",void 0);e([h.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);e([h.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=c=e([h.subclass("esri.symbols.PathSymbol3DLayer")],b)}(h.declared(k))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}n(b,a);c=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,d,c){d=l({},c,{textSymbol3D:!0});b.font=a.write({},d);delete b.font.size};Object.defineProperty(b.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({enabled:this.enabled,font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:k.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
b=a.haloColor;var d=a.haloSize;b=b&&0<d?{color:h.clone(b),size:d}:null;d=a.font?a.font.clone():new g;return new c({size:d.size,font:d,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var c;e([d.property({type:g,json:{write:!0}})],b.prototype,"font",null);e([d.writer("font")],b.prototype,"writeFont",null);e([d.property({type:f.default,json:{write:!0}})],b.prototype,"halo",void 0);e([d.property({type:v.default,json:{write:!0}})],b.prototype,"material",void 0);e([d.property(m.screenSizeProperty),
d.property({dependsOn:["font.size"]})],b.prototype,"size",null);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.TextSymbol3DLayer")],b)}(d.declared(b))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,c,n,e,l,h,k,d,g){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,0,0,1]);b.size=0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:k.clone(this.color),size:this.size})};var c;e([d.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([d.property(g.screenSizeProperty)],b.prototype,"size",void 0);return b=c=e([d.subclass("esri.symbols.support.Symbol3DHalo")],b)}(d.declared(h.JSONSupport));
c.Symbol3DHalo=a;c.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,c,n,e,l,h,k,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.color=new l("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}n(b,
a);c=b;b.prototype.clone=function(){return new c({color:h.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;e([k.property({type:l,json:{type:[d.Integer],write:!0,default:null}})],b.prototype,"color",void 0);e([k.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);e([k.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);e([k.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);e([k.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=e([k.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(k.declared(g))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,c,n,e,l,h,k){return function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}n(d,a);b=d;d.prototype.clone=function(){return new b({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var b;e([h.property({type:String})],d.prototype,"name",void 0);e([h.property({type:String})],d.prototype,"styleUrl",void 0);e([h.property({type:String})],d.prototype,"styleName",void 0);e([h.property({type:k})],d.prototype,"portal",void 0);
return d=b=e([h.subclass("esri.symbols.support.StyleOrigin")],d)}(h.declared(l))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);c=d;d.prototype.clone=function(){return new c({url:this.url})};
var c;e([h.property({type:String})],d.prototype,"url",void 0);return d=c=e([h.subclass("esri.symbols.support.Thumbnail")],d)}(h.declared(l));c.Thumbnail=a;c.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,c,n,e){function l(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function h(a,d,c){if(!a)return a;switch(a.type){case "line":return d=new e,d.read(a,c),d}}Object.defineProperty(c,
"__esModule",{value:!0});c.hasVisibleVerticalOffset=l;c.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var d=a.callout;return d&&d.visible?l(a)?!0:!1:!1};c.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};c.read=h;c.calloutProperty={types:{key:"type",base:n,typeMap:{line:e}},json:{read:h,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h,k){return function(a){function d(b){b=a.call(this,b)||this;b.visible=!0;return b}e(d,a);d.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};d.prototype.clone=function(){};l([k.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);l([k.property({readOnly:!0})],d.prototype,"visible",void 0);return d=l([k.subclass("esri.symbols.callouts.Callout3D")],d)}(k.declared(h.JSONSupport))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new l([0,0,0,1]);b.size=d.px2pt(1);b.border=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&k.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var c;e([g.property({type:["line"]})],b.prototype,"type",
void 0);e([g.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([g.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([g.property({type:m.default,json:{write:!0}})],b.prototype,"border",void 0);e([g.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=c=e([g.subclass("esri.symbols.callouts.LineCallout3D")],b)}(g.declared(b))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,c,n,e,l,h,k,d,g){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l("white");return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:k.clone(this.color)})};var c;e([d.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([d.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(d.declared(h.JSONSupport));c.LineCallout3DBorder=a;c.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,c,n,e,l,h,k){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}n(d,a);b=d;d.prototype.clone=function(){return new b({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var b;e([h.property(k.screenSizeProperty)],d.prototype,"screenLength",void 0);e([h.property({type:Number,json:{write:!0,default:0}})],d.prototype,"minWorldLength",
void 0);e([h.property({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0);return d=b=e([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],d)}(h.declared(l.JSONSupport));c.Symbol3DVerticalOffset=a;c.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,n,e,l,h,k,d,g,b){var m=l.ofType({base:null,key:"type",typeMap:{line:d,path:g}}),f=l.ofType({base:null,key:"type",typeMap:{line:d,path:g}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new m;b.type="line-3d";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new c({symbolLayers:[d.fromSimpleLineSymbol(a)]})};
var c;e([k.property({type:m,json:{type:f}})],b.prototype,"symbolLayers",void 0);e([k.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=c=e([k.subclass("esri.symbols.LineSymbol3D")],b)}(k.declared(b))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,c,n,e,l,h,k,d){var g=
new l.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}n(b,a);e([k.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([k.property({type:g.apiValues,readOnly:!0,json:{type:g.jsonValues}})],b.prototype,"type",void 0);e([k.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,
"xoffset",void 0);e([k.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([k.property({type:Number,cast:function(a){return"auto"===a?a:h.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=e([k.subclass("esri.symbols.MarkerSymbol")],b)}(k.declared(d))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,n,e,l,h,k,d,g){var b=l.ofType({base:null,key:"type",typeMap:{fill:d}});return function(a){function d(d){d=a.call(this,d)||this;d.symbolLayers=new b;d.type="mesh-3d";return d}n(d,a);c=d;d.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var c;e([k.property({type:b})],d.prototype,"symbolLayers",void 0);e([k.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],d.prototype,"type",void 0);
return d=c=e([k.subclass("esri.symbols.MeshSymbol3D")],d)}(k.declared(g))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b){return function(a){function c(b,d,c,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}n(c,a);g=c;c.prototype.normalizeCtorArgs=function(a,b,d,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=d&&(e.width=k.toPt(d));null!=c&&(e.height=k.toPt(c));return e};c.prototype.clone=function(){var a=new g({color:h.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",h.clone(this.source));return a};var g;e([d.enumeration.serializable()({esriPFS:"picture-fill"})],c.prototype,"type",void 0);e([d.property(b.urlPropertyDefinition)],c.prototype,"url",void 0);e([d.property({type:Number,json:{write:!0}})],c.prototype,"xscale",void 0);e([d.property({type:Number,json:{write:!0}})],c.prototype,"yscale",void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"width",void 0);e([d.property({type:Number,cast:k.toPt,
json:{write:!0}})],c.prototype,"height",void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);e([d.property(b.sourcePropertyDefinition)],c.prototype,"source",void 0);return c=g=e([d.subclass("esri.symbols.PictureFillSymbol")],c)}(d.declared(g))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(a,c,n){function e(a,
d,c){return d.imageData?n.makeData({mediaType:d.contentType||"image/png",isBase64:!0,data:d.imageData}):l(d.url,c)}function l(a,d){return!d||"service"!==d.origin&&"portal-item"!==d.origin||!d.layer||"feature"!==d.layer.type&&"stream"!==d.layer.type||n.isAbsolute(a)||!d.layer.parsedUrl?n.fromJSON(a,d):n.join(d.layer.parsedUrl.path,"images",a)}function h(a,d,c,b){n.isDataProtocol(a)?(a=n.dataComponents(a),d.contentType=a.mediaType,d.imageData=a.data,c&&c.imageData===d.imageData&&c.url&&n.write(c.url,
d,"url",b)):n.write(a,d,"url",b)}Object.defineProperty(c,"__esModule",{value:!0});c.readImageDataOrUrl=e;c.read=l;c.writeImageDataAndUrl=h;c.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:e},write:{writer:function(a,d,c,b){h(a,d,this.source,b)}}}};c.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,d,c){a={};d.imageData&&(a.imageData=d.imageData);d.contentType&&(a.contentType=d.contentType);d.url&&(a.url=l(d.url,c));return a}}}}})},
"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,c,n,e,l,h,k,d,g){return function(a){function b(b,d,c){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,
b,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var c={};a&&(c.url=a);null!=b&&(c.width=h.toPt(b));null!=d&&(c.height=h.toPt(d));return c};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",l.clone(this.source));return a};var d;e([k.property({json:{write:!1}})],b.prototype,
"color",void 0);e([k.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);e([k.property(g.urlPropertyDefinition)],b.prototype,"url",void 0);e([k.property(g.sourcePropertyDefinition)],b.prototype,"source",void 0);e([k.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"height",void 0);e([k.reader("height",["height","size"])],b.prototype,"readHeight",null);e([k.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([k.property({json:{write:!1}})],
b.prototype,"size",void 0);return b=d=e([k.subclass("esri.symbols.PictureMarkerSymbol")],b)}(k.declared(d))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,
f,v,p){var q=l.ofType({base:null,key:"type",typeMap:{icon:g,object:b,text:f}}),w=l.ofType({base:null,key:"type",typeMap:{icon:g,object:b}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new q;b.type="point-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,d,c){var e=a.filter(function(a){return"text"!==a.type});c&&c.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),c.messages.push(new h("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[d]=e.map(function(a){return a.write({},c)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return v.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return v.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:k.clone(this.verticalOffset),callout:k.clone(this.callout),styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[g.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[g.fromPictureMarkerSymbol(a)]})};b.fromCIMSymbol=function(a){return new c({symbolLayers:[g.fromCIMSymbol(a)],
callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[f.fromTextSymbol(a)]})};var c;e([d.property({type:p.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([d.property(v.calloutProperty)],b.prototype,"callout",void 0);e([d.property({type:q,json:{type:w,origins:{"web-scene":{type:w}}}})],b.prototype,"symbolLayers",void 0);e([d.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);
e([d.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=e([d.subclass("esri.symbols.PointSymbol3D")],b)}(d.declared(m))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u){var t=l.ofType({base:null,key:"type",typeMap:{extrude:b,fill:m,icon:f,line:v,object:p,text:w,water:u}}),r=l.ofType({base:null,key:"type",typeMap:{extrude:b,fill:m,icon:f,line:v,object:p,water:u}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var e=
b.symbolLayers.getItemAt(0),f=b.symbolLayers.getItemAt(1);!f.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(e.outline={size:f.size,color:d.isSome(f.material)?f.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new c({symbolLayers:[m.fromSimpleFillSymbol(a)]})};var c;e([g.property({type:t,json:{type:r}})],b.prototype,"symbolLayers",void 0);e([g.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([g.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],
b.prototype,"type",void 0);return b=c=e([g.subclass("esri.symbols.PolygonSymbol3D")],b)}(g.declared(q))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,c,n,e,l,h,k,d,g,b,m){var f=new k.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",
esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=new h([0,0,0,.25]);b.outline=new m;b.type="simple-fill";b.style="solid";return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({color:d.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})};var c;e([g.property()],b.prototype,"color",void 0);e([g.property()],b.prototype,"outline",void 0);e([g.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);e([g.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);return b=c=e([g.subclass("esri.symbols.SimpleFillSymbol")],b)}(g.declared(b))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m){var f=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.color=new l([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new m;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&
(f.size=d.toPt(b));c&&(f.outline=c);e&&(f.color=e);return f};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({angle:this.angle,color:k.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,
yoffset:this.yoffset})};var c;e([g.property()],b.prototype,"color",void 0);e([g.writer("color")],b.prototype,"writeColor",null);e([g.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);e([g.property()],b.prototype,"size",void 0);e([g.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"path",null);e([g.property({type:m,json:{default:null,write:!0}})],b.prototype,"outline",
void 0);return b=c=e([g.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(g.declared(b))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(a,c,n,e,l,h,k,d,g,b){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new g;b.horizontalAlignment=
"center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,
color:h.clone(this.color),font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;e([d.property({type:l,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([d.property({type:l,json:{write:!0}})],b.prototype,"borderLineColor",
void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0);e([d.property({type:g,json:{write:!0}})],b.prototype,"font",void 0);e([d.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);e([d.property({type:l,json:{write:!0}})],b.prototype,"haloColor",void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"haloSize",
void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);e([d.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([d.property({type:String,readOnly:!0})],b.prototype,"type",void 0);e([d.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"xoffset",
void 0);e([d.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([d.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([d.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=e([d.subclass("esri.symbols.TextSymbol")],b)}(d.declared(b))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){function q(){return h(this,void 0,void 0,function(){return l(this,function(b){return[2,g.create(function(b){return a(["./support/styleUtils"],b)})]})})}var w=d.getLogger("esri.symbols.WebStyleSymbol"),u=k.strict()({styleSymbolReference:"web-style"});return function(a){function c(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}n(c,a);d=c;c.prototype.read=function(a,b){this.portal=
b?b.portal:void 0;this.inherited(arguments,[a,b])};c.prototype.clone=function(){return new d({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};c.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};c.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};c.prototype._fetchSymbol=function(a,b){return h(this,void 0,void 0,function(){var c,d;return l(this,function(e){switch(e.label){case 0:return[4,q()];case 1:return c=e.sent(),
g.throwIfAborted(b),d=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),d.catch(function(a){w.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,d]}})})};var d;e([m.property({json:{write:!1}})],c.prototype,"color",void 0);e([m.property({type:String,json:{write:!0}})],c.prototype,"styleName",void 0);e([m.property({type:f,json:{write:!1}})],c.prototype,"portal",void 0);e([m.property({type:String,json:{read:b.read,write:b.write}})],c.prototype,"styleUrl",void 0);e([m.property({type:p.default,
json:{read:!1}})],c.prototype,"thumbnail",void 0);e([m.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);e([m.property({type:u.apiValues,readOnly:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],c.prototype,"type",void 0);return c=d=e([m.subclass("esri.symbols.WebStyleSymbol")],c)}(m.declared(v))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B){function x(a,b,c){b=a?A[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new e("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function G(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof w||a instanceof t)){var d="cim"!==a.type?B.to3D(a):{symbol:null,error:new n("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",
{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new n("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(c,"__esModule",{value:!0});var A={esriSMS:q,esriPMS:b,esriTS:u,esriSLS:p,esriSFS:v,esriPFS:g,PointSymbol3D:m,LineSymbol3D:k,PolygonSymbol3D:f,MeshSymbol3D:d,LabelSymbol3D:h,
styleSymbolReference:t,CIMSymbolReference:l};c.read=x;c.writeTarget=function(a,b,c,d){(a=G(a,{},d))&&(b[c]=a)};c.write=G;c.fromJSON=function(a,b){return x(a,null,b)};c.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new r}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,c,n,e){Object.defineProperty(c,"__esModule",{value:!0});c.to3D=function(a,c,k,
d){void 0===c&&(c=!1);void 0===k&&(k=!1);void 0===d&&(d=!0);if(!a)return{symbol:null};if(n.isSymbol3D(a)||a instanceof n.WebStyleSymbol)d=a.clone();else if("cim"===a.type)d=n.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof n.SimpleLineSymbol)d=n.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof n.SimpleMarkerSymbol)d=n.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof n.PictureMarkerSymbol)d=n.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof n.SimpleFillSymbol)d=
n.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof n.TextSymbol)d=d?n.LabelSymbol3D.fromTextSymbol(a):n.PointSymbol3D.fromTextSymbol(a);else return{error:new e("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};c&&(d.id=a.id);if(k&&n.isSymbol3D(d))for(a=0;a<d.symbolLayers.length;++a)d.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:d}}})},"esri/renderers/Renderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/iteratorUtils ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators ./support/AuthoringInfo".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m){var f=new d.default({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});return function(a){function c(b){b=a.call(this,b)||this;b.authoringInfo=null;b.type=null;return b}n(c,a);c.prototype.getRequiredFields=function(a){return h(this,void 0,void 0,function(){var b;return l(this,function(c){switch(c.label){case 0:if(!this.collectRequiredFields)return[2,[]];b=new Set;
return[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,k.valuesOfSet(b).sort()]}})})};c.prototype.getSymbol=function(a,b){};c.prototype.getSymbolAsync=function(a,b){return h(this,void 0,void 0,function(){return l(this,function(a){return[2]})})};c.prototype.getSymbols=function(){return[]};c.prototype.getAttributeHash=function(){return JSON.stringify(this)};c.prototype.getMeshHash=function(){return JSON.stringify(this)};e([b.property({type:m,json:{write:!0}})],c.prototype,"authoringInfo",
void 0);e([b.property({type:f.apiValues,readOnly:!0,json:{type:f.jsonValues,read:!1,write:{writer:f.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=e([b.subclass("esri.renderers.Renderer")],c)}(b.declared(g.JSONSupport))})},"esri/renderers/support/AuthoringInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f){var v=new l.default({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),p=new l.default({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),
q="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");return function(a){function c(b){b=a.call(this,b)||this;b.colorRamp=null;b.lengthUnit=null;b.maxSliderValue=null;b.minSliderValue=null;b.visualVariables=null;return b}n(c,a);h=c;Object.defineProperty(c.prototype,"classificationMethod",{get:function(){var a=this._get("classificationMethod"),b=this.type;return b&&"relationship"!==b?"class-breaks-size"===b||"class-breaks-color"===
b?a||"manual":null:a},set:function(a){this._set("classificationMethod",a)},enumerable:!0,configurable:!0});c.prototype.readColorRamp=function(a){if(a)return f.fromJSON(a)};Object.defineProperty(c.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(a){this._set("fields",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},
set:function(a){this._set("field1",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(a){this._set("field2",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(a){this._set("focus",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(a){this._set("numClasses",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"standardDeviationInterval",{get:function(){var a=this.type;return a&&"relationship"!==a&&"class-breaks-size"!==a&&"class-breaks-color"!==a?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(a){this._set("standardDeviationInterval",
a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"type",{get:function(){return this._get("type")},set:function(a){var b=a;"classed-size"===a?b="class-breaks-size":"classed-color"===a&&(b="class-breaks-color");this._set("type",b)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new h({classificationMethod:this.classificationMethod,colorRamp:k.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:k.clone(this.field1),field2:k.clone(this.field2),
focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(a){return a.clone()})})};var h;e([d.property({type:v.apiValues,value:null,dependsOn:["type"],json:{type:v.jsonValues,read:v.read,write:v.write,origins:{"web-document":{default:"manual",type:v.jsonValues,read:v.read,write:v.write}}}})],
c.prototype,"classificationMethod",null);e([d.property({types:f.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],c.prototype,"readColorRamp",null);e([d.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"fields",null);e([d.property({type:b.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field1",null);e([d.property({type:b.default,value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"field2",null);e([d.property({type:["HH",
"HL","LH","LL"],value:null,dependsOn:["type"],json:{write:!0}})],c.prototype,"focus",null);e([d.property({type:Number,value:null,dependsOn:["type"],json:{type:g.Integer,write:!0}})],c.prototype,"numClasses",null);e([d.property({type:q,json:{type:q,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);e([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);e([d.property({type:Number,json:{write:!0,
origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);e([d.property({type:[.25,.33,.5,1],value:null,dependsOn:["classificationMethod","type"],json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);e([d.property({type:String,value:null,json:{type:p.jsonValues,read:p.read,write:p.write,origins:{"web-scene":{type:p.jsonValues.filter(function(a){return"dotDensity"!==a}),read:p.read,write:p.write}}}})],c.prototype,"type",null);e([d.property({type:[m],
json:{write:!0}})],c.prototype,"visualVariables",void 0);return c=h=e([d.subclass("esri.renderers.support.AuthoringInfo")],c)}(d.declared(h.JSONSupport))})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./AuthoringInfoClassBreakInfo".split(" "),function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});
a=function(a){function b(b){b=a.call(this,b)||this;b.field="";b.normalizationField="";b.classBreakInfos=[];return b}n(b,a);c=b;b.prototype.clone=function(){return new c({field:this.field,normalizationField:this.normalizationField,classBreakInfos:h.clone(this.classBreakInfos)})};var c;e([k.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);e([k.property({type:[d.default],json:{write:!0}})],b.prototype,
"classBreakInfos",void 0);return b=c=e([k.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],b)}(k.declared(l.JSONSupport));c.AuthoringInfoFieldInfo=a;c.default=a})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function c(b){b=
a.call(this,b)||this;b.minValue=0;b.maxValue=0;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({minValue:this.minValue,maxValue:this.maxValue})};var g;e([h.property({type:Number,json:{write:!0}})],c.prototype,"minValue",void 0);e([h.property({type:Number,json:{write:!0}})],c.prototype,"maxValue",void 0);return c=g=e([h.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],c)}(h.declared(l.JSONSupport));c.AuthoringInfoClassBreakInfo=a;c.default=a})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast".split(" "),
function(a,c,n,e,l,h,k,d){var g=new l.default({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),b=new l.default({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),m={key:function(a){return"number"===typeof a?"number":"string"},typeMap:{number:Number,string:String},base:null},f=["high-to-low","above-and-below","centered-on","extremes"],v="seconds minutes hours days months years".split(" ");return function(a){function c(b){b=a.call(this,b)||this;
b.endTime=null;b.field=null;b.maxSliderValue=null;b.minSliderValue=null;b.startTime=null;b.type=null;b.units=null;return b}n(c,a);h=c;c.prototype.castEndTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};c.prototype.castStartTime=function(a){return"string"===typeof a||"number"===typeof a?a:null};Object.defineProperty(c.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(a){this._set("style",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(a){this._set("theme",a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new h({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};var h;e([k.property({types:m,json:{write:!0}})],c.prototype,"endTime",void 0);e([d.cast("endTime")],
c.prototype,"castEndTime",null);e([k.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);e([k.property({types:m,json:{write:!0}})],c.prototype,"startTime",void 0);e([d.cast("startTime")],c.prototype,"castStartTime",null);e([k.property({type:g.apiValues,value:null,dependsOn:["type"],json:{type:g.jsonValues,read:g.read,
write:g.write}})],c.prototype,"style",null);e([k.property({type:f,value:null,dependsOn:["type"],json:{type:f,write:!0}})],c.prototype,"theme",null);e([k.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],c.prototype,"type",void 0);e([k.property({type:v,json:{type:v,write:!0}})],c.prototype,"units",void 0);return c=h=e([k.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)}(k.declared(h.JSONSupport))})},"esri/tasks/support/colorRamps":function(){define(["require",
"exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,c,n,e,l){Object.defineProperty(c,"__esModule",{value:!0});c.types={key:"type",base:e,typeMap:{algorithmic:n,multipart:l}};c.fromJSON=function(a){return a&&a.type?"algorithmic"===a.type?n.fromJSON(a):"multipart"===a.type?l.fromJSON(a):null:null}})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ColorRamp".split(" "),
function(a,c,n,e,l,h,k,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.algorithm=null;b.fromColor=null;b.toColor=null;b.type="algorithmic";return b}e(b,a);c=b;b.prototype.clone=function(){return new c({fromColor:h.clone(this.fromColor),toColor:h.clone(this.toColor),algorithm:this.algorithm})};var c;n([k.enumeration.serializable()({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);n([k.property({type:l,json:{type:[d.Integer],
write:!0}})],b.prototype,"fromColor",void 0);n([k.property({type:l,json:{type:[d.Integer],write:!0}})],b.prototype,"toColor",void 0);n([k.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=c=n([k.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)}(k.declared(g))})},"esri/tasks/support/ColorRamp":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){return function(a){function c(c){c=a.call(this,c)||this;c.type=null;return c}n(c,a);e([h.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e([h.subclass("esri.tasks.support.ColorRamp")],c)}(h.declared(l.JSONSupport))})},"esri/tasks/support/MultipartColorRamp":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/lang ../../core/accessorSupport/decorators ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.colorRamps=null;b.type="multipart";return b}e(b,a);c=b;b.prototype.clone=function(){return new c({colorRamps:l.clone(this.colorRamps)})};var c;n([h.property({type:[k],json:{write:!0}})],b.prototype,"colorRamps",void 0);n([h.property({type:["multipart"]})],b.prototype,"type",void 0);return b=c=n([h.subclass("esri.tasks.support.MultipartColorRamp")],b)}(h.declared(d))})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){Object.defineProperty(c,"__esModule",{value:!0});var q={base:v,key:"type",typeMap:{opacity:b,color:g,rotation:m,size:f}};c.VisualVariablesMixin=function(a){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._vvFactory=new p;return b}n(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._vvFactory.visualVariables=a;this._set("visualVariables",this._vvFactory.visualVariables)},enumerable:!0,configurable:!0});
b.prototype.readVisualVariables=function(a,b,c){return this._vvFactory.readVariables(a,b,c)};b.prototype.writeVisualVariables=function(a,b,c,d){b[c]=this._vvFactory.writeVariables(a,d)};Object.defineProperty(b.prototype,"arcadeRequiredForVisualVariables",{get:function(){if(!this.visualVariables)return!1;for(var a=0,b=this.visualVariables;a<b.length;a++)if(b[a].arcadeRequired)return!0;return!1},enumerable:!0,configurable:!0});b.prototype.hasVisualVariables=function(a,b){return a?!!this.getVisualVariablesForType(a,
b):!!(this.getVisualVariablesForType("size",b)||this.getVisualVariablesForType("color",b)||this.getVisualVariablesForType("opacity",b)||this.getVisualVariablesForType("rotation",b))};b.prototype.getVisualVariablesForType=function(a,b){var c=this.visualVariables;if(c&&(c=c.filter(function(c){return c.type===a&&("string"===typeof b?c.target===b:!1===b?!c.target:!0)}),!c||0!==c.length))return c};b.prototype.collectVVRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var c,e,f,g;return l(this,
function(m){switch(m.label){case 0:c=[],this.visualVariables&&(c=c.concat(this.visualVariables)),e=0,f=c,m.label=1;case 1:if(!(e<f.length))return[3,4];g=f[e];if(!g)return[3,3];g.field&&d.collectField(a,b,g.field);g.normalizationField&&d.collectField(a,b,g.normalizationField);return g.valueExpression?[4,d.collectArcadeFieldNames(a,b,g.valueExpression)]:[3,3];case 2:m.sent(),m.label=3;case 3:return e++,[3,1];case 4:return[2]}})})};e([k.property({types:[q],value:null,json:{write:!0}})],b.prototype,"visualVariables",
null);e([k.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],b.prototype,"readVisualVariables",null);e([k.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=e([k.subclass("esri.renderers.mixins.VisualVariablesMixin")],b)}(k.declared(a))}})},"esri/renderers/visualVariables/ColorVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/ColorStop".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="color";b.normalizationField=null;return b}n(c,a);b=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",
a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new b({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};c.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&
this.stops.map(function(a){return a.value||0})};var b;e([l.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);e([l.property({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0);e([l.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);e([l.property({type:[k],json:{write:!0}})],c.prototype,"stops",null);return c=b=e([l.subclass("esri.renderers.visualVariables.ColorVariable")],c)}(l.declared(h))})},"esri/renderers/visualVariables/VisualVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,c,n,e,l,h,k,d,g,b){var m=k.getLogger("esri.renderers.visualVariables.VisualVariable"),f=new l.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});return function(a){function c(b){b=a.call(this,b)||this;b.index=null;b.type=null;b.field=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;return b}n(c,a);c.prototype.castField=function(a){return null==a?a:"function"===typeof a?(m.error(".field: field must be a string value"),
null):g.ensureString(a)};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return!!this.valueExpression},enumerable:!0,configurable:!0});c.prototype.clone=function(){};c.prototype.getAttributeHash=function(){return this.type+"-"+this.field+"-"+this.valueExpression};e([d.property()],c.prototype,"index",void 0);e([d.property({type:f.apiValues,readOnly:!0,json:{read:f.read,write:f.write}})],c.prototype,"type",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"field",
void 0);e([d.cast("field")],c.prototype,"castField",null);e([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);e([d.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"arcadeRequired",null);e([d.property({type:b,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=e([d.subclass("esri.renderers.visualVariables.VisualVariable")],c)}(d.declared(h.JSONSupport))})},
"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../support/LegendOptions".split(" "),function(a,c,n,e,l,h){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.showLegend=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({title:this.title,showLegend:this.showLegend})};var g;
e([l.property({type:Boolean,json:{write:!0}})],c.prototype,"showLegend",void 0);return c=g=e([l.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],c)}(l.declared(h.default))})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){Object.defineProperty(c,"__esModule",{value:!0});
a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.title=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({title:this.title})};var g;e([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=g=e([h.subclass("esri.renderers.support.LegendOptions")],c)}(h.declared(l.JSONSupport));c.LegendOptions=a;c.default=a})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}n(b,a);c=b;b.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};b.prototype.clone=function(){return new c({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var c;e([k.property({type:l,json:{type:[d.Integer],write:!0}})],b.prototype,"color",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([k.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);e([k.writer("value")],b.prototype,"writeValue",null);return b=c=e([k.subclass("esri.renderers.visualVariables.support.ColorStop")],b)}(k.declared(h.JSONSupport))})},"esri/renderers/visualVariables/OpacityVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./VisualVariable ./support/OpacityStop".split(" "),function(a,c,n,e,l,h,k){return function(a){function c(b){b=
a.call(this,b)||this;b.type="opacity";b.normalizationField=null;return b}n(c,a);b=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value}));this._set("stops",a)},enumerable:!0,configurable:!0});c.prototype.clone=
function(){return new b({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(function(a){return a.clone()}),legendOptions:this.legendOptions&&this.legendOptions.clone()})};c.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||
0})};var b;e([l.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);e([l.property({type:["opacity"],json:{type:["transparencyInfo"]}})],c.prototype,"type",void 0);e([l.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);e([l.property({type:[k],json:{write:!0}})],c.prototype,"stops",null);return c=b=e([l.subclass("esri.renderers.visualVariables.OpacityVariable")],c)}(l.declared(h))})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType ../../../webdoc/support/opacityUtils".split(" "),
function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.label=null;b.opacity=null;b.value=null;return b}n(b,a);c=b;b.prototype.readOpacity=function(a,b){return d.transparencyToOpacity(b.transparency)};b.prototype.writeOpacity=function(a,b,c){b[c]=d.opacityToTransparency(a)};b.prototype.clone=function(){return new c({label:this.label,opacity:this.opacity,value:this.value})};var c;e([h.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([h.property({type:Number,
json:{type:k.Integer,write:{target:"transparency"}}})],b.prototype,"opacity",void 0);e([h.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);e([h.writer("opacity")],b.prototype,"writeOpacity",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([h.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)}(h.declared(l.JSONSupport))})},"esri/renderers/visualVariables/RotationVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Error ../../core/accessorSupport/decorators ./VisualVariable".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.axis=null;b.type="rotation";b.rotationType="geographic";b.valueExpressionTitle=null;return b}n(c,a);b=c;Object.defineProperty(c.prototype,"cache",{get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.writeValueExpressionTitleWebScene=function(a,b,c,d){d&&d.messages&&d.messages.push(new l("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:"visualVariables["+this.index+"].valueExpressionTitle",context:d}))};c.prototype.clone=function(){return new b({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};var b;e([h.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"cache",null);e([h.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",
write:!0}}}})],c.prototype,"axis",void 0);e([h.property({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0);e([h.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);e([h.writer("web-scene","valueExpressionTitle")],c.prototype,"writeValueExpressionTitleWebScene",null);return c=b=e([h.subclass("esri.renderers.visualVariables.RotationVariable")],
c)}(h.declared(k))})},"esri/renderers/visualVariables/SizeVariable":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){function q(a){if(null!=
a){if("string"===typeof a||"number"===typeof a)return g.toPt(a);if("size"===a.type){if(p.isSizeVariable(a))return a;a=l({},a);delete a.type;return new x(a)}}}function w(a,b,c){if("object"!==typeof a)return a;b=new x;b.read(a,c);return b}var u=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,t=d.getLogger("esri.renderers.visualVariables.SizeVariable"),r=new k.default({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),B=new k.default({unknown:"unknown",inch:"inches",
foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),x=function(a){function c(b){b=a.call(this,b)||this;b.axis=null;b.legendOptions=null;b.normalizationField=null;b.scaleBy=null;b.target=null;b.type="size";b.useSymbolValue=null;b.valueExpression=null;b.valueRepresentation=null;b.valueUnit=null;return b}n(c,a);d=c;Object.defineProperty(c.prototype,
"cache",{get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:u.test(this.valueExpression)}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"expression",{set:function(a){t.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===a?(this.valueExpression="$view.scale",this._set("expression",a)):this._set("expression",null)},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{set:function(a){p.isSizeVariable(this.maxSize)&&(this.maxSize.index="visualVariables["+a+"].maxSize");p.isSizeVariable(this.minSize)&&(this.minSize.index="visualVariables["+a+"].minSize");this._set("index",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"inputValueType",{get:function(){return p.getInputValueType(this)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maxDataValue",{set:function(a){a&&
this.stops&&(t.warn("cannot set maxDataValue when stops is not null."),a=null);this._set("maxDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maxSize",{set:function(a){a&&this.stops&&(t.warn("cannot set maxSize when stops is not null."),a=null);this._set("maxSize",a)},enumerable:!0,configurable:!0});c.prototype.castMaxSize=function(a){return q(a)};c.prototype.readMaxSize=function(a,b,c){return w(a,b,c)};Object.defineProperty(c.prototype,"minDataValue",{set:function(a){a&&
this.stops&&(t.warn("cannot set minDataValue when stops is not null."),a=null);this._set("minDataValue",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"minSize",{set:function(a){a&&this.stops&&(t.warn("cannot set minSize when stops is not null."),a=null);this._set("minSize",a)},enumerable:!0,configurable:!0});c.prototype.castMinSize=function(a){return q(a)};c.prototype.readMinSize=function(a,b,c){return w(a,b,c)};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.valueExpression?
!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stops",{set:function(a){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?a&&Array.isArray(a)&&(a=a.filter(function(a){return!!a}),a.sort(function(a,b){return a.value-b.value})):a&&(t.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),
a=null);this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"transformationType",{get:function(){return p.getTransformationType(this,this.inputValueType)},enumerable:!0,configurable:!0});c.prototype.readValueExpression=function(a,b){return a||b.expression&&"$view.scale"};c.prototype.writeValueExpressionWebScene=function(a,b,c,d){"$view.scale"===a?d&&d.messages&&(a=this.index,d.messages.push(new h("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof a?a:"visualVariables["+a+"]")+".valueExpression",context:d}))):b[c]=a};c.prototype.readValueUnit=function(a){return a?B.read(a):null};c.prototype.clone=function(){return new d({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:p.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:p.isSizeVariable(this.minSize)?
this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(function(a){return a.clone()}),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};c.prototype.flipSizes=function(){if("clamped-linear"===this.transformationType){var a=this.minSize;this.minSize=this.maxSize;this.maxSize=a;return this}if("stops"===this.transformationType)for(var a=
this.stops,b=a.map(function(a){return a.size}).reverse(),c=a.length,d=0;d<c;d++)a[d].size=b[d];return this};c.prototype.getAttributeHash=function(){return this.inherited(arguments)+"-"+this.target+"-"+this.normalizationField};c.prototype._interpolateData=function(){return this.stops&&this.stops.map(function(a){return a.value||0})};var d;e([b.property({readOnly:!0,dependsOn:["valueExpression","stops"]})],c.prototype,"cache",null);e([b.property({type:r.apiValues,json:{type:r.jsonValues,origins:{"web-map":{read:!1}},
read:r.read,write:r.write}})],c.prototype,"axis",void 0);e([b.property({type:String,value:null,json:{read:!1}})],c.prototype,"expression",null);e([b.property()],c.prototype,"index",null);e([b.property({type:String,readOnly:!0,dependsOn:["field","valueExpression"]})],c.prototype,"inputValueType",null);e([b.property({type:v,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([b.property({type:Number,value:null,json:{write:!0}})],c.prototype,"maxDataValue",null);e([b.property({type:Number,value:null,
json:{write:!0}})],c.prototype,"maxSize",null);e([b.cast("maxSize")],c.prototype,"castMaxSize",null);e([b.reader("maxSize")],c.prototype,"readMaxSize",null);e([b.property({type:Number,value:null,json:{write:!0}})],c.prototype,"minDataValue",null);e([b.property({type:Number,value:null,json:{write:!0}})],c.prototype,"minSize",null);e([b.cast("minSize")],c.prototype,"castMinSize",null);e([b.reader("minSize")],c.prototype,"readMinSize",null);e([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",
void 0);e([b.property({readOnly:!0,dependsOn:["valueExpression","minSize.arcadeRequired","maxSize.arcadeRequired"]})],c.prototype,"arcadeRequired",null);e([b.property({type:String})],c.prototype,"scaleBy",void 0);e([b.property({type:[f],value:null,json:{write:!0}})],c.prototype,"stops",null);e([b.property({type:["outline"],json:{write:!0}})],c.prototype,"target",void 0);e([b.property({type:String,readOnly:!0,dependsOn:"minDataValue maxDataValue minSize maxSize valueUnit inputValueType stops".split(" ")})],
c.prototype,"transformationType",null);e([b.property({type:["size"],json:{type:["sizeInfo"]}})],c.prototype,"type",void 0);e([b.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],c.prototype,"useSymbolValue",void 0);e([b.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);e([b.reader("valueExpression",["valueExpression","expression"])],c.prototype,"readValueExpression",null);e([b.writer("web-scene","valueExpression")],c.prototype,"writeValueExpressionWebScene",
null);e([b.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],c.prototype,"valueRepresentation",void 0);e([b.property({type:B.apiValues,json:{write:B.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],c.prototype,"valueUnit",void 0);e([b.reader("valueUnit")],c.prototype,"readValueUnit",null);return c=d=e([b.subclass("esri.renderers.visualVariables.SizeVariable")],c)}(b.declared(m));return x})},"esri/renderers/visualVariables/support/SizeStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.label=null;b.size=null;b.value=null;return b}n(c,a);b=c;c.prototype.clone=function(){return new b({label:this.label,size:this.size,value:this.value})};var b;e([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([k.property({type:Number,cast:h.toPt,json:{write:!0}})],c.prototype,"size",void 0);e([k.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=b=e([k.subclass("esri.renderers.visualVariables.support.SizeStop")],
c)}(k.declared(l.JSONSupport))})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./VisualVariableLegendOptions".split(" "),function(a,c,n,e,l,h){return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.customValues=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({title:this.title,
showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};var g;e([l.property({type:[Number],json:{write:!0}})],c.prototype,"customValues",void 0);return c=g=e([l.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],c)}(l.declared(h))})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["require","exports"],function(a,c){function n(a){return a.valueExpression?"expression":a.field&&"string"===typeof a.field?"field":
"unknown"}Object.defineProperty(c,"__esModule",{value:!0});c.isSizeVariable=function(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass};c.isValidNumber=function(a){return null!=a&&!isNaN(a)&&isFinite(a)};c.getInputValueType=n;c.getTransformationType=function(a,c){return"unknown"===(c||n(a))?"constant":a.stops?"stops":null!=a.minSize&&null!=a.maxSize&&null!=a.minDataValue&&null!=a.maxDataValue?"clamped-linear":"unknown"===(a.valueUnit||"unknown")?null!=a.minSize&&null!=a.minDataValue?
a.minSize&&a.minDataValue?"proportional":"additive":"identity":"real-world-size"}})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v){var p=k.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),
q={color:b,size:v,opacity:m,rotation:f},w=new h.default({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),u=/^\[([^\]]+)\]$/i;return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.colorVariables=null;b.opacityVariables=null;b.rotationVariables=null;b.sizeVariables=null;return b}n(b,a);Object.defineProperty(b.prototype,"visualVariables",{set:function(a){this._resetVariables();if((a=a&&a.filter(function(a){return!!a}))&&a.length){for(var b=
0,c=a;b<c.length;b++){var d=c[b];switch(d.type){case "color":this.colorVariables.push(d);break;case "opacity":this.opacityVariables.push(d);break;case "rotation":this.rotationVariables.push(d);break;case "size":this.sizeVariables.push(d)}}this.sizeVariables.length&&this.sizeVariables.some(function(a){return!!a.target})&&a.sort(function(a,b){var c=null;return c=a.target===b.target?0:a.target?1:-1});for(b=0;b<a.length;b++)d=a[b],d.index=b}this._set("visualVariables",a)},enumerable:!0,configurable:!0});
b.prototype.readVariables=function(a,b,c){var e=b.rotationExpression;b=b.rotationType;if(e=(e=e&&e.match(u))&&e[1])a||(a=[]),a.push({type:"rotationInfo",rotationType:b,field:e});if(a)return a.map(function(a){var b=w.read(a.type),e=q[b];e||(p.warn("Unknown variable type: "+b),c&&c.messages&&c.messages.push(new d("visual-variable:unsupported","visualVariable of type '"+b+"' is not supported",{definition:a,context:c})));b=new e;b.read(a,c);return b})};b.prototype.writeVariables=function(a,b){for(var c=
[],d=0;d<a.length;d++){var e=a[d].toJSON(b);e&&c.push(e)}return c};b.prototype._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};e([g.property()],b.prototype,"visualVariables",null);return b=e([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)}(g.declared(l))})},"esri/renderers/support/ClassBreakInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.minValue=null;b.maxValue=0;b.symbol=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol);return this.minValue+"."+this.maxValue+
"."+a};var c;e([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([k.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);e([k.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);e([k.property({types:l.symbolTypesRenderer,json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,
read:d.read,write:d.writeTarget}},read:d.read,write:d.writeTarget}})],b.prototype,"symbol",void 0);return b=c=e([k.subclass("esri.renderers.support.ClassBreakInfo")],b)}(k.declared(h.JSONSupport));c.ClassBreakInfo=a;c.default=a})},"esri/renderers/RasterColormapRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/ColormapInfo ./support/colorRampUtils".split(" "),
function(a,c,n,e,l,h,k,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.type="raster-colormap";return b}n(b,a);c=b;b.createFromColormap=function(a){if(!a)return null;var b=5===a[0].length;a=a.sort(function(a){return a[0]-a[1]});b=b?a.map(function(a){return d.fromJSON({value:a[0],color:a.slice(1,5),label:String(a[0])})}):a.map(function(a){return d.fromJSON({value:a[0],color:a.slice(1,4).concat([255]),label:String(a[0])})});return new c({colormapInfos:b})};b.createFromColorramp=function(a){a=
g.convertColorRampToColormap(a,256);return c.createFromColormap(a)};b.prototype.clone=function(){return new c({colormapInfos:this.colormapInfos.map(function(a){return a.toJSON()})})};b.prototype.extractColormap=function(){return this.colormapInfos.map(function(a){return[a.value,a.color.r,a.color.g,a.color.b,1<a.color.a?a.color.a:255*a.color.a&255]}).sort(function(a,b){return a[0]-b[0]})};var c;e([k.property({type:[d],json:{write:!0}})],b.prototype,"colormapInfos",void 0);e([k.enumeration.serializable()({rasterColormap:"raster-colormap"})],
b.prototype,"type",void 0);return b=c=e([k.subclass("esri.renderers.RasterColormapRenderer")],b)}(k.declared(h.JSONSupport))})},"esri/renderers/support/ColormapInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/paramHelper ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,k,d){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;
b.value=null;b.label=null;b.color=null;return b}n(b,a);e([d.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);e([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([d.property({type:h,json:{write:!0}})],b.prototype,"color",void 0);return b=e([d.subclass("esri.renderers.support.ColormapInfo")],b)}(d.declared(k.JSONSupport))})},"esri/renderers/support/colorRampUtils":function(){define(["require","exports","../../Color","../../core/colorUtils"],function(a,c,n,
e){function l(a,c){if(!a||!c||a.length!==c.length)return!1;for(var b=0;b<a.length;b++)if(a[b]>c[b]+2||a[b]<c[b]-2)return!1;return!0}function h(a,c,b){a=e.toLAB(a);c=e.toLAB(c);return e.toRGB({l:a.l*(1-b)+b*c.l,a:a.a*(1-b)+b*c.a,b:a.b*(1-b)+b*c.b})}function k(a,e){if(a){e=e?e:c.PREDEFINED_JSON_COLOR_RAMPS;var b=null,d;"algorithmic"===a.type?e.some(function(c){if(l(a.fromColor.toRgb(),c.fromColor)&&l(a.toColor.toRgb(),c.toColor))return b=c.id,!0}):"multipart"===a.type&&e.some(function(c){if(a.colorRamps&&
c.colorRamps&&a.colorRamps.length===c.colorRamps.length&&(d=a.colorRamps,!c.colorRamps.some(function(a,b){if(!l(d[b].fromColor.toRgb(),(new n(a.fromColor)).toRgb())||!l(d[b].toColor.toRgb(),(new n(a.toColor)).toRgb()))return!0}))){if(b)return!0;b=c.id}});return b}}Object.defineProperty(c,"__esModule",{value:!0});c.PREDEFINED_JSON_COLOR_RAMPS=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,
181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,
100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,
70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",
colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,
186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,
181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],
toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,
38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,
30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,
143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,
14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",
fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,
245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",
type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,
255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,
255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,
224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}];c.PREDEFINED_COLOR_RAMP_NAME_MAP={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",
blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",
distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",
partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",
purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",
slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};
c.getColorRampId=k;c.getColorRampName=function(a){return(a=k(a))?c.PREDEFINED_COLOR_RAMP_NAME_MAP[a]:null};c.convertColorRampToColormap=function(a,c){if(a&&c){for(var b="multipart"===a.type?a.colorRamps.length:1,d=[],e=[],g,k,l,w,u,t=0,r=0;r<b;r++)d[r]={start:null,end:null},d[r].start=t,d[r].end=t+1/b,t=d[r].end;b=function(b){w=b/c;d.forEach(function(d,f){w>=d.start&&w<d.end&&(u=(w-d.start)/(d.end-d.start),"multipart"===a.type?(g=new n(a.colorRamps[f].fromColor),k=new n(a.colorRamps[f].toColor)):
(g=new n(a.fromColor),k=new n(a.toColor)),l=h(g,k,u),0===b?e.push([b,g.r,g.g,g.b]):b===c-1?e.push([b,k.r,k.g,k.b]):(l=h(g,k,u),e.push([b,l.r,l.g,l.b])))})};for(r=0;r<c;r++)b(r);return e}}})},"esri/core/colorUtils":function(){define(["require","exports"],function(a,c){function n(a,b){var c=[],d,e;if(a[0].length!==b.length)throw"dimensions do not match";var f=a.length,g=a[0].length,m=0;for(d=0;d<f;d++){for(e=m=0;e<g;e++)m+=a[d][e]*b[e];c.push(m)}return c}function e(a){a=[a.r/255,a.g/255,a.b/255].map(function(a){return.04045>=
a?a/12.92:Math.pow((a+.055)/1.055,2.4)});a=n(g,a);return{x:100*a[0],y:100*a[1],z:100*a[2]}}function l(a){a=n(b,[a.x/100,a.y/100,a.z/100]).map(function(a){return Math.min(1,Math.max(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055,0))});return{r:Math.round(255*a[0]),g:Math.round(255*a[1]),b:Math.round(255*a[2])}}function h(a){a=[a.x/95.047,a.y/100,a.z/108.883].map(function(a){return a>Math.pow(6/29,3)?Math.pow(a,1/3):1/3*Math.pow(29/6,2)*a+4/29});return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-
a[2])}}function k(a){var b=a.l;a=[(b+16)/116+a.a/500,(b+16)/116,(b+16)/116-a.b/200].map(function(a){return a>6/29?Math.pow(a,3):3*Math.pow(6/29,2)*(a-4/29)});return{x:95.047*a[0],y:100*a[1],z:108.883*a[2]}}function d(a){if("r"in a&&"g"in a&&"b"in a)return a;if("l"in a&&"c"in a&&"h"in a){var b=a.c,c=a.h;return l(k({l:a.l,a:b*Math.cos(c),b:b*Math.sin(c)}))}if("l"in a&&"a"in a&&"b"in a)return l(k(a));if("x"in a&&"y"in a&&"z"in a)return l(a);if("h"in a&&"s"in a&&"v"in a){c=(a.h+360)%360/60;b=a.v/100*
255;a=a.s/100*b;var d=a*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:a,g:d,b:0};break;case 1:c={r:d,g:a,b:0};break;case 2:c={r:0,g:a,b:d};break;case 3:c={r:0,g:d,b:a};break;case 4:c={r:d,g:0,b:a};break;case 5:case 6:c={r:a,g:0,b:d};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+b-a);c.g=Math.round(c.g+b-a);c.b=Math.round(c.b+b-a);return c}}Object.defineProperty(c,"__esModule",{value:!0});var g=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],b=[[3.2406,-1.5372,-.4986],[-.9689,
1.8758,.0415],[.0557,-.204,1.057]];c.toRGB=d;c.toHSV=function(a){if("h"in a&&"s"in a&&"v"in a)return a;var b=d(a);a=b.r;var c=b.g,b=b.b,e=Math.max(a,c,b),g=e-Math.min(a,c,b),h;0===g?h=0:e===a?h=(c-b)/g%6:e===c?h=(b-a)/g+2:e===b&&(h=(a-c)/g+4);0>h&&(h+=6);return{h:60*h,s:100*(0===g?0:g/e),v:100/255*e}};c.toLAB=function(a){return"l"in a&&"a"in a&&"b"in a?a:h(e(d(a)))};c.toLCH=function(a){if(!("l"in a&&"c"in a&&"h"in a)){var b=h(e(d(a)));a=b.l;var c=b.a,g=b.b,b=Math.sqrt(c*c+g*g),c=Math.atan2(g,c),c=
0<c?c:c+2*Math.PI;a={l:a,c:b,h:c}}return a};c.toXYZ=function(a){return"x"in a&&"y"in a&&"z"in a?a:e(d(a))}})},"esri/renderers/RasterStretchRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/stretchRendererUtils ../tasks/support/colorRamps".split(" "),function(a,c,n,e,l,h,k,d,g,b){return function(a){function c(b){b=a.call(this,
b)||this;b.colorRamp=null;b.computeGamma=!1;b.dynamicRangeAdjustment=!0;b.gamma=[];b.maxPercent=null;b.minPercent=null;b.numberOfStandardDeviations=null;b.outputMax=null;b.outputMin=null;b.sigmoidStrengthLevel=null;b.statistics=[];b.histograms=null;b.useGamma=!1;b.stretchType="none";b.type="raster-stretch";return b}n(c,a);h=c;c.prototype.readColorRamp=function(a){if(a)return b.fromJSON(a)};c.prototype.writeStatistics=function(a,b,c){null==a||0===a.length?a=null:a[0]instanceof Array||(a=a.map(function(a){return[a.min,
a.max,a.avg,a.stddev]}));b[c]=a};c.prototype.clone=function(){return new h({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:k.clone(this.statistics),gamma:k.clone(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:k.clone(this.colorRamp),histograms:k.clone(this.histograms),
dynamicRangeAdjustment:this.dynamicRangeAdjustment})};var h;e([d.property({types:b.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);e([d.reader("colorRamp")],c.prototype,"readColorRamp",null);e([d.property({type:Boolean,json:{write:!0}})],c.prototype,"computeGamma",void 0);e([d.property({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],c.prototype,"dynamicRangeAdjustment",void 0);e([d.property({type:[Number],json:{write:{allowNull:!0}}})],c.prototype,"gamma",void 0);e([d.property({type:Number,
json:{write:{allowNull:!0}}})],c.prototype,"maxPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"minPercent",void 0);e([d.property({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"numberOfStandardDeviations",void 0);e([d.property({type:Number,json:{read:{source:"max"},write:{target:"max",allowNull:!0}}})],c.prototype,"outputMax",void 0);e([d.property({type:Number,json:{read:{source:"min"},write:{target:"min",allowNull:!0}}})],c.prototype,"outputMin",void 0);
e([d.property({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"sigmoidStrengthLevel",void 0);e([d.property({json:{write:{allowNull:!0}}})],c.prototype,"statistics",void 0);e([d.property()],c.prototype,"histograms",void 0);e([d.writer("statistics")],c.prototype,"writeStatistics",null);e([d.property({type:Boolean,json:{write:!0}})],c.prototype,"useGamma",void 0);e([d.property({type:g.stretchTypeJSONDict.apiValues,json:{type:g.stretchTypeJSONDict.jsonValues,read:g.stretchTypeJSONDict.read,write:g.stretchTypeJSONDict.write}})],
c.prototype,"stretchType",void 0);e([d.enumeration.serializable()({rasterStretch:"raster-stretch"})],c.prototype,"type",void 0);return c=h=e([d.subclass("esri.renderers.RasterStretchRenderer")],c)}(d.declared(h.JSONSupport))})},"esri/renderers/support/stretchRendererUtils":function(){define(["require","exports","../../core/jsonMap"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.stretchTypeJSONDict=new n.default({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",
minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"})})},"esri/renderers/UniqueValueRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../symbols ../symbols ../core/arrayUtils ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../symbols/support/jsonUtils ../symbols/support/styleUtils".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y,C,z,D,E,H){var F=p.getLogger("esri.renderers.UniqueValueRenderer"),J=B.ensureType(z.default);return function(a){function c(b){b=a.call(this,b)||this;b._valueInfoMap={};b._isDefaultSymbolDerived=!1;b.type="unique-value";b.backgroundFillSymbol=null;b.field=null;b.field2=null;b.field3=null;b.valueExpression=null;b.valueExpressionTitle=null;b.legendOptions=null;b.defaultLabel=null;b.fieldDelimiter=null;b.portal=null;b.styleOrigin=null;b.diff={uniqueValueInfos:function(a,
b){if(a||b){if(!a||!b)return{type:"complete",oldValue:a,newValue:b};for(var c=!1,d={type:"collection",added:[],removed:[],changed:[],unchanged:[]},e=function(e){var f=m.find(a,function(a){return a.value===b[e].value});f?r.diff(f,b[e])?(d.changed.push({type:"complete",oldValue:f,newValue:b[e]}),c=!0):d.unchanged.push({oldValue:f,newValue:b[e]}):(d.added.push(b[e]),c=!0)},f=0;f<b.length;f++)e(f);e=function(e){m.find(b,function(b){return b.value===a[e].value})||(d.removed.push(a[e]),c=!0)};for(f=0;f<
a.length;f++)e(f);return c?d:void 0}}};b._set("uniqueValueInfos",[]);return b}n(c,a);l=c;Object.defineProperty(c.prototype,"_cache",{get:function(){return{compiledFunc:null}},enumerable:!0,configurable:!0});c.prototype.writeBackgroundFillSymbolWebScene=function(a,b,c,d){E.writeTarget(a,b,c,d)};c.prototype.castField=function(a){return null==a||"function"===typeof a?a:B.ensureString(a)};c.prototype.writeField=function(a,b,c,d){"string"===typeof a?b[c]=a:d&&d.messages?d.messages.push(new f("property:unsupported",
"UniqueValueRenderer.field set to a function cannot be written to JSON")):F.error(".field: cannot write field to JSON since it's not a string value")};Object.defineProperty(c.prototype,"defaultSymbol",{set:function(a){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",a)},enumerable:!0,configurable:!0});c.prototype.readDefaultSymbol=function(a,b,c){return E.read(a,b,c)};c.prototype.writeDefaultSymbolWebScene=function(a,b,c,d){this._isDefaultSymbolDerived||E.writeTarget(a,b,c,d)};c.prototype.writeDefaultSymbol=
function(a,b,c,d){this._isDefaultSymbolDerived||E.writeTarget(a,b,c,d)};c.prototype.readPortal=function(a,b,c){return c.portal||G.getDefault()};c.prototype.readStyleOrigin=function(a,b,c){if(b.styleName)return Object.freeze({styleName:b.styleName});if(b.styleUrl)return a=u.fromJSON(b.styleUrl,c),Object.freeze({styleUrl:a})};c.prototype.writeStyleOrigin=function(a,b,c,d){a.styleName?b.styleName=a.styleName:a.styleUrl&&(b.styleUrl=u.toJSON(a.styleUrl,d))};Object.defineProperty(c.prototype,"uniqueValueInfos",
{set:function(a){this.styleOrigin?F.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap())},enumerable:!0,configurable:!0});c.prototype.addUniqueValueInfo=function(a,c){this.styleOrigin?F.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(a="object"===typeof a?J(a):new z.default({value:a,symbol:b.ensureType(c)}),
this.uniqueValueInfos.push(a),this._valueInfoMap[a.value]=a)};c.prototype.removeUniqueValueInfo=function(a){if(this.styleOrigin)F.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var b=0;b<this.uniqueValueInfos.length;b++)if(this.uniqueValueInfos[b].value===a+""){delete this._valueInfoMap[a];this.uniqueValueInfos.splice(b,1);break}};c.prototype.getUniqueValueInfo=function(a,b){return k(this,void 0,void 0,function(){var c,
e,f;return h(this,function(g){switch(g.label){case 0:c=b;if(!this.valueExpression||!q.isNone(b)&&!q.isNone(b.arcade))return[3,2];e=[{},c];f={};return[4,D.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=g.sent(),f)])),g.label=2;case 2:return[2,this._getUniqueValueInfo(a,c)]}})})};c.prototype.getSymbol=function(a,b){if(this.valueExpression&&(q.isNone(b)||q.isNone(b.arcade)))F.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(a=this._getUniqueValueInfo(a,
b))&&a.symbol||this.defaultSymbol};c.prototype.getSymbolAsync=function(a,b){return k(this,void 0,void 0,function(){var c,e,f,g;return h(this,function(h){switch(h.label){case 0:c=b;if(!this.valueExpression||!q.isNone(c)&&!q.isNone(c.arcade))return[3,2];e=[{},c];f={};return[4,D.loadArcade()];case 1:c=d.apply(void 0,e.concat([(f.arcade=h.sent(),f)])),h.label=2;case 2:return g=this._getUniqueValueInfo(a,c),[2,g&&g.symbol||this.defaultSymbol]}})})};c.prototype.getSymbols=function(){for(var a=[],b=0,c=
this.uniqueValueInfos;b<c.length;b++){var d=c[b];d.symbol&&a.push(d.symbol)}this.defaultSymbol&&a.push(this.defaultSymbol);return a};c.prototype.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce(function(a,b){return a+b.getAttributeHash()},"")};c.prototype.getMeshHash=function(){var a=JSON.stringify(this.backgroundFillSymbol),b=JSON.stringify(this.defaultSymbol),c=this.uniqueValueInfos.reduce(function(a,b){return a+b.getMeshHash()},"");return a+"."+b+"."+c+"."+(this.field+
"."+this.field2+"."+this.field3+"."+this.fieldDelimiter)+"."+this.valueExpression};c.prototype.clone=function(){var a=new l({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:v.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:v.clone(this.visualVariables),legendOptions:v.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),
backgroundFillSymbol:v.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0);a._set("portal",this.portal);var b=v.clone(this.uniqueValueInfos);this.styleOrigin&&(a._set("styleOrigin",Object.freeze(v.clone(this.styleOrigin))),Object.freeze(b));a._set("uniqueValueInfos",b);a._updateValueInfoMap();return a};Object.defineProperty(c.prototype,"arcadeRequired",{get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression},enumerable:!0,configurable:!0});
c.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){var c;return h(this,function(d){switch(d.label){case 0:return c=[this.collectVVRequiredFields(a,b),this.collectSymbolFields(a,b)],[4,w.all(c)];case 1:return d.sent(),[2]}})})};c.prototype.collectSymbolFields=function(a,b){return k(this,void 0,void 0,function(){var c;return h(this,function(d){switch(d.label){case 0:return c=this.getSymbols().map(function(c){return c.collectRequiredFields(a,b)}).concat([x.collectArcadeFieldNames(a,
b,this.valueExpression)]),x.collectField(a,b,this.field),x.collectField(a,b,this.field2),x.collectField(a,b,this.field3),[4,w.all(c)];case 1:return d.sent(),[2]}})})};c.prototype.populateFromStyle=function(){var a=this;return H.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(b){var c=[];a._valueInfoMap={};b&&b.data&&Array.isArray(b.data.items)&&b.data.items.forEach(function(d){var e=new g.WebStyleSymbol({styleUrl:b.styleUrl,styleName:b.styleName,portal:a.portal,name:d.name});a.defaultSymbol||
d.name!==b.data.defaultItem||(a.defaultSymbol=e,a._isDefaultSymbolDerived=!0);e=new z.default({value:d.name,symbol:e});c.push(e);a._valueInfoMap[d.name]=e});a._set("uniqueValueInfos",Object.freeze(c));!a.defaultSymbol&&a.uniqueValueInfos.length&&(a.defaultSymbol=a.uniqueValueInfos[0].symbol,a._isDefaultSymbolDerived=!0);return a})};c.prototype._updateValueInfoMap=function(){var a=this;this._valueInfoMap={};this.uniqueValueInfos.forEach(function(b){return a._valueInfoMap[b.value+""]=b})};c.prototype._getUniqueValueInfo=
function(a,b){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,b):this._getUnqiueValueInfoForFields(a)};c.prototype._getUnqiueValueInfoForExpression=function(a,b){var c=q.unwrapOr(b,{});b=c.viewingMode;var d=c.scale,e=c.spatialReference,f=this._cache.compiledFunc,c=q.expect(c.arcade).arcadeUtils;f||(f=c.createSyntaxTree(this.valueExpression),f=c.createFunction(f),this._cache.compiledFunc=f);a=c.executeFunction(f,c.createExecContext(a,c.getViewInfo({viewingMode:b,scale:d,spatialReference:e})));
return this._valueInfoMap[a+""]};c.prototype._getUnqiueValueInfoForFields=function(a){var b=this.field,c=a.attributes,d;if("function"!==typeof b&&this.field2){a=this.field2;d=this.field3;var e=[];b&&e.push(c[b]);a&&e.push(c[a]);d&&e.push(c[d]);d=e.join(this.fieldDelimiter||"")}else"function"===typeof b?d=b(a):b&&(d=c[b]);return this._valueInfoMap[d+""]};c.fromPortalStyle=function(a,b){var c=new l(b&&b.properties);c._set("styleOrigin",Object.freeze({styleName:a}));c._set("portal",b&&b.portal||G.getDefault());
b=c.populateFromStyle();b.catch(function(b){F.error("#fromPortalStyle('"+a+"'[, ...])","Failed to create unique value renderer from style name",b)});return b};c.fromStyleUrl=function(a,b){b=new l(b&&b.properties);b._set("styleOrigin",Object.freeze({styleUrl:a}));b=b.populateFromStyle();b.catch(function(b){F.error("#fromStyleUrl('"+a+"'[, ...])","Failed to create unique value renderer from style URL",b)});return b};var l;e([t.property({readOnly:!0,dependsOn:["valueExpression"]})],c.prototype,"_cache",
null);e([t.enumeration.serializable()({uniqueValue:"unique-value"})],c.prototype,"type",void 0);e([t.property({types:{base:g.BaseSymbol,key:"type",typeMap:{"simple-fill":b.symbolTypesRenderer.typeMap["simple-fill"],"picture-fill":b.symbolTypesRenderer.typeMap["picture-fill"],"polygon-3d":b.symbolTypesRenderer.typeMap["polygon-3d"]}},json:{read:E.read,write:E.writeTarget}})],c.prototype,"backgroundFillSymbol",void 0);e([t.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:g.PolygonSymbol3D}})],
c.prototype,"writeBackgroundFillSymbolWebScene",null);e([t.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],c.prototype,"field",void 0);e([t.cast("field")],c.prototype,"castField",null);e([t.writer("field")],c.prototype,"writeField",null);e([t.property({type:String,json:{write:!0}})],c.prototype,"field2",void 0);e([t.property({type:String,json:{write:!0}})],c.prototype,"field3",void 0);e([t.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);
e([t.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);e([t.property({type:C.default,json:{write:!0}})],c.prototype,"legendOptions",void 0);e([t.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);e([t.property({types:b.symbolTypesRenderer})],c.prototype,"defaultSymbol",null);e([t.reader("defaultSymbol")],c.prototype,"readDefaultSymbol",null);e([t.writer("web-scene","defaultSymbol",{defaultSymbol:{types:b.symbolTypesRenderer3D}})],c.prototype,
"writeDefaultSymbolWebScene",null);e([t.writer("defaultSymbol")],c.prototype,"writeDefaultSymbol",null);e([t.property({type:String,json:{write:!0}})],c.prototype,"fieldDelimiter",void 0);e([t.property({type:G,readOnly:!0})],c.prototype,"portal",void 0);e([t.reader("portal",["styleName"])],c.prototype,"readPortal",null);e([t.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],c.prototype,"styleOrigin",void 0);e([t.reader("styleOrigin",["styleName","styleUrl"])],
c.prototype,"readStyleOrigin",null);e([t.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],c.prototype,"writeStyleOrigin",null);e([t.property({type:[z.default],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],c.prototype,"uniqueValueInfos",null);return c=l=e([t.subclass("esri.renderers.UniqueValueRenderer")],c)}(t.declared(y.VisualVariablesMixin(A)))})},"esri/core/accessorSupport/diffUtils":function(){define("require exports ../Accessor ../Collection ../maybe ./utils".split(" "),
function(a,c,n,e,l,h){function k(a){return a instanceof e?Object.keys(a.items):a instanceof n?h.getProperties(a).keys():a?Object.keys(a):[]}function d(a,b){return a instanceof e?a.items[b]:a[b]}function g(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length!==b.length:!1}function b(a){return a?a.declaredClass:null}function m(a,c){var e,f=a.diff;if(f&&"function"===typeof f)return f(a,c);var h=k(a),p=k(c);if(0!==h.length||0!==p.length){if(!h.length||!p.length||g(a,c))return{type:"complete",oldValue:a,
newValue:c};var q=p.filter(function(a){return-1===h.indexOf(a)}),x=h.filter(function(a){return-1===p.indexOf(a)}),q=h.filter(function(b){return-1<p.indexOf(b)&&d(a,b)!==d(c,b)}).concat(q,x).sort();if((x=b(a))&&-1<v.indexOf(x)&&q.length)return{type:"complete",oldValue:a,newValue:c};for(var G,x=a instanceof n&&c instanceof n,A=0;A<q.length;A++){var y=q[A],C=d(a,y),z=d(c,y),D=void 0;!(x||"function"!==typeof C&&"function"!==typeof z)||C===z||null==C&&null==z||(D=f&&f[y]&&"function"===typeof f[y]?f[y](C,
z):"object"===typeof C&&"object"===typeof z&&b(C)===b(z)?m(C,z):{type:"complete",oldValue:C,newValue:z},l.isSome(D)&&(l.isSome(G)?G.diff[y]=D:G={type:"partial",diff:(e={},e[y]=D,e)}))}return G}}function f(a){if(l.isNone(a))return!0;switch(a.type){case "complete":return!1;case "collection":for(var b=0,c=a.added;b<c.length;b++){var d=c[b];if(!f(d))return!1}b=0;for(c=a.removed;b<c.length;b++)if(d=c[b],!f(d))return!1;b=0;for(a=a.changed;b<a.length;b++)if(d=a[b],!f(d))return!1;return!0;case "partial":for(b in a.diff)if(d=
a.diff[b],!f(d))return!1;return!0}}Object.defineProperty(c,"__esModule",{value:!0});var v=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];c.diff=function(a,c){if("function"!==typeof a&&"function"!==typeof c&&(a||c))return!a||!c||"object"===typeof a&&"object"===typeof c&&b(a)!==b(c)?{type:"complete",oldValue:a,newValue:c}:m(a,c)};c.isEmpty=f})},"esri/renderers/support/UniqueValueInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../symbols ../../core/JSONSupport ../../core/accessorSupport/decorators ../../symbols/support/jsonUtils".split(" "),
function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.description=null;b.label=null;b.symbol=null;b.value=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};b.prototype.getMeshHash=function(){var a=JSON.stringify(this.symbol&&this.symbol.toJSON());return this.value+"."+a};var c;e([k.property({type:String,
json:{write:!0}})],b.prototype,"description",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([k.property({types:l.symbolTypesRenderer,json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,read:d.read,write:d.writeTarget}},read:d.read,write:d.writeTarget}})],b.prototype,"symbol",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"value",void 0);return b=c=e([k.subclass("esri.renderers.support.UniqueValueInfo")],b)}(k.declared(h.JSONSupport));c.UniqueValueInfo=
a;c.default=a})},"esri/symbols/support/styleUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../symbols ../../core/devEnvironmentUtils ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags ./jsonUtils ./StyleOrigin ./Thumbnail".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q){function w(a,b){return y(a,b).then(function(b){return{data:b.data,baseUrl:g.removeFile(a),styleUrl:a}})}
function u(a,c,d){c=c.portal||b.getDefault();var e,f=c.url+" - "+(c.user&&c.user.username)+" - "+a;C[f]||(C[f]=t(a,c,d).then(function(a){e=a;return a.fetchData()}).then(function(b){return{data:b,baseUrl:e.itemUrl,styleName:a}}));return C[f]}function t(a,b,c){return b.load(c).then(function(){var d=new m({disableExtraQuery:!0,query:"owner:"+z+" AND type:"+D+' AND typekeywords:"'+a+'"'});return b.queryItems(d,c)}).then(function(b){b=b.results;var d=null,e=a.toLowerCase();if(b&&Array.isArray(b))for(var f=
0;f<b.length;f++){var g=b[f];if(g.typeKeywords.some(function(a){return a.toLowerCase()===e})&&g.type===D&&g.owner===z){d=g;break}}if(!d)throw new k("symbolstyleutils:style-not-found","The style '"+a+"' could not be found",{styleName:a});return d.load(c)})}function r(a,b,c){return a.styleUrl?w(a.styleUrl,c):a.styleName?u(a.styleName,b,c):d.reject(new k("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function B(a,b,c,e,f){for(var m=a.data,
n={portal:c.portal,url:g.urlToObject(a.baseUrl),origin:"portal-item"},r=function(d){if(d.name!==b)return"continue";var m=g.fromJSON(G(d,e),n),k=d.thumbnail&&d.thumbnail.href,r=d.thumbnail&&d.thumbnail.imageData;h.isDevEnvironment()&&(m=h.adjustStaticAGOUrl(m),k=h.adjustStaticAGOUrl(k));var u={portal:c.portal,url:g.urlToObject(g.removeFile(m)),origin:"portal-item"};return{value:y(m,f).then(function(d){d="cimRef"===e?x(d.data):d.data;if((d=v.fromJSON(d,u))&&l.isSymbol3D(d)){if(k){var f=g.fromJSON(k,
n);d.thumbnail=new q.default({url:f})}else r&&(d.thumbnail=new q.default({url:"data:image/png;base64,"+r}));a.styleUrl?d.styleOrigin=new p({portal:c.portal,styleUrl:a.styleUrl,name:b}):a.styleName&&(d.styleOrigin=new p({portal:c.portal,styleName:a.styleName,name:b}))}return d})}},u=0,m=m.items;u<m.length;u++){var t=r(m[u]);if("object"===typeof t)return t.value}return d.reject(new k("symbolstyleutils:symbol-name-not-found","The symbol name '"+b+"' could not be found",{symbolName:b}))}function x(a){return null===
a||"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}}function G(a,b){if("cimRef"===b)return a.cimRef;if(a.formatInfos&&!f.enableWebStyleForceWOSR()){b=0;for(var c=a.formatInfos;b<c.length;b++){var d=c[b];if("gltf"===d.type)return d.href}}return a.webRef}function A(a,b,c){var d=E.replace(/\{SymbolName\}/gi,a.name);return y(d,c).then(function(a){a=x(a.data);return v.fromJSON(a,{portal:b.portal,url:g.urlToObject(g.removeFile(d)),origin:"portal-item"})})}function y(a,b){b=n({responseType:"json",
query:{f:"json"}},b);return e(g.normalize(a),b)}Object.defineProperty(c,"__esModule",{value:!0});var C={};c.fetchStyle=r;c.resolveWebStyleSymbol=function(a,b,c,e){return a.name?a.styleName&&"Esri2DPointSymbolsStyle"===a.styleName?A(a,b,e):r(a,b,e).then(function(d){return B(d,a.name,b,c,e)}):d.reject(new k("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};c.fetchSymbolFromStyle=B;c.styleNameFromItem=function(a){var b=0;for(a=a.typeKeywords;b<a.length;b++){var c=
a[b];if(/^Esri.*Style$/.test(c)&&"Esri Style"!==c)return c}};var z="esri_en",D="Style",E="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson"})},"esri/core/devEnvironmentUtils":function(){define(["require","exports","./global"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.isDevEnvironment=function(a){a=a||n.location.hostname;return d.some(function(b){return null!=a.match(b)})};c.adjustStaticAGOUrl=
function(a,b){if(!a)return a;b=b||n.location.hostname;return null!=b.match(e)||null!=b.match(h)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=b.match(l)||null!=b.match(k)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a};c.isTelemetryDevEnvironment=function(a){a=a||n.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(d).some(function(b){return null!=a.match(b)})};var e=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,h=/^[\w-]*\.mapsdevext.arcgis.com$/,k=/^[\w-]*\.mapsqa.arcgis.com$/,
d=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,e,l,/^jsapps.esri.com$/,h,k]})},"esri/support/featureFlags":function(){define(["require","exports","../core/has"],function(a,c,n){function e(a,c){return!!n("enable-feature:"+a+"/"+c)}Object.defineProperty(c,"__esModule",{value:!0});c.hasEnableFeature=e;c.enableWebStyleForceWOSR=function(){return e("jschmid","force-wosr")}})},"esri/layers/support/RasterInfo":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../geometry/Extent ../../tasks/support/FeatureSet".split(" "),
function(a,c,n,e,l,h,k,d,g){return function(a){function b(b){b=a.call(this,b)||this;b.attributeTable=null;b.bandCount=null;b.colormap=null;b.extent=null;b.format=void 0;b.height=null;b.width=null;b.histograms=null;b.keyProperties=null;b.multidimensionalInfo=null;b.noDataValue=null;b.pixelSize=null;b.pixelType=null;b.spatialReference=null;b.statistics=null;b.storageInfo=null;return b}e(b,a);Object.defineProperty(b.prototype,"dataType",{get:function(){var a=this.keyProperties&&this.keyProperties.DataType;
return a?a.toLowerCase():"generic"},enumerable:!0,configurable:!0});l([k.property({type:g,json:{write:!0}})],b.prototype,"attributeTable",void 0);l([k.property({json:{write:!0}})],b.prototype,"bandCount",void 0);l([k.property({json:{write:!0}})],b.prototype,"colormap",void 0);l([k.property({type:String,readOnly:!0})],b.prototype,"dataType",null);l([k.property({type:d,json:{write:!0}})],b.prototype,"extent",void 0);l([k.property({json:{write:!0}})],b.prototype,"format",void 0);l([k.property({json:{write:!0}})],
b.prototype,"height",void 0);l([k.property({json:{write:!0}})],b.prototype,"width",void 0);l([k.property({json:{write:!0}})],b.prototype,"histograms",void 0);l([k.property({json:{write:!0}})],b.prototype,"keyProperties",void 0);l([k.property({json:{write:!0}})],b.prototype,"multidimensionalInfo",void 0);l([k.property()],b.prototype,"noDataValue",void 0);l([k.property({json:{write:!0}})],b.prototype,"pixelSize",void 0);l([k.property({json:{write:!0}})],b.prototype,"pixelType",void 0);l([k.property({json:{write:!0}})],
b.prototype,"spatialReference",void 0);l([k.property({json:{write:!0}})],b.prototype,"statistics",void 0);l([k.property({json:{write:!0}})],b.prototype,"storageInfo",void 0);return b=l([k.subclass("esri.layers.support.RasterInfo")],b)}(k.declared(h.JSONSupport))})},"esri/tasks/support/FeatureSet":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v){var p=new k.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});a=function(a){function c(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}e(c,a);c.prototype.readFeatures=function(a,b){b=m.fromJSON(b.spatialReference);
for(var c=[],d=0;d<a.length;d++){var e=a[d],f=h.fromJSON(e),e=e.geometry&&e.geometry.spatialReference;g.isSome(f.geometry)&&!e&&(f.geometry.spatialReference=b);c.push(f)}return c};c.prototype.writeGeometryType=function(a,b,c,d){if(a)p.write(a,b,c,d);else if(a=this.features)for(var e=0;e<a.length;e++){var f=a[e];if(f&&g.isSome(f.geometry)){p.write(f.geometry.type,b,c,d);break}}};c.prototype.writeSpatialReference=function(a,b){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(var c=0;c<
a.length;c++){var d=a[c];d&&g.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())}};c.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};c.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,e=b[0],f=b[1],b=this.features,h=this._getQuantizationFunction(this.geometryType,
function(a){return Math.round((a-e)/c)},function(a){return Math.round((f-a)/d)}),k=0,m=b.length;k<m;k++)h(g.expect(b[k].geometry))||(b.splice(k,1),k--,m--);this.transform=a;return this};c.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],e=c[1],b=b.scale,f=b[0],h=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+d},function(a){return e-a*h}),c=0;c<a.length;c++){var k=a[c].geometry;g.isSome(k)&&b(k)}return this};
c.prototype._quantizePoints=function(a,b,c){for(var d,e,f=[],g=0,h=a.length;g<h;g++){var k=a[g];if(0<g){var m=b(k[0]),k=c(k[1]);if(m!==d||k!==e)f.push([m-d,k-e]),d=m,e=k}else d=b(k[0]),e=c(k[1]),f.push([d,e])}return 0<f.length?f:null};c.prototype._getQuantizationFunction=function(a,b,c){var d=this;return"point"===a?function(a){a.x=b(a.x);a.y=c(a.y);return a}:"polyline"===a||"polygon"===a?function(a){for(var e=f.isPolygon(a)?a.rings:a.paths,g=[],h=0,k=e.length;h<k;h++){var m=d._quantizePoints(e[h],
b,c);m&&g.push(m)}return 0<g.length?(f.isPolygon(a)?a.rings=g:a.paths=g,a):null}:"multipoint"===a?function(a){var e;e=d._quantizePoints(a.points,b,c);return 0<e.length?(a.points=e,a):null}:"extent"===a?function(a){return a}:null};c.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=f.isPolygon(a)?a.rings:a.paths;for(var d,e,g=0,h=a.length;g<h;g++)for(var k=a[g],m=0,l=k.length;m<l;m++){var p=
k[m];0<m?(d+=p[0],e+=p[1]):(d=p[0],e=p[1]);p[0]=b(d);p[1]=c(e)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,f=0,g=a.length;f<g;f++){var h=a[f];0<f?(d+=h[0],e+=h[1]):(d=h[0],e=h[1]);h[0]=b(d);h[1]=c(e)}}};n([b.property({type:String,json:{write:!0}})],c.prototype,"displayFieldName",void 0);n([b.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
c.prototype,"exceededTransferLimit",void 0);n([b.property({type:[h],json:{write:!0}})],c.prototype,"features",void 0);n([b.reader("features")],c.prototype,"readFeatures",null);n([b.property({type:[v],json:{write:!0}})],c.prototype,"fields",void 0);n([b.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:p.read}}})],c.prototype,"geometryType",void 0);n([b.writer("geometryType")],c.prototype,"writeGeometryType",null);n([b.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
c.prototype,"hasM",void 0);n([b.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],c.prototype,"hasZ",void 0);n([b.property({types:l.geometryTypes,json:{read:f.fromJSON,write:!0}})],c.prototype,"queryGeometry",void 0);n([b.property({type:m,json:{write:!0}})],c.prototype,"spatialReference",void 0);n([b.writer("spatialReference")],c.prototype,"writeSpatialReference",null);n([b.property({json:{write:!0}})],c.prototype,"transform",void 0);return c=n([b.subclass("esri.tasks.support.FeatureSet")],
c)}(b.declared(d.JSONSupport));a.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(a||(a={}));return a})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(a,c,n,e,l,h,k,d,g,b,m,f,v,p){a=function(a){function c(b,
c,d,e){b=a.call(this,b,c,d,e)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:g.generateUID()});return b}e(c,a);g=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(c.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,
configurable:!0});c.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&m.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};c.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};c.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",
c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};c.prototype.getObjectId=function(){return this.sourceLayer?"type"in this.sourceLayer&&"stream"===this.sourceLayer.type?this.getAttribute("__esri_stream_id__"):this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};c.prototype.toJSON=function(){return{geometry:m.isSome(this.geometry)?this.geometry.toJSON():null,symbol:m.isSome(this.symbol)?this.symbol.toJSON():null,attributes:n({},
this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};c.prototype.clone=function(){return new g(this.cloneProperties())};c.prototype.cloneProperties=function(){return{attributes:b.clone(this.attributes),geometry:b.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:b.clone(this.symbol),visible:this.visible}};c.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&
(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var g;l([f.property({value:null})],c.prototype,"attributes",null);l([f.property({value:null,types:h.geometryTypes,json:{read:v.fromJSON}})],c.prototype,"geometry",null);l([f.property()],c.prototype,"layer",void 0);l([f.property({type:k})],c.prototype,"popupTemplate",void 0);l([f.property()],c.prototype,"sourceLayer",void 0);l([f.property({value:null,types:d.symbolTypes,json:{read:p.read}})],
c.prototype,"symbol",null);l([f.property({type:Boolean,value:!0})],c.prototype,"visible",null);return c=g=l([f.subclass("esri.Graphic")],c)}(f.declared(g.JSONSupport));var q=0;(function(a){a.generateUID=function(){return q++}})(a||(a={}));return a})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper ./core/arrayUtils ./core/Collection ./core/iteratorUtils ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v,p,q,w,u,t,r,B,x,G,A,y,C,z,D,E,H,F,J){var L=g.ofType({key:"type",defaultKeyValue:"button",base:H,typeMap:{button:F,toggle:J}}),M={base:y,key:"type",typeMap:{media:z,text:D,attachments:A,fields:C}},I=v.getLogger("esri.PopupTemplate");return function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}e(c,a);m=c;c.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return w.ensureOneOfType(M,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||p.isPromiseLike(a))return a;I.error("content error","unsupported content value",{value:a});return null};c.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):this._readPopupInfo(b)};c.prototype.writeContent=
function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};c.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var d=c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):
!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();d||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var e=c[a];"fields"===e.type&&this._writeFieldsContent(e,b)}};c.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};c.prototype.writeTitle=function(a,b){b.title=a||""};c.prototype.clone=function(){var a=this.actions,a=a?f.clone(a.toArray()):[];return new m({actions:a,content:Array.isArray(this.content)?
f.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?f.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?f.clone(this.fieldInfos):null,layerOptions:this.layerOptions?f.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?f.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?f.clone(this.relatedRecordsInfo):
null})};c.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),u.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};c.prototype.getRequiredFields=function(a){return k(this,void 0,void 0,function(){var c;return h(this,
function(d){switch(d.label){case 0:return c=new Set,[4,this.collectRequiredFields(c,a)];case 1:return d.sent(),[2,b.valuesOfSet(c).sort()]}})})};c.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=f.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=d.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};c.prototype._writeAttachmentContent=
function(a){a.showAttachments||(a.showAttachments=!0)};c.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};c.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=f.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=b.mediaInfos.concat(a):b.mediaInfos=a)};c.prototype._readPopupInfoElements=function(a){var b=a.description,c=a.mediaInfos,d=!1,e=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||
!c||e||(a.mediaInfos=c,e=!0),z.fromJSON(a);if("text"===a.type)return a.text||!b||d||(a.text=b,d=!0),D.fromJSON(a);if("attachments"===a.type)return A.fromJSON(a);if("fields"===a.type)return C.fromJSON(a)}).filter(Boolean)};c.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var d=[];b?d.push(new D({text:b})):d.push(new C);Array.isArray(c)&&c.length&&d.push(z.fromJSON({mediaInfos:c}));a&&d.push(A.fromJSON({displayType:"list"}));return d.length?d:b};c.prototype._getContentElementFields=
function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};c.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,e=void 0===d?[]:d,d=c.normalizeField,f=c.tooltipField,g=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),
this._extractFieldNames(g),this._extractFieldNames(c),e);d&&a.push(d);f&&a.push(f);return a};c.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};c.prototype._collectExpressionInfoFields=function(a,b,c){return k(this,void 0,void 0,function(){return h(this,function(d){switch(d.label){case 0:return c?[4,p.all(c.map(function(c){return u.collectArcadeFieldNames(a,
b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};c.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};c.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};c.prototype._getActionFields=function(a){var b=
a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};c.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};c.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,
"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var m;l([q.property({type:L})],c.prototype,"actions",void 0);l([q.property()],c.prototype,"content",void 0);l([q.cast("content")],c.prototype,"castContent",null);l([q.reader("content",["description","popupElements","mediaInfos","showAttachments"])],c.prototype,"readContent",null);l([q.writer("content",{popupElements:{type:g.ofType(t.types)},showAttachments:{type:Boolean},mediaInfos:{type:g.ofType(E.types)},description:{type:String}})],c.prototype,
"writeContent",null);l([q.property({type:[r],json:{write:!0}})],c.prototype,"expressionInfos",void 0);l([q.property({type:[B]})],c.prototype,"fieldInfos",void 0);l([q.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);l([q.property({type:x})],c.prototype,"layerOptions",void 0);l([q.writer("layerOptions")],c.prototype,"writeLayerOptions",null);l([q.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],c.prototype,"lastEditInfoEnabled",
void 0);l([q.property()],c.prototype,"outFields",void 0);l([q.property()],c.prototype,"overwriteActions",void 0);l([q.property({json:{type:String}})],c.prototype,"title",void 0);l([q.writer("title")],c.prototype,"writeTitle",null);l([q.property({type:G,json:{write:!0}})],c.prototype,"relatedRecordsInfo",void 0);return c=m=l([q.subclass("esri.PopupTemplate")],c)}(q.declared(m.JSONSupport))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,c,n,e,l,h,k){Object.defineProperty(c,"__esModule",{value:!0});c.AttachmentsContent=n;c.BaseContent=e;c.FieldsContent=l;c.MediaContent=h;c.TextContent=k;c.isContent=function(a){return a instanceof e};c.types={base:null,key:"type",typeMap:{attachment:n,fields:l,media:h,text:k}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({displayType:this.displayType,attachmentInfos:this.attachmentInfos?l.clone(this.attachmentInfos):null})};var c;e([h.property({type:[k]})],b.prototype,"attachmentInfos",void 0);e([h.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);e([h.property({type:["attachments"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=e([h.subclass("esri.popup.content.AttachmentsContent")],b)}(h.declared(d))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),function(a,c,n,e,l,h,k,d){var g={1:{id:1,rotation:0,mirrored:!1},2:{id:2,
rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this,b)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.globalId=null;b.keywords=null;b.name=null;b.parentGlobalId=null;b.parentObjectId=null;b.size=null;b.url=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"orientationInfo",
{get:function(){var a=d.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return g[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;e([h.property({type:String})],b.prototype,"contentType",void 0);e([h.property()],
b.prototype,"exifInfo",void 0);e([h.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);e([h.property({type:k.Integer})],b.prototype,"id",void 0);e([h.property({type:String})],b.prototype,"globalId",void 0);e([h.property({type:String})],b.prototype,"keywords",void 0);e([h.property({type:String})],b.prototype,"name",void 0);e([h.property({json:{read:!1}})],b.prototype,"parentGlobalId",void 0);e([h.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);e([h.property({type:k.Integer})],
b.prototype,"size",void 0);e([h.property({json:{read:!1}})],b.prototype,"url",void 0);return b=c=e([h.subclass("esri.layers.support.AttachmentInfo")],b)}(h.declared(l.JSONSupport))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(a,c,n){function e(a){var c=a.tagName;a=a.tags;return a&&c?(a=n.find(a,function(a){return a.name===c}))&&a.value||null:null}Object.defineProperty(c,"__esModule",{value:!0});c.getExifValue=function(a){var c=a.exifInfo,
k=a.exifName;a=a.tagName;return c&&k&&a?(c=n.find(c,function(a){return a.name===k}))?e({tagName:a,tags:c.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){return function(a){function c(c){c=a.call(this,c)||this;c.type=null;return c}n(c,a);e([h.property({type:["attachments","fields","media","text"],
readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e([h.subclass("esri.popup.content.Content")],c)}(h.declared(l.JSONSupport))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";
return b}n(b,a);c=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?l.clone(this.fieldInfos):null})};var c;e([h.property({type:[k]})],b.prototype,"fieldInfos",void 0);e([h.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);e([h.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=e([h.subclass("esri.popup.content.FieldsContent")],
b)}(h.declared(d))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(a,c,n,e,l,h,k,d,g){var b=new l.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function c(b){b=a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;
b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}n(c,a);h=c;c.prototype.writeStringFieldOption=function(a,c){c.stringFieldOption=b.toJSON(a)};c.prototype.readStringFieldOption=function(a){if(a)return b.fromJSON(a)};c.prototype.clone=function(){return new h({fieldName:this.fieldName,format:this.format?k.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,
visible:this.visible})};var h;e([d.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);e([d.property({type:g,json:{write:!0}})],c.prototype,"format",void 0);e([d.property({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"isEditable",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([d.property({type:b.apiValues,json:{write:!0,default:"text-box",type:b.jsonValues}})],c.prototype,"stringFieldOption",void 0);e([d.writer("stringFieldOption")],
c.prototype,"writeStringFieldOption",null);e([d.reader("stringFieldOption")],c.prototype,"readStringFieldOption",null);e([d.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);e([d.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);e([d.property({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0);return c=h=e([d.subclass("esri.popup.FieldInfo")],c)}(d.declared(h.JSONSupport))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),
function(a,c,n,e,l,h,k,d,g,b){return function(a){function c(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}n(c,a);h=c;c.prototype.clone=function(){return new h({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};c.prototype.format=function(a){return this.dateFormat?g.formatDate(a,g.convertDateFormatToIntlOptions(this.dateFormat)):b.formatNumber(a,b.convertNumberFormatToIntlOptions(this))};var h;e([k.enumeration.serializable()(l.dictionary)],
c.prototype,"dateFormat",void 0);e([k.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",void 0);e([k.property({type:d.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=h=e([k.subclass("esri.popup.support.FieldInfoFormat")],c)}(k.declared(h.JSONSupport))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};c.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});c.toJSON=c.dictionary.toJSON.bind(c.dictionary);c.fromJSON=c.dictionary.fromJSON.bind(c.dictionary);c.getFormat=function(a){return c.formats[a]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,c,n,e,l,h){function k(a){a=a||w;if(!q.has(a)){var b=h.getLocale(),b=p[h.getLocale()]||b;q.set(a,new Intl.DateTimeFormat(b,
a))}return q.get(a)}Object.defineProperty(c,"__esModule",{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var d={year:"numeric",month:"long",day:"numeric"},g={year:"numeric",month:"short",day:"numeric"},b={year:"numeric",month:"long",weekday:"long",day:"numeric"},m={hour:"numeric",minute:"numeric"},f=n({},m,{second:"numeric"}),v={"short-date":a,"short-date-short-time":n({},a,m),"short-date-short-time-24":n({},a,m,{hour12:!1}),"short-date-long-time":n({},a,f),"short-date-long-time-24":n({},
a,f,{hour12:!1}),"short-date-le":a,"short-date-le-short-time":n({},a,m),"short-date-le-short-time-24":n({},a,m,{hour12:!1}),"short-date-le-long-time":n({},a,f),"short-date-le-long-time-24":n({},a,f,{hour12:!1}),"long-month-day-year":d,"long-month-day-year-short-time":n({},d,m),"long-month-day-year-short-time-24":n({},d,m,{hour12:!1}),"long-month-day-year-long-time":n({},d,f),"long-month-day-year-long-time-24":n({},d,f,{hour12:!1}),"day-short-month-year":g,"day-short-month-year-short-time":n({},g,
m),"day-short-month-year-short-time-24":n({},g,m,{hour12:!1}),"day-short-month-year-long-time":n({},g,f),"day-short-month-year-long-time-24":n({},g,f,{hour12:!1}),"long-date":b,"long-date-short-time":n({},b,m),"long-date-short-time-24":n({},b,m,{hour12:!1}),"long-date-long-time":n({},b,f),"long-date-long-time-24":n({},b,f,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":m,"long-time":f};c.dictionary=l.strict()({shortDate:"short-date",
shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});c.dateFormats=c.dictionary.apiValues;c.toJSON=c.dictionary.toJSON.bind(c.dictionary);c.fromJSON=c.dictionary.fromJSON.bind(c.dictionary);var p={ar:"ar-u-nu-latn-ca-gregory"},q=new e.default,w=v["short-date-short-time"];h.onLocaleChange(function(){q=new e.default;w=v["short-date-short-time"]});
c.getDateTimeFormatter=k;c.convertDateFormatToIntlOptions=function(a){return v[a]||null};c.formatDate=function(a,b){return k(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,c){Object.defineProperty(c,"__esModule",{value:!0});var n=
a("tslib"),e=a("./global"),l=a("./iterator"),h=a("../has/has");a("./Symbol");c.WeakMap=e.default.WeakMap;if(!h.default("es6-weakmap")){var k={},d=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();c.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=d();this._frozenEntries=[];if(a)if(l.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(b=n.__values(a),c=b.next();!c.done;c=
b.next()){var e=n.__read(c.value,2);this.set(e[0],e[1])}}catch(w){g={error:w}}finally{try{c&&!c.done&&(h=b.return)&&h.call(b)}finally{if(g)throw g.error;}}var g,h}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==k)return b.value=k,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,
1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==k)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==k||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,c){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var b=
a[this._name];b&&b.key===a||(b=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(b):Object.defineProperty(a,this._name,{value:b}));b.value=c;return this};return a}()}c.default=c.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});var e=n.locale;c.getLocale=function(){return e};c.setLocale=function(a){e=a;l.slice().forEach(function(c){c.call(null,a)})};var l=[];c.onLocaleChange=
function(a){l.push(a);return{remove:function(){l.splice(l.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper","@dojo/framework/shim/WeakMap","./locale"],function(a,c,n,e,l){function h(a){var b=a||g;if(!d.has(b)){var c=l.getLocale(),c=k[l.getLocale()]||c;d.set(b,new Intl.NumberFormat(c,a))}return d.get(b)}Object.defineProperty(c,"__esModule",{value:!0});var k={ar:"ar-u-nu-arab"},d=new e.default,g={};l.onLocaleChange(function(){d=new e.default;
g={}});c.getFormatter=h;c.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};c.formatNumber=function(a,c){return h(c).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,c,n,e,l,h,k,d,g,b,m,f,v){return function(a){function c(b){b=a.call(this,b)||this;b.mediaInfos=null;b.type="media";return b}n(c,a);g=c;c.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return b.fromJSON(a);if("barchart"===a.type)return k.fromJSON(a);if("columnchart"===a.type)return d.fromJSON(a);if("linechart"===a.type)return m.fromJSON(a);if("piechart"===a.type)return f.fromJSON(a)}).filter(Boolean)};c.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new g({mediaInfos:this.mediaInfos?l.clone(this.mediaInfos):null})};var g;e([h.property({types:[v.types]})],c.prototype,"mediaInfos",void 0);e([h.reader("mediaInfos")],c.prototype,"readMediaInfos",null);e([h.writer("mediaInfos")],c.prototype,"writeMediaInfos",null);e([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=e([h.subclass("esri.popup.content.MediaContent")],c)}(h.declared(g))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="bar-chart";return b}n(c,a);b=c;c.prototype.clone=function(){return new b({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var b;
e([l.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=b=e([l.subclass("esri.popup.content.BarChartMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,c,
n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}n(c,a);e([l.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);e([l.property({type:k,json:{write:!0}})],c.prototype,"value",void 0);return c=e([l.subclass("esri.popup.content.mixins.ChartMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){return function(a){function c(c){c=a.call(this,c)||this;c.caption="";c.title="";c.type=null;return c}n(c,a);e([h.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);e([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e([h.subclass("esri.popup.content.mixins.MediaInfo")],c)}(h.declared(l.JSONSupport))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({fields:h.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;e([k.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);e([k.property({type:[d],json:{read:!1}})],b.prototype,"series",void 0);e([k.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=c=e([k.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(k.declared(l.JSONSupport))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.tooltip=null;b.x=null;b.y=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({tooltip:this.tooltip,x:this.x,y:this.y})};var g;e([h.property()],c.prototype,"tooltip",void 0);e([h.property()],c.prototype,"x",void 0);e([h.property()],c.prototype,"y",void 0);return c=g=e([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],c)}(h.declared(l))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.chartTypeKebabDict=n.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,c,
n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="column-chart";return b}n(c,a);b=c;c.prototype.clone=function(){return new b({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var b;e([l.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=b=e([l.subclass("esri.popup.content.ColumnChartMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}n(c,a);b=c;c.prototype.clone=function(){return new b({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var b;e([l.property({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0);e([l.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);e([l.property({type:k,
json:{write:!0}})],c.prototype,"value",void 0);return c=b=e([l.subclass("esri.popup.content.ImageMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}n(c,
a);g=c;c.prototype.clone=function(){return new g({linkURL:this.linkURL,sourceURL:this.sourceURL})};var g;e([h.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=g=e([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)}(h.declared(l.JSONSupport))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="line-chart";return b}n(c,a);b=c;c.prototype.clone=function(){return new b({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var b;e([l.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=b=e([l.subclass("esri.popup.content.LineChartMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,n,e,l,h,k){return function(a){function c(b){b=a.call(this,b)||this;b.type="pie-chart";return b}n(c,a);b=c;c.prototype.clone=function(){return new b({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var b;e([l.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:k.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=b=e([l.subclass("esri.popup.content.PieChartMediaInfo")],c)}(l.declared(h))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,c,n,e,l,h,k,d){Object.defineProperty(c,"__esModule",{value:!0});c.types={base:d,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n,"column-chart":e,"line-chart":h,"pie-chart":k,image:l}};c.default=c.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,
b)||this;b.text=null;b.type="text";return b}n(c,a);g=c;c.prototype.clone=function(){return new g({text:this.text})};var g;e([l.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);e([l.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=e([l.subclass("esri.popup.content.TextContent")],c)}(l.declared(h))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var g;e([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);e([h.property({type:String,json:{write:!0}})],c.prototype,
"expression",void 0);e([h.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=g=e([h.subclass("esri.popup.ExpressionInfo")],c)}(h.declared(l.JSONSupport))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.returnTopmostRaster=
null;b.showNoDataRecords=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var g;e([h.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);e([h.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",void 0);return c=g=e([h.subclass("esri.popup.LayerOptions")],c)}(h.declared(l.JSONSupport))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,c,n,e,l,h,k,d){return function(a){function b(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var c;e([k.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);e([k.property({type:[d],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=c=e([k.subclass("esri.popup.RelatedRecordsInfo")],
b)}(k.declared(l.JSONSupport))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({field:this.field,order:this.order})};var g;e([h.property({type:String,
json:{write:!0}})],c.prototype,"field",void 0);e([h.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=g=e([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)}(h.declared(l.JSONSupport))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,c,n,e,l,h,
k){return function(a){function c(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}n(c,a);b=c;c.prototype.clone=function(){return new b({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var b;e([k.property()],c.prototype,"active",void 0);e([k.property()],c.prototype,"className",void 0);e([k.property()],c.prototype,
"disabled",void 0);e([k.property()],c.prototype,"id",void 0);e([k.property()],c.prototype,"indicator",void 0);e([k.property()],c.prototype,"title",void 0);e([k.property()],c.prototype,"type",void 0);e([k.property()],c.prototype,"visible",void 0);return c=b=e([k.subclass("esri.support.actions.ActionBase")],c)}(k.declared(h.IdentifiableMixin(l)))})},"esri/core/Identifiable":function(){define(["require","exports","./tsSupport/declareExtendsHelper","./tsSupport/decorateHelper","./accessorSupport/decorators"],
function(a,c,n,e,l){Object.defineProperty(c,"__esModule",{value:!0});var h=0;c.IdentifiableMixin=function(a){return function(a){function c(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h++});return b}n(c,a);return c=e([l.subclass("esri.core.Identifiable")],c)}(l.declared(a))};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}n(c,a);return c=
e([l.subclass("esri.core.Identifiable")],c)}(l.declared(c.IdentifiableMixin(function(){return function(){}}())));c.Identifiable=a})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,c,n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.image=null;b.type="button";return b}n(c,a);g=c;c.prototype.clone=function(){return new g({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var g;e([l.property()],c.prototype,"image",void 0);return c=g=e([l.subclass("esri.support.Action.ActionButton")],c)}(l.declared(h))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,c,
n,e,l,h){return function(a){function c(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}n(c,a);g=c;c.prototype.clone=function(){return new g({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var g;e([l.property()],c.prototype,"image",void 0);e([l.property()],c.prototype,"value",void 0);return c=g=e([l.subclass("esri.support.Action.ActionToggle")],
c)}(l.declared(h))})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(a,c,n,e,l,h,k,d,g,b){var m=new l.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",
measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function c(b){b=a.call(this,b)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}n(c,a);f=c;c.prototype.readDescription=function(a,b){a=b.description;var c;
try{c=JSON.parse(a)}catch(t){}return c?c.value:null};c.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(t){}return c?m.fromJSON(c.fieldValueType):null};c.prototype.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var f;e([k.property({type:String,
json:{write:!0}})],c.prototype,"alias",void 0);e([k.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);e([k.property()],c.prototype,"description",void 0);e([k.reader("description")],c.prototype,"readDescription",null);e([k.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);e([k.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);e([k.property({type:d.Integer,json:{write:!0}})],c.prototype,
"length",void 0);e([k.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);e([k.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);e([k.enumeration.serializable()(b.kebabDict)],c.prototype,"type",void 0);e([k.property()],c.prototype,"valueType",void 0);e([k.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=f=e([k.subclass("esri.layers.support.Field")],c)}(k.declared(h.JSONSupport))})},"esri/layers/support/fieldType":function(){define(["require",
"exports","../../core/jsonMap"],function(a,c,n){Object.defineProperty(c,"__esModule",{value:!0});c.kebabDict=new n.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",
esriFieldTypeXML:"xml"})})},"*noref":1}});
define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ./PixelBlock ./rasterFormats/RasterCodec ./rasterFunctions/pixelUtils ../../renderers/support/RasterSymbolizer".split(" "),function(a,c,n,e,l,h,k,d){return function(){function a(){}a.prototype.decode=function(a){return e(this,void 0,void 0,function(){var b;return n(this,function(c){switch(c.label){case 0:return[4,h.decode(a.data,a.options)];case 1:return b=c.sent(),[2,b&&b.toJSON()]}})})};a.prototype.symbolize=
function(a){return e(this,void 0,void 0,function(){var b;return n(this,function(c){b=this.symbolizer.symbolize(l.fromJSON(a));return[2,b&&b.toJSON()]})})};a.prototype.updateSymbolizer=function(a){return e(this,void 0,void 0,function(){return n(this,function(b){this.symbolizer=d.fromJSON(a.symbolizerJSON);a.histograms&&this.symbolizer&&this.symbolizer.renderer&&"histograms"in this.symbolizer.renderer&&(this.symbolizer.renderer.histograms=a.histograms);return[2]})})};a.prototype.mosaicAndTransform=
function(a){return e(this,void 0,void 0,function(){var b,c,d;return n(this,function(e){b=a.srcPixelBlocks.map(function(a){return a?new l(a):null});c=k.mosaic(b,a.srcMosaicSize);if(!a.coefs)return[2,c&&c.toJSON()];d=k.approximateTransform(c,a.destDimension,a.coefs,a.sampleSpacing);return[2,d&&d.toJSON()]})})};return a}()});