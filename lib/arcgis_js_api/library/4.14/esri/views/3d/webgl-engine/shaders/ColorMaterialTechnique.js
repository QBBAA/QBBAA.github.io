// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./ColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),function(k,g,h,c,e,l,m,
n,p,b,q,r,t,f){Object.defineProperty(g,"__esModule",{value:!0});e=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}h(a,b);a.prototype.initializeProgram=function(d){var b=a.shader.get(),c=this.configuration,b=b.build({attributeColor:c.vertexColors,slicePlaneEnabled:c.slicePlaneEnabled,sliceHighlightDisabled:c.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new t(d.rctx,b.generateSource("vertex"),b.generateSource("fragment"),q.Default3D)};a.prototype.bindPass=
function(d,a,b){this.program.setUniform4fv("eColor",a.color)};a.prototype.bindDraw=function(d){m.Transform.bindUniforms(this.program,d);l.Slice.bindUniformsWithOrigin(this.program,this.configuration,d)};a.prototype.initializePipeline=function(){var d=this.configuration,a=0===d.output?d.transparent&&f.separateBlendingParams(770,1,771,771):null;return f.makePipelineState({blending:a,polygonOffset:d.polygonOffset&&{factor:1,units:1},culling:function(a){return 0!==a&&{face:1===a?1028:1029,mode:2305}}(d.cullFace),
depthTest:{func:513},depthWrite:d.writeDepth&&f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams})};a.prototype.bindPipelineState=function(a){a.setPipelineState(this.pipeline)};a.shader=new n.ReloadableShaderModule(r,"./ColorMaterial.glsl",k);return a}(p.ShaderTechnique);g.ColorMaterialTechnique=e;e=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;a.output=0;a.cullFace=0;a.slicePlaneEnabled=!1;a.sliceHighlightDisabled=!1;a.vertexColors=!1;a.transparent=!1;a.polygonOffset=
!1;a.writeDepth=!0;return a}h(a,e);c([b.parameter({count:7})],a.prototype,"output",void 0);c([b.parameter({count:3})],a.prototype,"cullFace",void 0);c([b.parameter()],a.prototype,"slicePlaneEnabled",void 0);c([b.parameter()],a.prototype,"sliceHighlightDisabled",void 0);c([b.parameter()],a.prototype,"vertexColors",void 0);c([b.parameter()],a.prototype,"transparent",void 0);c([b.parameter()],a.prototype,"polygonOffset",void 0);c([b.parameter()],a.prototype,"writeDepth",void 0);return a}(b.ShaderTechniqueConfiguration);
g.ColorMaterialTechniqueConfiguration=e});