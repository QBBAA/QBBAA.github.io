// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.15/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper ../../../core/tsSupport/assignHelper ../../../core/Error ../statistics/summaryStatisticsForAge ../statistics/support/ageUtils ../support/utils".split(" "),function(y,z,t,u,A,l,m,v,w){function x(a){var d=Math.abs(a.avg),b=null;v.supportedAgeUnits.some(function(a){d>2*w.unitValueInDays[a]&&(b=a);return!!b});return b}return function(a){return u(this,void 0,void 0,function(){var d,b,n,p,q,r,g,e,f,c,h;
return t(this,function(k){switch(k.label){case 0:return d=a.view,b=a.layer,n=a.startTime,p=a.endTime,q=a.minValue,r=a.maxValue,g="days",e={view:d,layer:b,startTime:n,endTime:p,unit:g,minValue:q,maxValue:r},[4,m(e)];case 1:f=k.sent();if(null==f.avg)throw new l("age-unit:insufficient-info","'avg' statistics is invalid");c=x(f);if(c===g)return[2,{unit:c,statistics:f}];e.unit=c;return[4,m(e)];case 2:h=k.sent();if(null==h.avg)throw new l("age-unit:insufficient-info","'avg' statistics is invalid");return[2,
{unit:c,statistics:h}]}})})}});